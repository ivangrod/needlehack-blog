



<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Database - Home Assistant</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Details about the database used by Home Assistant.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://www.home-assistant.io/docs/backend/database/">

    <meta property="fb:app_id" content="338291289691179">
    <meta property="og:title" content="Database">
    <meta property="og:site_name" content="Home Assistant">
    <meta property="og:url" content="https://www.home-assistant.io/docs/backend/database/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Details about the database used by Home Assistant.">
    <meta property="og:image" content="https://ivangrod.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@home_assistant">
    
    <meta name="twitter:title" content="Database">
    <meta name="twitter:description" content="Details about the database used by Home Assistant.">
    <meta name="twitter:image" content="https://ivangrod.github.io/images/default-social.png">
    <link rel="me" href="https://fosstodon.org/@homeassistant">

    <link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3/dist/style.min.css" rel="stylesheet" />
    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?3d79f9acc1b3464b313d68cd5a171ca1" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Home Assistant" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&amp;family=Instrument+Sans:ital,wdth,wght@0,99,400..700;1,99,400..700&amp;" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js"></script>
  </head>

  <body  class="documentation-page   ">
    <header class='site-header '>
      



<div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/needlehack-blog/" class="site-title">
        <div class="logo"></div>
      </a>
      <a class="release-date" href="/blog/2025/09/03/release-20259/" title="Latest version 2025.9.4 released September 19, 2025">
        2025.9.4
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle" />
        <label
          for="toggle"
          class="toggle"
          data-open="Main Menu"
          data-close="⨉"
        ></label>
        <ul class="menu pull-right">
          <li><a  href="/needlehack-blog/installation/">Getting started</a></li>
          <li>
            <a class="active" href="/needlehack-blog/docs/">Documentation <iconify-icon inline icon='mdi:chevron-down' title='Chevron down'></iconify-icon></a>
            <ul>
              <li><a href="/needlehack-blog/installation/"><iconify-icon inline icon='simple-icons:homeassistant' title='Homeassistant'></iconify-icon> Installation</a></li>
              <li><a href="/needlehack-blog/docs/automation/"><iconify-icon inline icon='mdi:robot-happy' title='Robot happy'></iconify-icon> Automations</a></li>
              <li><a href="/needlehack-blog/dashboards/"><iconify-icon inline icon='mdi:gauge' title='Gauge'></iconify-icon> Dashboards</a></li>
              <li><a href="/needlehack-blog/voice_control/"><iconify-icon inline icon='mdi:comment-processing-outline' title='Comment processing outline'></iconify-icon> Voice assistants</a></li>
              <li><a href="/needlehack-blog/docs/organizing/"><iconify-icon inline icon='mdi:view-grid' title='View grid'></iconify-icon> Device organization</a></li>
              <li><a href="/needlehack-blog/docs/energy/"><iconify-icon inline icon='mdi:solar-power-variant' title='Solar power variant'></iconify-icon> Energy management</a></li>
              <li><a href="/needlehack-blog/docs/configuration/"><iconify-icon inline icon='mdi:cog' title='Cog'></iconify-icon> Advanced configuration</a></li>
            </ul>
          </li>
          <li><a  href="/needlehack-blog/integrations/">Integrations</a></li>
          <li><a  href="/needlehack-blog/blog/">Blog</a></li>
          <li><a  href="/needlehack-blog/help/">Need help?</a></li>
          <li>
            <div class="docsearch" id="docsearch"></div>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>

    </header>

    <div class="page-content">

      

      <div class="grid-wrapper">
        <div class="grid grid-center">

          <aside id="toc-bar" class="grid__item desk-wide-one-sixth">
                <section class="aside-module grid__item one-whole">
                  <div class='section'>
                    <h1 class="title epsilon"><iconify-icon inline icon='mdi:toc' title='Toc'></iconify-icon> On this page</h1>
                    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h3"><a href="#schema">Schema</a></li>
<li class="toc-entry toc-h3"><a href="#query">Query</a></li>
<li class="toc-entry toc-h3"><a href="#delete">Delete</a></li>
</ul>
                  </div>
                </section>
              </aside> 

          
          <div class="grid__item two-thirds desk-wide-seven-twelfths lap-one-whole palm-one-whole">
          

            
              <article class="page">
  
  <header>
    
    
      <div class="breadcrumbs">
        <a href="/needlehack-blog/">Home</a>
        
          
            
            ▸ <a href="/docs/">Documentation</a>
          
        
          
            
            ▸ <a href="/docs/backend/">Backend</a>
          
        
          
            ▸ 
          
        
      </div>
    
    <h1 class="title indent">
      
        Database
      
    </h1>
  </header>
  
  
  <p>Home Assistant uses databases to store <span class="terminology">events<span class="terminology-tooltip">Every time something happens in Home Assistant, an event is fired. There are different types of events, such as state change events, when an action was triggered, or the time changed. All entities produce state change events. Every time a state changes, a state change event is produced. Events can be used to trigger automations or scripts. For example, you can trigger an automation when a light is turned on, then a speaker turns on in that room. Events can also be used to trigger actions in the frontend. For example, you can trigger an action when a button is pressed.<a class="terminology-link" href="/docs/configuration/events/"> [Learn more]</a></span></span> and parameters for history and tracking. The default database used is <a href="https://www.sqlite.org/" rel="external nofollow">SQLite<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</p>
<p>The database file is stored in your <a href="/docs/configuration/#to-find-the-configuration-directory">configuration directory</a> (e.g., <code>&lt;path to config dir&gt;/home-assistant_v2.db</code>); however, other databases can be used. If you prefer to run a database server (e.g.,  PostgreSQL), use the <a href="/integrations/recorder/"><code>recorder</code></a> integration.</p>
<p>To work with SQLite database manually from the command-line, you will need an <a href="https://www.sqlitetutorial.net/download-install-sqlite/" rel="external nofollow">installation<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> of <code>sqlite3</code>. Alternatively <a href="https://sqlitebrowser.org/" rel="external nofollow">DB Browser for SQLite<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> provides a viewer for exploring the database data and an editor for executing SQL commands.
First load your database with <code>sqlite3</code>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash"><span class="nv">$ </span>sqlite3 home-assistant_v2.db
SQLite version 3.13.0 2016-05-18 10:57:30
Enter <span class="s2">".help"</span> <span class="k">for </span>usage hints.
sqlite&gt;
</code></pre></div></div>
<p>It helps to set some options to make the output more readable:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">sqlite&gt; .header on
sqlite&gt; .mode column
</code></pre></div></div>
<p>You could also start <code>sqlite3</code> and attach the database later. Not sure what database you are working with? Check it, especially if you are going to delete data.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">sqlite&gt; .databases
<span class="nb">seq  </span>name             file
<span class="nt">---</span>  <span class="nt">---------------</span>  <span class="nt">----------------------------------------------------------</span>
0    main             /home/fab/.homeassistant/home-assistant_v2.db
</code></pre></div></div>
<h3>Schema <a class="title-link" name="schema" href="#schema"></a>
</h3>
<p>Get all available tables from your current Home Assistant database:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">sqlite&gt; SELECT sql FROM sqlite_master<span class="p">;</span>

<span class="nt">-------------------------------------------------------------------------------------</span>
CREATE TABLE event_data <span class="o">(</span>
        data_id INTEGER NOT NULL,
        <span class="nb">hash </span>BIGINT,
        shared_data TEXT,
        PRIMARY KEY <span class="o">(</span>data_id<span class="o">)</span>
<span class="o">)</span>

CREATE TABLE event_types <span class="o">(</span>
        event_type_id INTEGER NOT NULL,
        event_type VARCHAR<span class="o">(</span>64<span class="o">)</span>,
        PRIMARY KEY <span class="o">(</span>event_type_id<span class="o">)</span>
<span class="o">)</span>

CREATE TABLE state_attributes <span class="o">(</span>
        attributes_id INTEGER NOT NULL,
        <span class="nb">hash </span>BIGINT,
        shared_attrs TEXT,
        PRIMARY KEY <span class="o">(</span>attributes_id<span class="o">)</span>
<span class="o">)</span>

CREATE TABLE states_meta <span class="o">(</span>
        metadata_id INTEGER NOT NULL,
        entity_id VARCHAR<span class="o">(</span>255<span class="o">)</span>,
        PRIMARY KEY <span class="o">(</span>metadata_id<span class="o">)</span>
<span class="o">)</span>

CREATE TABLE statistics_meta <span class="o">(</span>
        <span class="nb">id </span>INTEGER NOT NULL,
        statistic_id VARCHAR<span class="o">(</span>255<span class="o">)</span>,
        <span class="nb">source </span>VARCHAR<span class="o">(</span>32<span class="o">)</span>,
        unit_of_measurement VARCHAR<span class="o">(</span>255<span class="o">)</span>,
        has_mean BOOLEAN,
        has_sum BOOLEAN,
        name VARCHAR<span class="o">(</span>255<span class="o">)</span>, mean_type INTEGER NOT NULL DEFAULT 0,
        PRIMARY KEY <span class="o">(</span><span class="nb">id</span><span class="o">)</span>
<span class="o">)</span>

CREATE TABLE recorder_runs <span class="o">(</span>
        run_id INTEGER NOT NULL,
        start DATETIME NOT NULL,
        <span class="s2">"end"</span> DATETIME,
        closed_incorrect BOOLEAN NOT NULL,
        created DATETIME NOT NULL,
        PRIMARY KEY <span class="o">(</span>run_id<span class="o">)</span>
<span class="o">)</span>

CREATE TABLE schema_changes <span class="o">(</span>
        change_id INTEGER NOT NULL,
        schema_version INTEGER,
        changed DATETIME NOT NULL,
        PRIMARY KEY <span class="o">(</span>change_id<span class="o">)</span>
<span class="o">)</span>

CREATE TABLE statistics_runs <span class="o">(</span>
        run_id INTEGER NOT NULL,
        start DATETIME NOT NULL,
        PRIMARY KEY <span class="o">(</span>run_id<span class="o">)</span>
<span class="o">)</span>

CREATE TABLE events <span class="o">(</span>
        event_id INTEGER NOT NULL,
        event_type CHAR<span class="o">(</span>0<span class="o">)</span>,
        event_data CHAR<span class="o">(</span>0<span class="o">)</span>,
        origin CHAR<span class="o">(</span>0<span class="o">)</span>,
        origin_idx SMALLINT,
        time_fired CHAR<span class="o">(</span>0<span class="o">)</span>,
        time_fired_ts FLOAT,
        context_id CHAR<span class="o">(</span>0<span class="o">)</span>,
        context_user_id CHAR<span class="o">(</span>0<span class="o">)</span>,
        context_parent_id CHAR<span class="o">(</span>0<span class="o">)</span>,
        data_id INTEGER,
        context_id_bin BLOB,
        context_user_id_bin BLOB,
        context_parent_id_bin BLOB,
        event_type_id INTEGER,
        PRIMARY KEY <span class="o">(</span>event_id<span class="o">)</span>,
        FOREIGN KEY<span class="o">(</span>data_id<span class="o">)</span> REFERENCES event_data <span class="o">(</span>data_id<span class="o">)</span>,
        FOREIGN KEY<span class="o">(</span>event_type_id<span class="o">)</span> REFERENCES event_types <span class="o">(</span>event_type_id<span class="o">)</span>
<span class="o">)</span>

CREATE TABLE states <span class="o">(</span>
        state_id INTEGER NOT NULL,
        entity_id CHAR<span class="o">(</span>0<span class="o">)</span>,
        state VARCHAR<span class="o">(</span>255<span class="o">)</span>,
        attributes CHAR<span class="o">(</span>0<span class="o">)</span>,
        event_id SMALLINT,
        last_changed CHAR<span class="o">(</span>0<span class="o">)</span>,
        last_changed_ts FLOAT,
        last_updated CHAR<span class="o">(</span>0<span class="o">)</span>,
        last_updated_ts FLOAT,
        old_state_id INTEGER,
        attributes_id INTEGER,
        context_id CHAR<span class="o">(</span>0<span class="o">)</span>,
        context_user_id CHAR<span class="o">(</span>0<span class="o">)</span>,
        context_parent_id CHAR<span class="o">(</span>0<span class="o">)</span>,
        origin_idx SMALLINT,
        context_id_bin BLOB,
        context_user_id_bin BLOB,
        context_parent_id_bin BLOB,
        metadata_id INTEGER, last_reported_ts FLOAT,
        PRIMARY KEY <span class="o">(</span>state_id<span class="o">)</span>,
        FOREIGN KEY<span class="o">(</span>old_state_id<span class="o">)</span> REFERENCES states <span class="o">(</span>state_id<span class="o">)</span>,
        FOREIGN KEY<span class="o">(</span>attributes_id<span class="o">)</span> REFERENCES state_attributes <span class="o">(</span>attributes_id<span class="o">)</span>,
        FOREIGN KEY<span class="o">(</span>metadata_id<span class="o">)</span> REFERENCES states_meta <span class="o">(</span>metadata_id<span class="o">)</span>
<span class="o">)</span>

CREATE TABLE statistics <span class="o">(</span>
        <span class="nb">id </span>INTEGER NOT NULL,
        created CHAR<span class="o">(</span>0<span class="o">)</span>,
        created_ts FLOAT,
        metadata_id INTEGER,
        start CHAR<span class="o">(</span>0<span class="o">)</span>,
        start_ts FLOAT,
        mean FLOAT,
        min FLOAT,
        max FLOAT,
        last_reset CHAR<span class="o">(</span>0<span class="o">)</span>,
        last_reset_ts FLOAT,
        state FLOAT,
        <span class="nb">sum </span>FLOAT, mean_weight FLOAT,
        PRIMARY KEY <span class="o">(</span><span class="nb">id</span><span class="o">)</span>,
        FOREIGN KEY<span class="o">(</span>metadata_id<span class="o">)</span> REFERENCES statistics_meta <span class="o">(</span><span class="nb">id</span><span class="o">)</span> ON DELETE CASCADE
<span class="o">)</span>

CREATE TABLE statistics_short_term <span class="o">(</span>
        <span class="nb">id </span>INTEGER NOT NULL,
        created CHAR<span class="o">(</span>0<span class="o">)</span>,
        created_ts FLOAT,
        metadata_id INTEGER,
        start CHAR<span class="o">(</span>0<span class="o">)</span>,
        start_ts FLOAT,
        mean FLOAT,
        min FLOAT,
        max FLOAT,
        last_reset CHAR<span class="o">(</span>0<span class="o">)</span>,
        last_reset_ts FLOAT,
        state FLOAT,
        <span class="nb">sum </span>FLOAT, mean_weight FLOAT,
        PRIMARY KEY <span class="o">(</span><span class="nb">id</span><span class="o">)</span>,
        FOREIGN KEY<span class="o">(</span>metadata_id<span class="o">)</span> REFERENCES statistics_meta <span class="o">(</span><span class="nb">id</span><span class="o">)</span> ON DELETE CASCADE
<span class="o">)</span>

CREATE TABLE sqlite_stat1<span class="o">(</span>tbl,idx,stat<span class="o">)</span>

CREATE INDEX ix_event_data_hash ON event_data <span class="o">(</span><span class="nb">hash</span><span class="o">)</span>

CREATE UNIQUE INDEX ix_event_types_event_type ON event_types <span class="o">(</span>event_type<span class="o">)</span>

CREATE INDEX ix_state_attributes_hash ON state_attributes <span class="o">(</span><span class="nb">hash</span><span class="o">)</span>

CREATE UNIQUE INDEX ix_states_meta_entity_id ON states_meta <span class="o">(</span>entity_id<span class="o">)</span>

CREATE UNIQUE INDEX ix_statistics_meta_statistic_id ON statistics_meta <span class="o">(</span>statistic_id<span class="o">)</span>

CREATE INDEX ix_recorder_runs_start_end ON recorder_runs <span class="o">(</span>start, <span class="s2">"end"</span><span class="o">)</span>

CREATE INDEX ix_statistics_runs_start ON statistics_runs <span class="o">(</span>start<span class="o">)</span>

CREATE INDEX ix_events_data_id ON events <span class="o">(</span>data_id<span class="o">)</span>

CREATE INDEX ix_events_event_type_id_time_fired_ts ON events <span class="o">(</span>event_type_id, time_fired_ts<span class="o">)</span>

CREATE INDEX ix_events_time_fired_ts ON events <span class="o">(</span>time_fired_ts<span class="o">)</span>

CREATE INDEX ix_events_context_id_bin ON events <span class="o">(</span>context_id_bin<span class="o">)</span>

CREATE INDEX ix_states_context_id_bin ON states <span class="o">(</span>context_id_bin<span class="o">)</span>

CREATE INDEX ix_states_attributes_id ON states <span class="o">(</span>attributes_id<span class="o">)</span>

CREATE INDEX ix_states_last_updated_ts ON states <span class="o">(</span>last_updated_ts<span class="o">)</span>

CREATE INDEX ix_states_metadata_id_last_updated_ts ON states <span class="o">(</span>metadata_id, last_updated_ts<span class="o">)</span>

CREATE INDEX ix_states_old_state_id ON states <span class="o">(</span>old_state_id<span class="o">)</span>

CREATE INDEX ix_statistics_start_ts ON statistics <span class="o">(</span>start_ts<span class="o">)</span>

CREATE UNIQUE INDEX ix_statistics_statistic_id_start_ts ON statistics <span class="o">(</span>metadata_id, start_ts<span class="o">)</span>

CREATE UNIQUE INDEX ix_statistics_short_term_statistic_id_start_ts ON statistics_short_term <span class="o">(</span>metadata_id, start_ts<span class="o">)</span>

CREATE INDEX ix_statistics_short_term_start_ts ON statistics_short_term <span class="o">(</span>start_ts<span class="o">)</span>

CREATE TABLE migration_changes <span class="o">(</span>
        migration_id VARCHAR<span class="o">(</span>255<span class="o">)</span> NOT NULL,
        version SMALLINT NOT NULL,
        PRIMARY KEY <span class="o">(</span>migration_id<span class="o">)</span>
<span class="o">)</span>
</code></pre></div></div>
<p>To only show the details about the <code>states</code> table (since we are using that one in the next examples):</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">sqlite&gt; SELECT sql FROM sqlite_master WHERE <span class="nb">type</span> <span class="o">=</span> <span class="s1">'table'</span> AND tbl_name <span class="o">=</span> <span class="s1">'states'</span><span class="p">;</span>
</code></pre></div></div>
<h3>Query <a class="title-link" name="query" href="#query"></a>
</h3>
<p>The identification of the available columns in the table is done and we are now able to create a query. Let’s list your Top 10 entities:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">sqlite&gt; .width 30, 10,
sqlite&gt; SELECT states_meta.entity_id, COUNT<span class="o">(</span><span class="k">*</span><span class="o">)</span> as count FROM states INNER JOIN states_meta ON states.metadata_id <span class="o">=</span> states_meta.metadata_id GROUP BY states_meta.entity_id ORDER BY count DESC LIMIT 10<span class="p">;</span>
entity_id                       count
<span class="nt">------------------------------</span>  <span class="nt">----------</span>
sensor.cpu                      28874
sun.sun                         21238
sensor.time                     18415
sensor.new_york                 18393
cover.kitchen_cover             17811
switch.mystrom_switch           14101
sensor.internet_time            12963
sensor.solar_angle1             11397
sensor.solar_angle              10440
group.all_switches              8018
</code></pre></div></div>
<h3>Delete <a class="title-link" name="delete" href="#delete"></a>
</h3>
<p>If you don’t want to keep certain entities, you can delete them permanently by using the <a href="/integrations/recorder/#action-purge_entities">actions provided by the recorder</a>.</p>
<p>For a more interactive way of working with the database, check the <a href="https://data.home-assistant.io/">Data Science Portal</a>.</p>


  


  
<div class="material-card text feedback">
  <h4>
<iconify-icon inline icon="mdi:feedback" title="Feedback"></iconify-icon> <b> Help us improve our documentation</b><a href="#feedback_section" class="title-link" name="feedback_section"></a>
</h4>
  Suggest an edit to this page, or provide/view feedback for this page.
  <div class="links">
    <ul aria-label="Page feedback options">
    <li><a href="https://github.com/home-assistant/home-assistant.io/tree/current/source/_docs/backend/database.markdown" target="_blank" title="Edit this page"><iconify-icon inline icon="mdi:edit"></iconify-icon> Edit</a></li>
    
    <li><a href="https://github.com/home-assistant/home-assistant.io/issues/new?template=feedback.yml&amp;url=https%3A%2F%2Fivangrod.github.io%2Fdocs%2Fbackend%2Fdatabase%2F&amp;version=2025.9.4&amp;labels=current" target="_blank" title="Provide feedback on this page"><iconify-icon inline icon="mdi:comment-edit-outline"></iconify-icon> Provide feedback</a></li>
    <li><a href="https://github.com/home-assistant/home-assistant.io/issues?utf8=%E2%9C%93&amp;q=%22%2Fdocs%2Fbackend%2Fdatabase%2F%22&amp;in=body" target="_blank" title="View given feedback for this page"><iconify-icon inline icon="mdi:comment-text-multiple-outline"></iconify-icon> View given feedback</a></li>
    
  </ul>
  </div>
</div>


</article>

            
          </div>


          
            
              <aside id="sidebar" class="grid__item one-third desk-wide-one-quarter lap-one-whole palm-one-whole">
            
            <div class="grid">
  




  <section class="vertical-nav aside-module grid__item one-whole lap-one-half">
  <div class="section">
    <h1 class="title epsilon"><iconify-icon inline icon='mdi:bookshelf' title='Bookshelf'></iconify-icon> Documentation</h1>
    <ul class="divided sidebar-menu">
      <li>
        <a  href='/docs/'>Overview </a>
        |
        <a  href='/faq/'>FAQ </a>
        |
        <a  href='/docs/glossary/'>Glossary </a>
      </li>

      <li>
  <iconify-icon icon="mdi:robot-happy"></iconify-icon> <a  href='/docs/automation/'>Automations </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:gauge' title='Gauge'></iconify-icon> <a  href='/dashboards'>Dashboards </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:microphone' title='Microphone'></iconify-icon> <a  href='/voice_control/'>Voice assistants </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:category' title='Category'></iconify-icon> <a  href='/docs/organizing/'>Organization </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:solar-power-variant' title='Solar power variant'></iconify-icon> <a  href='/docs/energy/'>Home energy management </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:update' title='Update'></iconify-icon> <a  href='/common-tasks/general/'>Common tasks </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:cogs' title='Cogs'></iconify-icon> <a  href='/docs/configuration/'>Advanced configuration </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:account-security' title='Account security'></iconify-icon> <a  href='/docs/authentication/'>Authentication </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:database' title='Database'></iconify-icon> <a  href='/docs/backend/'>Backend </a>
  
  <ul>
    <li><a  href='/docs/frontend/'>User interface </a></li>
    <li><a class='active' href='/docs/backend/database/'>Database </a></li>
  </ul>
  
</li>

<li>
  <iconify-icon inline icon='mdi:palette' title='Palette'></iconify-icon> <a  href='/docs/tools/'>Tools and helpers </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:cellphone' title='Cellphone'></iconify-icon> <a href="https://companion.home-assistant.io/docs">iOS and Android apps <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
</li>

<li>
  <iconify-icon inline icon='simple-icons:mqtt' title='Mqtt'></iconify-icon> <a  href='/integrations/mqtt'>MQTT </a>
  
</li>

<li>
  <iconify-icon inline icon='bitcoin-icons:node-hardware-filled' title='Node hardware filled'></iconify-icon> Official hardware
  <ul>
    <li><a href="https://support.nabucasa.com/hc/en-us/categories/24638797677853-Home-Assistant-Green">Home Assistant Green <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
    <li><a href="https://support.nabucasa.com/hc/en-us/categories/24734620813469">Home Assistant Connect ZBT-1 <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
    <li><a href="https://support.nabucasa.com/hc/en-us/categories/28669861145885">Home Assistant Connect ZWA-2 <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
    <li><a href="https://support.nabucasa.com/hc/en-us/categories/24734575925149-Home-Assistant-Yellow">Home Assistant Yellow <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
    <li><a href="https://support.nabucasa.com/hc/en-us/categories/24451727188125-Home-Assistant-Voice-Preview-Edition">Home Assistant Voice Preview Edition <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
  </ul>
</li>

    </ul>
  </div>
</section>



  <section id="toc-module" class="aside-module grid__item one-whole lap-one-half">
        <div class='section'>
          <h1 class="title epsilon"><iconify-icon inline icon='mdi:toc' title='Toc'></iconify-icon> On this page</h1>
          <ul id="toc" class="section-nav">
<li class="toc-entry toc-h3"><a href="#schema">Schema</a></li>
<li class="toc-entry toc-h3"><a href="#query">Query</a></li>
<li class="toc-entry toc-h3"><a href="#delete">Delete</a></li>
</ul>
        </div>
      </section></div>

          </aside>
          
        </div>
      </div>

      <footer>
        <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="skyline grid">
        <div class="skyline grid__item one-whole">
          <div class="footer-skyline">
          </div>
        </div>
      </div>
      <div class="footer-nav grid">
        <div class="company grid__item one-quarter lap-one-half palm-one-whole">
          <div class="title">
            <img
              src="/needlehack-blog/images/footer-logo-text.svg"
              height="72"
              alt="Home Assistant"
            />
          </div>
          <p>
            Home Assistant is a project from the <a href="https://www.openhomefoundation.org/">Open Home Foundation</a>, sponsored by <a href="https://www.nabucasa.com/">Nabu Casa</a>.
          </p>
        </div>

        <div class="grid__item one-quarter lap-one-half palm-one-whole">
          <h3>Join us and contribute!</h3>
          <ul>
            <li><a class="external-link" href="https://github.com/home-assistant/">GitHub repo <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://developers.home-assistant.io">Developers Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://design.home-assistant.io">Design Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://data.home-assistant.io">Data Science Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://community.home-assistant.io">Community Forum <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://creators.home-assistant.io/">Creator Network <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://works-with.home-assistant.io/">Works With Home Assistant <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a href="/needlehack-blog/community">Our community</li>
            <li><a href="/needlehack-blog/help/reporting_issues/">Reporting issues</a></li>
          </ul>
          <h3>System status</h3>
          <ul>
            <li>
              <a class="external-link"  href="https://alerts.home-assistant.io">Integration Alerts <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
            </li>
            <li><a href="/needlehack-blog/security/">Security Alerts</a></li>
            <li>
              <a class="external-link" href="https://status.home-assistant.io">System Status <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
            </li>
          </ul>
        </div>

        <div class="grid__item one-quarter lap-one-half palm-one-whole">
          <h3>Companion apps</h3>
          <ul>
            <li><a class="external-link" href="https://apps.apple.com/us/app/home-assistant/id1099568401">iOS and Apple devices</a></li>
            <li><a class="external-link" href="https://play.google.com/store/apps/details?id=io.homeassistant.companion.android">Android and Wear OS</a></li>
            <li><a class="external-link" href="https://companion.home-assistant.io/">...and more!</a></li>
          </ul>
          <h3>Governance</h3>
          <ul>
            <li><a href="/needlehack-blog/privacy/">Privacy Notices</a></li>
            <li><a href="/needlehack-blog/developers/cla/">Contributor License Agreement</a></li>
            <li><a href="/needlehack-blog/tos/">Terms of Service</a></li>
            <li><a href="/needlehack-blog/code_of_conduct/">Code of Conduct</a></li>
            <li><a href="/needlehack-blog/developers/credits/">Credits</a></li>
            <li><a href="/needlehack-blog/developers/license/">License</a></li>
          </ul>
        </div>

        <div class="socials grid__item one-quarter lap-one-half palm-one-whole">

          <h3>Follow us</h3>
          <p><a class="external-link" href='https://newsletter.openhomefoundation.org/#/portal'>Sign up for our newsletter <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></p>
          <div class="icons">
            <a
              rel="me"
              href="https://youtube.com/@home_assistant"
              title="YouTube"
              target="_blank"
              ><iconify-icon icon="simple-icons:youtube"></iconify-icon></a>
            <a
              rel="me"
              href="https://reddit.com/r/homeassistant"
              title="Reddit"
              target="_blank"
              ><iconify-icon icon="simple-icons:reddit"></iconify-icon></a>
            <a
              rel="me"
              href="https://github.com/home-assistant/home-assistant"
              title="GitHub"
              target="_blank"
              ><iconify-icon icon="simple-icons:github"></iconify-icon></a>
            <br />
            <a
              rel="me"
              href="https://fosstodon.org/@homeassistant"
              title="Mastodon"
              target="_blank"
              ><iconify-icon icon="simple-icons:mastodon"></iconify-icon></a>
            <a
              rel="me"
              href="https://bsky.app/profile/home-assistant.io"
              title="Bluesky"
              target="_blank"
             ><iconify-icon icon="simple-icons:bluesky"></iconify-icon></a>
            <a
              rel="me"
              href="https://x.com/home_assistant"
              title="X"
              target="_blank"
             ><iconify-icon icon="simple-icons:x"></iconify-icon></a>
            <br />
            <a
              rel="me"
              href="https://www.facebook.com/homeassistantio"
              title="Facebook"
              target="_blank"
              ><iconify-icon icon="simple-icons:facebook"></iconify-icon></a>
            <a
              rel="me"
              href="https://www.instagram.com/homeassistant/"
              title="Instagram"
              target="_blank"
              ><iconify-icon icon="simple-icons:instagram"></iconify-icon></a>
            <a
              rel="me"
              href="https://www.linkedin.com/company/home-assistant"
              title="LinkedIn"
              target="_blank"
              ><iconify-icon icon="simple-icons:linkedin"></iconify-icon></a>
          </div>

          <div class="web-notice">
            <p>
              For partnership inquiries please check out <a href="https://works-with.home-assistant.io/">Works With Home Assistant</a>. For media, get in touch <a href="mailto:media@openhomefoundation.org">here</a>. For other questions, you can contact us <a href="mailto:hello@home-assistant.io">here</a> (No technical support!)
            </p>
            <p>
              Website powered by <a href="https://jekyllrb.com/">Jekyll</a><br />
              Originally based on the <a href="https://github.com/coogie/oscailte">Oscailte theme</a>
            </p>
            <a href="https://www.netlify.com">
              <img
                src="/needlehack-blog/images/frontpage/netlify.svg"
                alt="Deploys by Netlify Badge"
              />
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

      </footer>

    </div>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@justinribeiro/lite-youtube@1.3.1/lite-youtube.js"></script>

<script src="/javascripts/terminology_tooltip.js?274cec0734bc752f0e5ea3d4e2e59858" type="text/javascript" defer></script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript" defer></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3/dist/umd/index.min.js"></script>
<script type="text/javascript">
  docsearch({
    container: '#docsearch',
    appId: 'FBHBYS3J0U',
    indexName: 'home-assistant',
    apiKey: "ba6f7e6d97b3d3d2f778978c742a47c6",
  });
  document.querySelector('.site-title').addEventListener('contextmenu', function (ev) {
    ev.preventDefault();
    document.location.assign("https://design.home-assistant.io/#brand/logo")
  });
</script>




<script type="text/javascript">
  {
    const article = document.querySelector("article.post");
    if (article) {
      const iframes = article.querySelectorAll("iframe[data-src]");
      let loaded = false;
      if (iframes) {
        document.addEventListener('mousemove', loadLazyFrames, { passive: true, once: true });
        document.addEventListener('touchmove', loadLazyFrames, { passive: true, once: true });
        document.addEventListener('scroll', loadLazyFrames, { passive: true, once: true });
  
        function loadLazyFrames() {
          if (loaded) return;
          loaded = true;
  
          iframes.forEach((iframe) => {
            const src = iframe.getAttribute("data-src");
            if (src) {
              iframe.setAttribute("src", src);
              iframe.removeAttribute("data-src");
            }
          });
        }
      }
    }
  }
</script>

  </body>
</html>
