



<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>About the blueprint schema - Home Assistant</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Introduction to the blueprint schema.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://www.home-assistant.io/docs/blueprint/schema/">

    <meta property="fb:app_id" content="338291289691179">
    <meta property="og:title" content="About the blueprint schema">
    <meta property="og:site_name" content="Home Assistant">
    <meta property="og:url" content="https://www.home-assistant.io/docs/blueprint/schema/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Introduction to the blueprint schema.">
    <meta property="og:image" content="https://ivangrod.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@home_assistant">
    
    <meta name="twitter:title" content="About the blueprint schema">
    <meta name="twitter:description" content="Introduction to the blueprint schema.">
    <meta name="twitter:image" content="https://ivangrod.github.io/images/default-social.png">
    <link rel="me" href="https://fosstodon.org/@homeassistant">

    <link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3/dist/style.min.css" rel="stylesheet" />
    <link href="/needlehack-blog/stylesheets/prism.css | cache_buster" rel="stylesheet">
    <link href="/needlehack-blog/stylesheets/screen.css' | cache_buster" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Home Assistant" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&amp;family=Instrument+Sans:ital,wdth,wght@0,99,400..700;1,99,400..700&amp;" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js"></script>
  </head>

  <body  class="documentation-page   ">
    <header class='site-header '>
      



<div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/needlehack-blog/" class="site-title">
        <div class="logo"></div>
      </a>
      <a class="release-date" href="/blog/2025/09/03/release-20259/" title="Latest version 2025.9.4 released September 19, 2025">
        2025.9.4
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle" />
        <label
          for="toggle"
          class="toggle"
          data-open="Main Menu"
          data-close="⨉"
        ></label>
        <ul class="menu pull-right">
          <li><a  href="/needlehack-blog/installation/">Getting started</a></li>
          <li>
            <a class="active" href="/needlehack-blog/docs/">Documentation <iconify-icon inline icon='mdi:chevron-down' title='Chevron down'></iconify-icon></a>
            <ul>
              <li><a href="/needlehack-blog/installation/"><iconify-icon inline icon='simple-icons:homeassistant' title='Homeassistant'></iconify-icon> Installation</a></li>
              <li><a href="/needlehack-blog/docs/automation/"><iconify-icon inline icon='mdi:robot-happy' title='Robot happy'></iconify-icon> Automations</a></li>
              <li><a href="/needlehack-blog/dashboards/"><iconify-icon inline icon='mdi:gauge' title='Gauge'></iconify-icon> Dashboards</a></li>
              <li><a href="/needlehack-blog/voice_control/"><iconify-icon inline icon='mdi:comment-processing-outline' title='Comment processing outline'></iconify-icon> Voice assistants</a></li>
              <li><a href="/needlehack-blog/docs/organizing/"><iconify-icon inline icon='mdi:view-grid' title='View grid'></iconify-icon> Device organization</a></li>
              <li><a href="/needlehack-blog/docs/energy/"><iconify-icon inline icon='mdi:solar-power-variant' title='Solar power variant'></iconify-icon> Energy management</a></li>
              <li><a href="/needlehack-blog/docs/configuration/"><iconify-icon inline icon='mdi:cog' title='Cog'></iconify-icon> Advanced configuration</a></li>
            </ul>
          </li>
          <li><a  href="/needlehack-blog/integrations/">Integrations</a></li>
          <li><a  href="/needlehack-blog/blog/">Blog</a></li>
          <li><a  href="/needlehack-blog/help/">Need help?</a></li>
          <li>
            <div class="docsearch" id="docsearch"></div>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>

    </header>

    <div class="page-content">

      

      <div class="grid-wrapper">
        <div class="grid grid-center">

          <aside id="toc-bar" class="grid__item desk-wide-one-sixth">
                <section class="aside-module grid__item one-whole">
                  <div class='section'>
                    <h1 class="title epsilon"><iconify-icon inline icon='mdi:toc' title='Toc'></iconify-icon> On this page</h1>
                    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#the-blueprint-schema">The blueprint schema</a>
<ul>
<li class="toc-entry toc-h3"><a href="#blueprint-inputs">Blueprint inputs</a></li>
<li class="toc-entry toc-h3"><a href="#blueprint-input-sections">Blueprint input sections</a></li>
<li class="toc-entry toc-h3"><a href="#blueprint-inputs-in-templates">Blueprint inputs in templates</a></li>
<li class="toc-entry toc-h3"><a href="#example-blueprints">Example blueprints</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#related-topics">Related topics</a></li>
<li class="toc-entry toc-h2"><a href="#related-links">Related links</a></li>
</ul>
                  </div>
                </section>
              </aside> 

          
          <div class="grid__item two-thirds desk-wide-seven-twelfths lap-one-whole palm-one-whole">
          

            
              <article class="page">
  
  <header>
    
    
      <div class="breadcrumbs">
        <a href="/needlehack-blog/">Home</a>
        
          
            
            ▸ <a href="/docs/">Documentation</a>
          
        
          
            
            ▸ <a href="/docs/blueprint/">Blueprint</a>
          
        
          
            ▸ 
          
        
      </div>
    
    <h1 class="title indent">
      
        About the blueprint schema
      
    </h1>
  </header>
  
  
  <h2>The blueprint schema <a class="title-link" name="the-blueprint-schema" href="#the-blueprint-schema"></a>
</h2>
<p>Blueprint schemas currently supports three types of schema depending on its domain: <a href="/docs/automation/yaml/"><code>automation</code></a>; <code>script</code>; and <a href="/integrations/template/#using-blueprints"><code>template</code></a>.</p>
<p>The configuration schema of a blueprint consists of 2 parts:</p>
<ol>
<li>The blueprint’s high-level metadata: name, domain and, optionally, any input required from the user.</li>
<li>The schema for the blueprint domain it describes.</li>
</ol>
<p>The first part is referred to as the <em>blueprint schema</em>. It contains the
blueprint’s metadata.</p>
<p>Minimum required metadata for a blueprint is its name and domain. In its most basic form,
a blueprint looks like:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">blueprint</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">Example blueprint</span>
  <span class="na">domain</span><span class="pi">:</span> <span class="s">automation</span>
</code></pre></div></div>
<p>Although this is a valid blueprint, it is not very useful.</p>
<p>The second part depends on its domain, the type of blueprint. For example, when creating a blueprint for an automation, the full
schema for an <a href="/docs/automation/yaml/">automation</a> applies.</p>
<p>This is the full blueprint schema:</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="schema-configuration-variables" href="#schema-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> name </span><span class="config-vars-type">string</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="name" class="title-link" href="#name"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The name of the blueprint. Keep this short and descriptive.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> description </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="description" class="title-link" href="#description"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The description of the blueprint. While optional, this field is highly recommended. Describe what the blueprint does and describe the inputs the blueprint requires. The description can include <a href="https://commonmark.org/help/" rel="external nofollow">Markdown<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> domain </span><span class="config-vars-type">string</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="domain" class="title-link" href="#domain"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The domain in which this blueprint is used. Currently, only three types, <a href="/docs/automation/yaml/"><code>automation</code></a>, <code>script</code> and <a href="/integrations/template/#using-blueprints"><code>template</code></a> are supported.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> author </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="author" class="title-link" href="#author"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The name of the blueprint author.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> homeassistant </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="homeassistant" class="title-link" href="#homeassistant"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Home Assistant version required for the blueprint to work successfully.</p>
</span></div>
<div class="nested"><div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> min_version </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="min_version" class="title-link" href="#min_version"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Minimum required version of Home Assistant to use the blueprint in the format of <em>major</em>.<em>minor</em>.<em>patch</em> (all parts are required). For example, <code>2022.4.0</code>. It is important to set this if the blueprint uses any features introduced in recent releases to head off issues.</p>
</span></div>
</div></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="input" class="title-link" href="#input"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A dictionary of defined user inputs or sections. These are the input fields that the consumer of your blueprint can provide using YAML definition, or via a configuration form in the UI. Sections provide a way to visually group a set of  related inputs (see below).</p>
</span></div>
</div>
</div>
</div>
<h3>Blueprint inputs <a class="title-link" name="blueprint-inputs" href="#blueprint-inputs"></a>
</h3>
<p>A blueprint can accept one or multiple inputs from the user, but does not require any input.</p>
<p>These inputs can be of any type (string, boolean, list, map). They can have
a default value and also provide a <a href="/docs/blueprint/selectors/">selector</a> that
ensures a matching input field in the user interface.</p>
<p>A blueprint input has the following configuration:</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="schema-configuration-variables" href="#schema-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> name </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="name" class="title-link" href="#name"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The name of the input field.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> description </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="description" class="title-link" href="#description"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A short description of the input field. Keep this short and descriptive. The description can include <a href="https://commonmark.org/help/" rel="external nofollow">Markdown<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> selector </span><span class="config-vars-type"><a href="/docs/blueprint/selectors/">selector</a></span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="selector" class="title-link" href="#selector"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The <a href="/docs/blueprint/selectors/">selector</a> to use for this input. A selector defines how the input is displayed in the frontend UI.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> default </span><span class="config-vars-type">any</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="default" class="title-link" href="#default"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The default value of this input, in case the input is not provided by the user of this blueprint.</p>
</span></div>
</div>
</div>
</div>
<p>Each input field can be referred to, outside of the blueprint metadata, using
the <code>!input</code> custom YAML tag before its name.</p>
<p>The following example shows a minimal <em>blueprint schema</em> with a single input:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">blueprint</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">Example blueprint</span>
  <span class="na">description</span><span class="pi">:</span> <span class="s">Example showing an input</span>
  <span class="na">domain</span><span class="pi">:</span> <span class="s">automation</span>
  <span class="na">input</span><span class="pi">:</span>
    <span class="na">my_input</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Example input</span>
</code></pre></div></div>
<p>In the above example, <code>my_input</code> is the identifier of the input. It can be
referenced by using the <code>!input my_input</code> custom tag.</p>
<p>In this example, no <a href="/docs/blueprint/selectors/"><code>selector</code></a> was provided. In the user interface, a text input field would be shown to the user.
It is then up to the user to find out what to enter there. Blueprints that come with <a href="/docs/blueprint/selectors/">selectors</a> are easier to use.</p>
<p>A blueprint can have as many inputs as you like.</p>
<h3>Blueprint input sections <a class="title-link" name="blueprint-input-sections" href="#blueprint-input-sections"></a>
</h3>
<p>One or more input sections can be added under the main <code>input</code> key. Each section visually groups the inputs in that section,
allows an optional description, and optionally allows for collapsing those inputs. Note that the section only impacts how
inputs are displayed to the user when they fill in the blueprint. Inputs must have unique names and be referenced directly
by their name; not by section and name.</p>
<p>A section is differentiated from an input by the presence of an additional <code>input</code> key within that section.</p>
<div class="alert alert-caution">
  <p class="alert-title"><iconify-icon inline icon="mdi:alert-circle-outline"></iconify-icon> Caution</p>
  <div class="alert-content">
<p>Input sections are a new feature in version 2024.6.0. Set the <code>min_version</code> for the blueprint to at least this version if using input sections. Otherwise, the blueprint will generate errors on older versions. See <a href="/docs/blueprint/schema/#min_version">this section</a> for more details.</p>
  </div>
</div>
<p>The full configuration for an input section is below:</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="schema-configuration-variables" href="#schema-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> name </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="name" class="title-link" href="#name"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A name for the section. If omitted the key of the section is used.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> icon </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="icon" class="title-link" href="#icon"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>An icon to display next to the name of the section.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> description </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="description" class="title-link" href="#description"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>An optional description of this section, which will be displayed at the top of the section. The description can include <a href="https://commonmark.org/help/" rel="external nofollow">Markdown<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> collapsed </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: false</span>)</span><a name="collapsed" class="title-link" href="#collapsed"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>If <code>true</code>, the section will be collapsed by default. Useful for optional or less important inputs. All collapsed inputs must also have a defined <code>default</code> before they can be hidden.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input </span><span class="config-vars-type">map</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="input" class="title-link" href="#input"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A dictionary of defined user inputs within this section.</p>
</span></div>
</div>
</div>
</div>
<p>The following example shows a <em>blueprint schema</em> with some inputs in a section:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">blueprint</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">Example sections blueprint</span>
  <span class="na">description</span><span class="pi">:</span> <span class="s">Example showing a section</span>
  <span class="na">input</span><span class="pi">:</span>
    <span class="na">base_input</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">An input not in the section</span>
    <span class="na">my_section</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">My Section</span>
      <span class="na">icon</span><span class="pi">:</span> <span class="s">mdi:cog</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">These options control a specific feature of this blueprint</span>
      <span class="na">input</span><span class="pi">:</span>
        <span class="na">my_input</span><span class="pi">:</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">Example input</span>
        <span class="na">my_input_2</span><span class="pi">:</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">2nd example input</span>
</code></pre></div></div>
<h3>Blueprint inputs in templates <a class="title-link" name="blueprint-inputs-in-templates" href="#blueprint-inputs-in-templates"></a>
</h3>
<p>The inputs are available as custom YAML tags, but not as template variables.
To use a blueprint input in a template, it first needs to be exposed as either
a <a href="/integrations/script/#configuration-variables">script level variable</a> or in
a <a href="/docs/scripts/#variables">variable script step</a>.</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">variables</span><span class="pi">:</span>
  <span class="c1"># Make input my_input available as a script level variable</span>
  <span class="na">my_input</span><span class="pi">:</span> <span class="kt">!input</span> <span class="s">my_input</span>
</code></pre></div></div>
<h3>Example blueprints <a class="title-link" name="example-blueprints" href="#example-blueprints"></a>
</h3>
<p>The <a href="https://github.com/home-assistant/core/tree/dev/homeassistant/components/automation/blueprints" rel="external nofollow">built-in blueprints<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>
are great examples to get a bit of a feeling of how blueprints work.</p>
<p>Here is the built-in motion light automation blueprint.
Note the <em>blueprint schema</em> under the blueprint key is followed by its domain schema. In this example, an automation schema.</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">blueprint</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">Motion-activated Light</span>
  <span class="na">description</span><span class="pi">:</span> <span class="s">Turn on a light when motion is detected.</span>
  <span class="na">domain</span><span class="pi">:</span> <span class="s">automation</span>
  <span class="na">input</span><span class="pi">:</span>
    <span class="na">motion_entity</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Motion Sensor</span>
      <span class="na">selector</span><span class="pi">:</span>
        <span class="na">entity</span><span class="pi">:</span>
          <span class="na">filter</span><span class="pi">:</span>
            <span class="na">device_class</span><span class="pi">:</span> <span class="s">motion</span>
            <span class="na">domain</span><span class="pi">:</span> <span class="s">binary_sensor</span>
    <span class="na">light_target</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Light</span>
      <span class="na">selector</span><span class="pi">:</span>
        <span class="na">target</span><span class="pi">:</span>
          <span class="na">entity</span><span class="pi">:</span>
            <span class="na">domain</span><span class="pi">:</span> <span class="s">light</span>
    <span class="na">no_motion_wait</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Wait time</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Time to leave the light on after last motion is detected.</span>
      <span class="na">default</span><span class="pi">:</span> <span class="m">120</span>
      <span class="na">selector</span><span class="pi">:</span>
        <span class="na">number</span><span class="pi">:</span>
          <span class="na">min</span><span class="pi">:</span> <span class="m">0</span>
          <span class="na">max</span><span class="pi">:</span> <span class="m">3600</span>
          <span class="na">unit_of_measurement</span><span class="pi">:</span> <span class="s">seconds</span>

<span class="c1"># If motion is detected within the delay,</span>
<span class="c1"># we restart the script.</span>
<span class="na">mode</span><span class="pi">:</span> <span class="s">restart</span>
<span class="na">max_exceeded</span><span class="pi">:</span> <span class="s">silent</span>

<span class="na">triggers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">trigger</span><span class="pi">:</span> <span class="s">state</span>
    <span class="na">entity_id</span><span class="pi">:</span> <span class="kt">!input</span> <span class="s">motion_entity</span>
    <span class="na">from</span><span class="pi">:</span> <span class="s2">"</span><span class="s">off"</span>
    <span class="na">to</span><span class="pi">:</span> <span class="s2">"</span><span class="s">on"</span>

<span class="na">actions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">light.turn_on</span>
    <span class="na">target</span><span class="pi">:</span> <span class="kt">!input</span> <span class="s">light_target</span>
  <span class="pi">-</span> <span class="na">wait_for_trigger</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">trigger</span><span class="pi">:</span> <span class="s">state</span>
        <span class="na">entity_id</span><span class="pi">:</span> <span class="kt">!input</span> <span class="s">motion_entity</span>
        <span class="na">from</span><span class="pi">:</span> <span class="s2">"</span><span class="s">on"</span>
        <span class="na">to</span><span class="pi">:</span> <span class="s2">"</span><span class="s">off"</span>
  <span class="pi">-</span> <span class="na">delay</span><span class="pi">:</span> <span class="kt">!input</span> <span class="s">no_motion_wait</span>
  <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">light.turn_off</span>
    <span class="na">target</span><span class="pi">:</span> <span class="kt">!input</span> <span class="s">light_target</span>
</code></pre></div></div>


  

<div class="text related-topics">
  <h2>Related topics<a class="title-link" href="#related-topics" name="related-topics"></a>
</h2>
  <ul>
    
    
    
    
    
    <li>
      <a href="/needlehack-blog/docs/blueprint/" class="topic">
        About blueprints
      </a>
    </li>
    
    
    
    
    
    
    <li>
      <a href="/needlehack-blog/docs/blueprint/selectors/" class="topic">
        Blueprint selectors
      </a>
    </li>
    
    
    
    
    
    
    <li>
      <a href="/needlehack-blog/docs/automation/using_blueprints/" class="topic">
        Using blueprints in automations
      </a>
    </li>
    
    
    
    
    
    
    <li>
      <a href="/needlehack-blog/docs/blueprint/tutorial/" class="topic">
        Tutorial: create an automation blueprint
      </a>
    </li>
    </ul>
</div>


<div class="text related-links">
  <h2>Related links<a class="title-link" href="#related-links" name="related-links"></a>
</h2>
  <ul>
    
    <li><a href="/get-blueprints" class="link" target="_blank">Blueprint community forum</a></li>
    
  </ul>
</div>

  
<div class="material-card text feedback">
  <h4>
<iconify-icon inline icon="mdi:feedback" title="Feedback"></iconify-icon> <b> Help us improve our documentation</b><a href="#feedback_section" class="title-link" name="feedback_section"></a>
</h4>
  Suggest an edit to this page, or provide/view feedback for this page.
  <div class="links">
    <ul aria-label="Page feedback options">
    <li><a href="https://github.com/home-assistant/home-assistant.io/tree/current/source/_docs/blueprint/schema.markdown" target="_blank" title="Edit this page"><iconify-icon inline icon="mdi:edit"></iconify-icon> Edit</a></li>
    
    <li><a href="https://github.com/home-assistant/home-assistant.io/issues/new?template=feedback.yml&amp;url=https%3A%2F%2Fivangrod.github.io%2Fdocs%2Fblueprint%2Fschema%2F&amp;version=2025.9.4&amp;labels=current" target="_blank" title="Provide feedback on this page"><iconify-icon inline icon="mdi:comment-edit-outline"></iconify-icon> Provide feedback</a></li>
    <li><a href="https://github.com/home-assistant/home-assistant.io/issues?utf8=%E2%9C%93&amp;q=%22%2Fdocs%2Fblueprint%2Fschema%2F%22&amp;in=body" target="_blank" title="View given feedback for this page"><iconify-icon inline icon="mdi:comment-text-multiple-outline"></iconify-icon> View given feedback</a></li>
    
  </ul>
  </div>
</div>


</article>

            
          </div>


          
            
              <aside id="sidebar" class="grid__item one-third desk-wide-one-quarter lap-one-whole palm-one-whole">
            
            <div class="grid">
  




  <section class="vertical-nav aside-module grid__item one-whole lap-one-half">
  <div class="section">
    <h1 class="title epsilon"><iconify-icon inline icon='mdi:bookshelf' title='Bookshelf'></iconify-icon> Documentation</h1>
    <ul class="divided sidebar-menu">
      <li>
        <a  href='/docs/'>Overview </a>
        |
        <a  href='/faq/'>FAQ </a>
        |
        <a  href='/docs/glossary/'>Glossary </a>
      </li>

      <li>
  <iconify-icon icon="mdi:robot-happy"></iconify-icon> <a  href='/docs/automation/'>Automations </a>
  
  <ul>
    <li>
      <iconify-icon inline icon='mdi:robot-happy' title='Robot happy'></iconify-icon> <a  href='/docs/automation/basics/'>Basic automations </a>
      
    </li>
    <li>
      <iconify-icon inline icon='mdi:palette' title='Palette'></iconify-icon> <a  href='/docs/scene/'>Scenes </a>
      
    </li>
    <li>
      <iconify-icon inline icon='mdi:palette-swatch' title='Palette swatch'></iconify-icon> <a  href='/docs/blueprint/'>Blueprints </a>
      
      <ul>
        <li><a  href='/docs/blueprint/tutorial/'>Tutorial </a></li>
        <li><a class='active' href='/docs/blueprint/schema/'>Blueprint schema </a></li>
        <li><a  href='/docs/blueprint/selectors/'>Selectors </a></li>
      </ul>
      
    </li>
    <li>
      <iconify-icon inline icon='mdi:script-text' title='Script text'></iconify-icon> <a  href='/docs/scripts/'>Scripts </a>
      
    </li>
  </ul>
  
</li>

<li>
  <iconify-icon inline icon='mdi:gauge' title='Gauge'></iconify-icon> <a  href='/dashboards'>Dashboards </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:microphone' title='Microphone'></iconify-icon> <a  href='/voice_control/'>Voice assistants </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:category' title='Category'></iconify-icon> <a  href='/docs/organizing/'>Organization </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:solar-power-variant' title='Solar power variant'></iconify-icon> <a  href='/docs/energy/'>Home energy management </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:update' title='Update'></iconify-icon> <a  href='/common-tasks/general/'>Common tasks </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:cogs' title='Cogs'></iconify-icon> <a  href='/docs/configuration/'>Advanced configuration </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:account-security' title='Account security'></iconify-icon> <a  href='/docs/authentication/'>Authentication </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:database' title='Database'></iconify-icon> <a  href='/docs/backend/'>Backend </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:palette' title='Palette'></iconify-icon> <a  href='/docs/tools/'>Tools and helpers </a>
  
</li>

<li>
  <iconify-icon inline icon='mdi:cellphone' title='Cellphone'></iconify-icon> <a href="https://companion.home-assistant.io/docs">iOS and Android apps <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
</li>

<li>
  <iconify-icon inline icon='simple-icons:mqtt' title='Mqtt'></iconify-icon> <a  href='/integrations/mqtt'>MQTT </a>
  
</li>

<li>
  <iconify-icon inline icon='bitcoin-icons:node-hardware-filled' title='Node hardware filled'></iconify-icon> Official hardware
  <ul>
    <li><a href="https://support.nabucasa.com/hc/en-us/categories/24638797677853-Home-Assistant-Green">Home Assistant Green <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
    <li><a href="https://support.nabucasa.com/hc/en-us/categories/24734620813469">Home Assistant Connect ZBT-1 <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
    <li><a href="https://support.nabucasa.com/hc/en-us/categories/28669861145885">Home Assistant Connect ZWA-2 <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
    <li><a href="https://support.nabucasa.com/hc/en-us/categories/24734575925149-Home-Assistant-Yellow">Home Assistant Yellow <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
    <li><a href="https://support.nabucasa.com/hc/en-us/categories/24451727188125-Home-Assistant-Voice-Preview-Edition">Home Assistant Voice Preview Edition <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
  </ul>
</li>

    </ul>
  </div>
</section>



  <section id="toc-module" class="aside-module grid__item one-whole lap-one-half">
        <div class='section'>
          <h1 class="title epsilon"><iconify-icon inline icon='mdi:toc' title='Toc'></iconify-icon> On this page</h1>
          <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#the-blueprint-schema">The blueprint schema</a>
<ul>
<li class="toc-entry toc-h3"><a href="#blueprint-inputs">Blueprint inputs</a></li>
<li class="toc-entry toc-h3"><a href="#blueprint-input-sections">Blueprint input sections</a></li>
<li class="toc-entry toc-h3"><a href="#blueprint-inputs-in-templates">Blueprint inputs in templates</a></li>
<li class="toc-entry toc-h3"><a href="#example-blueprints">Example blueprints</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#related-topics">Related topics</a></li>
<li class="toc-entry toc-h2"><a href="#related-links">Related links</a></li>
</ul>
        </div>
      </section></div>

          </aside>
          
        </div>
      </div>

      <footer>
        <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="skyline grid">
        <div class="skyline grid__item one-whole">
          <div class="footer-skyline">
          </div>
        </div>
      </div>
      <div class="footer-nav grid">
        <div class="company grid__item one-quarter lap-one-half palm-one-whole">
          <div class="title">
            <img
              src="/needlehack-blog/images/footer-logo-text.svg"
              height="72"
              alt="Home Assistant"
            />
          </div>
          <p>
            Home Assistant is a project from the <a href="https://www.openhomefoundation.org/">Open Home Foundation</a>, sponsored by <a href="https://www.nabucasa.com/">Nabu Casa</a>.
          </p>
        </div>

        <div class="grid__item one-quarter lap-one-half palm-one-whole">
          <h3>Join us and contribute!</h3>
          <ul>
            <li><a class="external-link" href="https://github.com/home-assistant/">GitHub repo <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://developers.home-assistant.io">Developers Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://design.home-assistant.io">Design Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://data.home-assistant.io">Data Science Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://community.home-assistant.io">Community Forum <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://creators.home-assistant.io/">Creator Network <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://works-with.home-assistant.io/">Works With Home Assistant <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a href="/needlehack-blog/community">Our community</li>
            <li><a href="/needlehack-blog/help/reporting_issues/">Reporting issues</a></li>
          </ul>
          <h3>System status</h3>
          <ul>
            <li>
              <a class="external-link"  href="https://alerts.home-assistant.io">Integration Alerts <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
            </li>
            <li><a href="/needlehack-blog/security/">Security Alerts</a></li>
            <li>
              <a class="external-link" href="https://status.home-assistant.io">System Status <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
            </li>
          </ul>
        </div>

        <div class="grid__item one-quarter lap-one-half palm-one-whole">
          <h3>Companion apps</h3>
          <ul>
            <li><a class="external-link" href="https://apps.apple.com/us/app/home-assistant/id1099568401">iOS and Apple devices</a></li>
            <li><a class="external-link" href="https://play.google.com/store/apps/details?id=io.homeassistant.companion.android">Android and Wear OS</a></li>
            <li><a class="external-link" href="https://companion.home-assistant.io/">...and more!</a></li>
          </ul>
          <h3>Governance</h3>
          <ul>
            <li><a href="/needlehack-blog/privacy/">Privacy Notices</a></li>
            <li><a href="/needlehack-blog/developers/cla/">Contributor License Agreement</a></li>
            <li><a href="/needlehack-blog/tos/">Terms of Service</a></li>
            <li><a href="/needlehack-blog/code_of_conduct/">Code of Conduct</a></li>
            <li><a href="/needlehack-blog/developers/credits/">Credits</a></li>
            <li><a href="/needlehack-blog/developers/license/">License</a></li>
          </ul>
        </div>

        <div class="socials grid__item one-quarter lap-one-half palm-one-whole">

          <h3>Follow us</h3>
          <p><a class="external-link" href='https://newsletter.openhomefoundation.org/#/portal'>Sign up for our newsletter <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></p>
          <div class="icons">
            <a
              rel="me"
              href="https://youtube.com/@home_assistant"
              title="YouTube"
              target="_blank"
              ><iconify-icon icon="simple-icons:youtube"></iconify-icon></a>
            <a
              rel="me"
              href="https://reddit.com/r/homeassistant"
              title="Reddit"
              target="_blank"
              ><iconify-icon icon="simple-icons:reddit"></iconify-icon></a>
            <a
              rel="me"
              href="https://github.com/home-assistant/home-assistant"
              title="GitHub"
              target="_blank"
              ><iconify-icon icon="simple-icons:github"></iconify-icon></a>
            <br />
            <a
              rel="me"
              href="https://fosstodon.org/@homeassistant"
              title="Mastodon"
              target="_blank"
              ><iconify-icon icon="simple-icons:mastodon"></iconify-icon></a>
            <a
              rel="me"
              href="https://bsky.app/profile/home-assistant.io"
              title="Bluesky"
              target="_blank"
             ><iconify-icon icon="simple-icons:bluesky"></iconify-icon></a>
            <a
              rel="me"
              href="https://x.com/home_assistant"
              title="X"
              target="_blank"
             ><iconify-icon icon="simple-icons:x"></iconify-icon></a>
            <br />
            <a
              rel="me"
              href="https://www.facebook.com/homeassistantio"
              title="Facebook"
              target="_blank"
              ><iconify-icon icon="simple-icons:facebook"></iconify-icon></a>
            <a
              rel="me"
              href="https://www.instagram.com/homeassistant/"
              title="Instagram"
              target="_blank"
              ><iconify-icon icon="simple-icons:instagram"></iconify-icon></a>
            <a
              rel="me"
              href="https://www.linkedin.com/company/home-assistant"
              title="LinkedIn"
              target="_blank"
              ><iconify-icon icon="simple-icons:linkedin"></iconify-icon></a>
          </div>

          <div class="web-notice">
            <p>
              For partnership inquiries please check out <a href="https://works-with.home-assistant.io/">Works With Home Assistant</a>. For media, get in touch <a href="mailto:media@openhomefoundation.org">here</a>. For other questions, you can contact us <a href="mailto:hello@home-assistant.io">here</a> (No technical support!)
            </p>
            <p>
              Website powered by <a href="https://jekyllrb.com/">Jekyll</a><br />
              Originally based on the <a href="https://github.com/coogie/oscailte">Oscailte theme</a>
            </p>
            <a href="https://www.netlify.com">
              <img
                src="/needlehack-blog/images/frontpage/netlify.svg"
                alt="Deploys by Netlify Badge"
              />
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

      </footer>

    </div>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@justinribeiro/lite-youtube@1.3.1/lite-youtube.js"></script>

<script src="/needlehack-blog/javascripts/terminology_tooltip.js' | cache_buster" type="text/javascript" defer></script>

<script src="/needlehack-blog/javascripts/prism.js' | cache_buster" type="text/javascript" defer></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3/dist/umd/index.min.js"></script>
<script type="text/javascript">
  docsearch({
    container: '#docsearch',
    appId: 'FBHBYS3J0U',
    indexName: 'home-assistant',
    apiKey: "ba6f7e6d97b3d3d2f778978c742a47c6",
  });
  document.querySelector('.site-title').addEventListener('contextmenu', function (ev) {
    ev.preventDefault();
    document.location.assign("https://design.home-assistant.io/#brand/logo")
  });
</script>




<script type="text/javascript">
  {
    const article = document.querySelector("article.post");
    if (article) {
      const iframes = article.querySelectorAll("iframe[data-src]");
      let loaded = false;
      if (iframes) {
        document.addEventListener('mousemove', loadLazyFrames, { passive: true, once: true });
        document.addEventListener('touchmove', loadLazyFrames, { passive: true, once: true });
        document.addEventListener('scroll', loadLazyFrames, { passive: true, once: true });
  
        function loadLazyFrames() {
          if (loaded) return;
          loaded = true;
  
          iframes.forEach((iframe) => {
            const src = iframe.getAttribute("data-src");
            if (src) {
              iframe.setAttribute("src", src);
              iframe.removeAttribute("data-src");
            }
          });
        }
      }
    }
  }
</script>

  </body>
</html>
