



<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Elk-M1 Control - Home Assistant</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions to setup the Elk-M1 controller.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://www.home-assistant.io/integrations/elkm1/">

    <meta property="fb:app_id" content="338291289691179">
    <meta property="og:title" content="Elk-M1 Control">
    <meta property="og:site_name" content="Home Assistant">
    <meta property="og:url" content="https://www.home-assistant.io/integrations/elkm1/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Instructions to setup the Elk-M1 controller.">
    <meta property="og:image" content="https://ivangrod.github.io/needlehack-blog/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@home_assistant">
    
    <meta name="twitter:title" content="Elk-M1 Control">
    <meta name="twitter:description" content="Instructions to setup the Elk-M1 controller.">
    <meta name="twitter:image" content="https://ivangrod.github.io/needlehack-blog/images/default-social.png">
    <link rel="me" href="https://fosstodon.org/@homeassistant">

    <link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3/dist/style.min.css" rel="stylesheet" />
    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?3d79f9acc1b3464b313d68cd5a171ca1" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Home Assistant" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&amp;family=Instrument+Sans:ital,wdth,wght@0,99,400..700;1,99,400..700&amp;" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js"></script>
  </head>

  <body  class=" integration-page  ">
    <header class='site-header '>
      



<div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/" class="site-title">
        <div class="logo"></div>
      </a>
      <a class="release-date" href="/blog/2025/09/03/release-20259/" title="Latest version 2025.9.4 released September 19, 2025">
        2025.9.4
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle" />
        <label
          for="toggle"
          class="toggle"
          data-open="Main Menu"
          data-close="⨉"
        ></label>
        <ul class="menu pull-right">
          <li><a  href="/installation/">Getting started</a></li>
          <li>
            <a  href="/docs/">Documentation <iconify-icon inline icon='mdi:chevron-down' title='Chevron down'></iconify-icon></a>
            <ul>
              <li><a href="/installation/"><iconify-icon inline icon='simple-icons:homeassistant' title='Homeassistant'></iconify-icon> Installation</a></li>
              <li><a href="/docs/automation/"><iconify-icon inline icon='mdi:robot-happy' title='Robot happy'></iconify-icon> Automations</a></li>
              <li><a href="/dashboards/"><iconify-icon inline icon='mdi:gauge' title='Gauge'></iconify-icon> Dashboards</a></li>
              <li><a href="/voice_control/"><iconify-icon inline icon='mdi:comment-processing-outline' title='Comment processing outline'></iconify-icon> Voice assistants</a></li>
              <li><a href="/docs/organizing/"><iconify-icon inline icon='mdi:view-grid' title='View grid'></iconify-icon> Device organization</a></li>
              <li><a href="/docs/energy/"><iconify-icon inline icon='mdi:solar-power-variant' title='Solar power variant'></iconify-icon> Energy management</a></li>
              <li><a href="/docs/configuration/"><iconify-icon inline icon='mdi:cog' title='Cog'></iconify-icon> Advanced configuration</a></li>
            </ul>
          </li>
          <li><a class="active" href="/integrations/">Integrations</a></li>
          <li><a  href="/blog/">Blog</a></li>
          <li><a  href="/help/">Need help?</a></li>
          <li>
            <div class="docsearch" id="docsearch"></div>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>

    </header>

    <div class="page-content">

      

      <div class="grid-wrapper">
        <div class="grid grid-center">

          <aside id="toc-bar" class="grid__item desk-wide-one-sixth">
                <section class="aside-module grid__item one-whole">
                  <div class='section'>
                    <h1 class="title epsilon"><iconify-icon inline icon='mdi:toc' title='Toc'></iconify-icon> On this page</h1>
                    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#elkm1-configuration-and-version">ElkM1 configuration and version</a>
<ul>
<li class="toc-entry toc-h3"><a href="#elkm1-version">ElkM1 version</a></li>
<li class="toc-entry toc-h3"><a href="#elk-m1xep-version">ELK-M1XEP version</a></li>
<li class="toc-entry toc-h3"><a href="#global-setting-35">Global Setting 35</a></li>
<li class="toc-entry toc-h3"><a href="#global-setting-36--40">Global Setting 36 — 40</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#system-trouble-status">System Trouble Status</a></li>
<li class="toc-entry toc-h2"><a href="#configuration">Configuration</a></li>
<li class="toc-entry toc-h2"><a href="#manual-configuration">Manual configuration</a></li>
<li class="toc-entry toc-h2"><a href="#events">Events</a></li>
<li class="toc-entry toc-h2"><a href="#actions">Actions</a>
<ul>
<li class="toc-entry toc-h3"><a href="#actions-elkm1alarm_arm_home_instant-elkm1alarm_arm_night_instant-and-elkm1alarm_arm_vacation">Actions elkm1.alarm_arm_home_instant, elkm1.alarm_arm_night_instant, and elkm1.alarm_arm_vacation</a></li>
<li class="toc-entry toc-h3"><a href="#actions-elkm1alarm_bypass-and-elkm1alarm_clear_bypass">Actions elkm1.alarm_bypass and elkm1.alarm_clear_bypass</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1alarm_display_message">Action elkm1.alarm_display_message</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1sensor_counter_refresh">Action elkm1.sensor_counter_refresh</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1sensor_counter_set">Action elkm1.sensor_counter_set</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1sensor_zone_bypass">Action elkm1.sensor_zone_bypass</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1sensor_zone_trigger">Action elkm1.sensor_zone_trigger</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1set_time">Action elkm1.set_time</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1speak_phrase">Action elkm1.speak_phrase</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1speak_word">Action elkm1.speak_word</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#debugging">Debugging</a></li>
<li class="toc-entry toc-h2"><a href="#related-topics">Related topics</a></li>
</ul>
                  </div>
                </section>
              </aside> 

          
          <div class="grid__item two-thirds desk-wide-seven-twelfths lap-one-whole palm-one-whole">
          

            
              <article class="page">
  
  <header>
    
    
      <div class="breadcrumbs">
        <a href="/">Home</a>
        
          
            
            ▸ <a href="/integrations/">Integrations</a>
          
        
          
            ▸ 
          
        
      </div>
    
    <h1 class="title indent">
      
        Elk-M1 Control
      
    </h1>
  </header>
  
    
    
    
  
  
  <p>The Elk-M1 is a home security and automation controller that is capable of alarm control panel functions and automation.</p>
<p>The Elk-M1 controller is manufactured by <a href="https://www.elkproducts.com" rel="external nofollow">Elk Products<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</p>
<p>There is currently support for the following device types within Home Assistant:</p>
<ul>
<li>
<strong>Alarm</strong> - An ElkM1 area (also known as partition) is represented as an <code>alarm_control_panel</code>.</li>
<li>
<strong>Binary sensor</strong> - ElkM1 zones that have 4 states (i.e.: are not analog zones) are represented as <code>binary_sensor</code> entities. <code>Normal</code> is <code>off</code> and any of the other values is <code>on</code>.</li>
<li>
<strong>Climate</strong> - An ElkM1 thermostat is represented as a <code>climate</code> entity.</li>
<li>
<strong>Light</strong> - An ElkM1 light (which can be X10, Insteon, UPB) is represented as a <code>light</code>.</li>
<li>
<strong>Scene</strong> - ElkM1 tasks are represented as <code>scene</code> entities.</li>
<li>
<strong>Sensor</strong> - ElkM1 counters, keypads, panel, settings, and zones are represented as <code>sensor</code> entities.</li>
<li>
<strong>Switch</strong> - ElkM1 outputs are represented as <code>switch</code> entities.</li>
</ul>
<p>The implementation follows the Elk Products ElkM1 “ASCII Protocol &amp; Interface
Specification, Revision 1.84” document. This document can be found on the Internet.</p>
<h2>ElkM1 configuration and version <a class="title-link" name="elkm1-configuration-and-version" href="#elkm1-configuration-and-version"></a>
</h2>
<p>In order for the ElkM1 integration to work to its fullest with Home Assistant the
ElkM1 panel must be configured correctly. This section describes the configuration
required on the ElkM1 panel.</p>
<h3>ElkM1 version <a class="title-link" name="elkm1-version" href="#elkm1-version"></a>
</h3>
<p>ElkM1 should be running:</p>
<ul>
<li>Version 4.6.8, or</li>
<li>Version 5.2.0 or higher.</li>
</ul>
<p>Force arm away and stay are available in 5.3.0 or higher.</p>
<p>Many features will work with lower versions of the ElkM1. Check the “ElkM1 RS232 Protocol” manual for details.</p>
<h3>ELK-M1XEP version <a class="title-link" name="elk-m1xep-version" href="#elk-m1xep-version"></a>
</h3>
<p>The ELK-M1XEP is the Ethernet controller board for the ElkM1. If connecting the integration
in secure mode the version of the ELK-M1XEP determines which secure protocol is supported.
ELK-M1XEP versions less than 2.0.46 support TLS 1.0, while version 2.0.46 and above support
TLS 1.2. When adding the ElkM1 integration in the user interface use <code>secure</code> for TLS 1.0 and
use <code>TLS 1.2</code> for TLS 1.2. Note that ELK-M1XEP does not support auto-negotiation of the
version of the TLS protocol, the user must specify the TLS version to connect.</p>
<h3>Global Setting 35 <a class="title-link" name="global-setting-35" href="#global-setting-35"></a>
</h3>
<p>The ElkM1 integration tracks the user number and name of the last username to
arm or disarm the panel. The <code>changed_by</code> and <code>changed_by_id</code> attributes of
the <code>alarm_control_panel</code> hold those two attributes.</p>
<p>On the ElkM1 panel Global Setting 35, “Transmit Event Log” must be
enabled for this to fully work.</p>
<p>Note that without Global Setting 35 set and in a single area system,
<code>changed_by</code> and <code>changed_by_id</code> are updated when a user enters a valid
code on a physical keypad.</p>
<h3>Global Setting 36 — 40 <a class="title-link" name="global-setting-36--40" href="#global-setting-36--40"></a>
</h3>
<p>If you are using the features below then these respective global options
should be enabled:</p>
<table>
<thead>
<tr>
<th>Option #</th>
<th>Option Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>36</td>
<td>Transmit Zone Changes</td>
<td>If you are using Zones this allows Home Assistant to track the status of the Zones.</td>
</tr>
<tr>
<td>37</td>
<td>Transmit Output Changes</td>
<td>If you are using Outputs this allows Home Assistant to track the status of the Outputs.</td>
</tr>
<tr>
<td>38</td>
<td>Transmit Automation Task Changes</td>
<td>If you are using ElkM1 Tasks this allows Home Assistant to track the status of the Tasks.</td>
</tr>
<tr>
<td>39</td>
<td>Transmit Light Changes</td>
<td>If you are using ElkM1 Lights this allows Home Assistant to track the status of the lights.</td>
</tr>
<tr>
<td>40</td>
<td>Transmit Keypad Changes</td>
<td>Oddly, this option tracks keypad changes and alarm status. If you are wishing to track keypresses on ElkM1 keypad or if you are wishing to track the armed, disarmed, and alarm state of the ElkM1 then this option should be set.</td>
</tr>
</tbody>
</table>
<h2>System Trouble Status <a class="title-link" name="system-trouble-status" href="#system-trouble-status"></a>
</h2>
<p>The ElkM1 is able to report general system trouble statuses. This is
reported using the <code>system_trouble_status</code> attribute of the
panel sensor (often named <code>sensor.elkm1</code>) in Home Assistant.</p>
<p>The format of the <code>system_trouble_status</code> attribute is a comma separated list
of the active troubles. Only active trouble statuses are in the list.
If the trouble is for a zone then <code>zone &lt;number&gt;</code> is appended to the trouble name.</p>
<p>For example, if zone 42 wireless sensor lost communication with the panel then
<code>system_trouble_status</code> would be “Lost Transmitter zone 42”. If in addition there
was an AC failure then <code>system_trouble_status</code> would be the string
“AC Fail, Lost Transmitter zone 42”.</p>
<p>The complete list of trouble statuses are:</p>
<ul>
<li>AC Fail</li>
<li>Box Tamper (zone is part of status)</li>
<li>Fail To Communicate</li>
<li>EEProm Memory Error</li>
<li>Low Battery Control</li>
<li>Transmitter Low Battery (zone is part of status)</li>
<li>Over Current</li>
<li>Telephone Fault</li>
<li>Output 2</li>
<li>Missing Keypad</li>
<li>Zone Expander</li>
<li>Output Expander</li>
<li>ELKRP Remote Access</li>
<li>Common Area Not Armed</li>
<li>Flash Memory Error</li>
<li>Security Alert (zone is part of status)</li>
<li>Serial Port Expander</li>
<li>Lost Transmitter (zone is part of status)</li>
<li>GE Smoke CleanMe</li>
<li>Ethernet</li>
<li>Display Message In Keypad Line 1</li>
<li>Display Message In Keypad Line 2</li>
<li>Fire (zone is part of status)</li>
</ul>
<h2>Configuration <a class="title-link" name="configuration" href="#configuration"></a>
</h2>
<p>To add the <strong>Elk-M1 Control</strong> integration to your Home Assistant instance, use this My button:</p>
<p><a href="https://my.home-assistant.io/redirect/config_flow_start?domain=elkm1" class="my badge" target="_blank"><img src="https://my.home-assistant.io/badges/config_flow_start.svg"></a></p>
<p>Elk-M1 Control can be auto-discovered by Home Assistant. If an instance was found,
it will be shown as <strong>Discovered</strong>. You can then set it up right away.</p>
<div class="details-block">
  <details class="details-block-item">
    <summary class="details-block-title">
      <span><iconify-icon inline icon="mdi:cursor-hand"></iconify-icon> Manual configuration steps</span>
      <div class="details-block-arrow">
      <svg class="down" width="24" height="24" viewbox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"></path></svg>
      <svg class="up" width="24" height="24" viewbox="0 0 24 24"><path d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"></path></svg>
      </div>
    </summary>
    <div class="details-block-content" id="content_0">
<p>If it wasn’t discovered automatically, don’t worry! You can set up a
manual integration entry:</p>
<ul>
<li>
<p>Browse to your Home Assistant instance.</p>
</li>
<li>
<p>Go to <strong><a href="https://my.home-assistant.io/redirect/integrations" class="my" target="_blank"><iconify-icon inline icon="mdi:devices"></iconify-icon> Settings &gt; Devices &amp; Services</a></strong>.</p>
</li>
<li>
<p>In the bottom right corner, select the
<strong><a href="https://my.home-assistant.io/redirect/config_flow_start?domain=elkm1" class="my" target="_blank"><iconify-icon inline icon="mdi:plus"></iconify-icon> Add Integration</a></strong> button.</p>
</li>
<li>
<p>From the list, select <strong>Elk-M1 Control</strong>.</p>
</li>
<li>
<p>Follow the instructions on screen to complete the setup.</p>
</li>
</ul>
</div>
  </details>
</div>
<h2>Manual configuration <a class="title-link" name="manual-configuration" href="#manual-configuration"></a>
</h2>
<p>Alternatively, configuration through the <span class="terminology"><code>configuration.yaml</code><span class="terminology-tooltip">The configuration.yaml file is the main configuration file for Home Assistant. It lists the integrations to be loaded and their specific configurations. In some cases, the configuration needs to be edited manually directly in the configuration.yaml file. Most integrations can be configured in the UI.<a class="terminology-link" href="/docs/configuration/"> [Learn more]</a></span></span> file
is supported (example below).</p>
<p>Both methods of configuration support “auto configuration”. This works by
reporting only elements on the ElkM1 that have a “Name” configured.
So, for example, if counter #11 on the panel was configured with
the name “Test counter” then this element would show up in Home Assistant. If
an element is being used but does not have a name configured then
it will not appear in Home Assistant through the auto-configuration feature.</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example configuration.yaml entry</span>
<span class="na">elkm1</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">host</span><span class="pi">:</span> <span class="s">elk://IP_ADDRESS_1</span>
  <span class="s">...</span>
  <span class="pi">-</span> <span class="na">host</span><span class="pi">:</span> <span class="s">elk://IP_ADDRESS_2</span>
    <span class="na">prefix</span><span class="pi">:</span> <span class="s">gh</span>  <span class="c1"># for guest house controller</span>
</code></pre></div></div>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="elkm1-configuration-variables" href="#elkm1-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> host </span><span class="config-vars-type">string</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="host" class="title-link" href="#host"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Connection string to Elk of the form <code>&lt;method&gt;://&lt;address&gt;[:port]</code>. <code>&lt;method&gt;</code> is <code>elk</code> for non-secure connection, <code>elks</code> for secure TLS 1.0 connection, <code>elksv1_2</code> for secure TLS 1.2 connection, and <code>serial</code> for serial port connection. <code>&lt;address&gt;</code> is IP address or domain or for <code>serial</code> the serial port that the Elk is connected to. Optional <code>&lt;port&gt;</code> is the port to connect to on the Elk, defaulting to 2101 for <code>elk</code> and 2601 for <code>elks</code> and <code>elksv1_2</code>. For <code>serial</code> method, <em>address</em> is the path to the tty <em>/dev/ttyS1</em> for example and <code>[:baud]</code> is the baud rate to connect with (Elk systems default to 115200 baud, but this can be changed during Elk system configuration). See ELK-M1XEP section above for information on selecting the appropriate secure version. You may have multiple host sections for connecting multiple controllers.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> username </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="username" class="title-link" href="#username"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Username to login to Elk. Required if using a secure connection method.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> password </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="password" class="title-link" href="#password"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Password to login to Elk. Required if using a secure connection method.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> prefix </span><span class="config-vars-type">string</span><a name="prefix" class="title-link" href="#prefix"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The prefix to use, if any, for all the devices created for this controller. At most one host can omit the prefix, all others must have a unique prefix within the Home Assistant instance.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> auto_configure </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: false</span>)</span><a name="auto_configure" class="title-link" href="#auto_configure"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Auto configure <code>area</code>, <code>counter</code>, <code>keypad</code>, <code>output</code>, <code>setting</code>, <code>task</code>, <code>thermostat</code>, <code>plc</code>, and <code>zone</code> by only adding elements that ElkM1 reports on the initial sync.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> area </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="area" class="title-link" href="#area"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Elk areas to include in Home Assistant.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> enabled </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: true</span>)</span><a name="enabled" class="title-link" href="#enabled"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Enable this configuration section.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> include </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="include" class="title-link" href="#include"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to include in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a positive integer or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> exclude </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: None excluded.</span>)</span><a name="exclude" class="title-link" href="#exclude"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to exclude in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a number or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> counter </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="counter" class="title-link" href="#counter"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Elk counters to include in Home Assistant.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> enabled </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: true</span>)</span><a name="enabled" class="title-link" href="#enabled"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Enable this configuration section.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> include </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="include" class="title-link" href="#include"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to include in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a positive integer or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> exclude </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: None excluded.</span>)</span><a name="exclude" class="title-link" href="#exclude"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to exclude in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a number or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> keypad </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="keypad" class="title-link" href="#keypad"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Elk keypads to include in Home Assistant.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> enabled </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: true</span>)</span><a name="enabled" class="title-link" href="#enabled"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Enable this configuration section.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> include </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="include" class="title-link" href="#include"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to include in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a positive integer or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> exclude </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: None excluded.</span>)</span><a name="exclude" class="title-link" href="#exclude"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to exclude in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a number or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> output </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="output" class="title-link" href="#output"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Elk outputs to include in Home Assistant.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> enabled </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: true</span>)</span><a name="enabled" class="title-link" href="#enabled"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Enable this configuration section.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> include </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="include" class="title-link" href="#include"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to include in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a positive integer or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> exclude </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: None excluded.</span>)</span><a name="exclude" class="title-link" href="#exclude"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to exclude in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a number or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> setting </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="setting" class="title-link" href="#setting"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Elk settings to include in Home Assistant.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> enabled </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: true</span>)</span><a name="enabled" class="title-link" href="#enabled"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Enable this configuration section.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> include </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="include" class="title-link" href="#include"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to include in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a positive integer or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> exclude </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: None excluded.</span>)</span><a name="exclude" class="title-link" href="#exclude"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to exclude in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a number or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> task </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="task" class="title-link" href="#task"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Elk tasks to include in Home Assistant.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> enabled </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: true</span>)</span><a name="enabled" class="title-link" href="#enabled"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Enable this configuration section.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> include </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="include" class="title-link" href="#include"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to include in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a positive integer or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> exclude </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: None excluded.</span>)</span><a name="exclude" class="title-link" href="#exclude"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to exclude in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a number or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> thermostat </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="thermostat" class="title-link" href="#thermostat"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Elk thermostats to include in Home Assistant.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> enabled </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: true</span>)</span><a name="enabled" class="title-link" href="#enabled"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Enable this configuration section.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> include </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="include" class="title-link" href="#include"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to include in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a positive integer or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> exclude </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: None excluded.</span>)</span><a name="exclude" class="title-link" href="#exclude"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to exclude in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a number or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> plc </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="plc" class="title-link" href="#plc"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Elk PLC lights to include in Home Assistant.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> enabled </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: true</span>)</span><a name="enabled" class="title-link" href="#enabled"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Enable this configuration section.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> include </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="include" class="title-link" href="#include"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to include in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a positive integer or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> exclude </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: None excluded.</span>)</span><a name="exclude" class="title-link" href="#exclude"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to exclude in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a number or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> zone </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="zone" class="title-link" href="#zone"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Elk zones to include in Home Assistant.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> enabled </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: true</span>)</span><a name="enabled" class="title-link" href="#enabled"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Enable this configuration section.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> include </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: All included.</span>)</span><a name="include" class="title-link" href="#include"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to include in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a positive integer or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> exclude </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: None excluded.</span>)</span><a name="exclude" class="title-link" href="#exclude"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>List to exclude in the form of either <code>&lt;value&gt;</code> or <code>&lt;value&gt;-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is a number or an X10 housecode. See configuration below for examples of ranges.</p>
</span></div>
</div>
</div>
</div>
</div>
</div>
<p>Example configuration of the above:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">elkm1</span><span class="pi">:</span>
  <span class="na">host</span><span class="pi">:</span> <span class="s">elks://IP_ADDRESS</span>
  <span class="na">username</span><span class="pi">:</span> <span class="s">USERNAME</span>
  <span class="na">password</span><span class="pi">:</span> <span class="s">PASSWORD</span>
  <span class="na">area</span><span class="pi">:</span>
    <span class="na">exclude</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">5-8</span><span class="pi">]</span>
  <span class="na">zone</span><span class="pi">:</span>
    <span class="na">exclude</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">11-16</span><span class="pi">,</span> <span class="nv">19-192</span><span class="pi">,</span> <span class="nv">199-208</span><span class="pi">]</span>
  <span class="na">plc</span><span class="pi">:</span>
    <span class="na">include</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">a1-d16</span><span class="pi">,</span> <span class="nv">192</span><span class="pi">]</span>
    <span class="na">exclude</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">b12-d5</span><span class="pi">]</span>
</code></pre></div></div>
<p>Example configuration using <code>auto_configure</code>:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">elkm1</span><span class="pi">:</span>
  <span class="na">host</span><span class="pi">:</span> <span class="s">elks://IP_ADDRESS</span>
  <span class="na">username</span><span class="pi">:</span> <span class="s">USERNAME</span>
  <span class="na">password</span><span class="pi">:</span> <span class="s">PASSWORD</span>
  <span class="na">auto_configure</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div>
<p>Example for a serial port instance on /dev/ttyUSB0 at 115200 baud:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">elkm1</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">host</span><span class="pi">:</span> <span class="s">serial:///dev/ttyUSB0:115200</span>
    <span class="c1"># Elk doesn't know which areas/zones/etc are unused, so it can generate</span>
    <span class="c1"># many unwanted Home Assistant Entities.  Be liberal in excluding them:</span>
    <span class="na">area</span><span class="pi">:</span>
      <span class="na">exclude</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">2-8</span><span class="pi">]</span>
    <span class="na">zone</span><span class="pi">:</span>
      <span class="na">exclude</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">17-192</span><span class="pi">,</span> <span class="nv">195-208</span><span class="pi">]</span>
    <span class="na">plc</span><span class="pi">:</span>
      <span class="na">enabled</span><span class="pi">:</span> <span class="kc">false</span>
    <span class="na">task</span><span class="pi">:</span>
      <span class="na">enabled</span><span class="pi">:</span> <span class="kc">false</span>
    <span class="na">counter</span><span class="pi">:</span>
      <span class="na">exclude</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">1-64</span><span class="pi">]</span>
    <span class="na">keypad</span><span class="pi">:</span>
      <span class="na">exclude</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">3-16</span><span class="pi">]</span>
    <span class="na">setting</span><span class="pi">:</span>
      <span class="na">exclude</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">1-20</span><span class="pi">]</span>
    <span class="na">output</span><span class="pi">:</span>
      <span class="na">enabled</span><span class="pi">:</span> <span class="kc">false</span>
    <span class="na">thermostat</span><span class="pi">:</span>
      <span class="na">enabled</span><span class="pi">:</span> <span class="kc">false</span>
</code></pre></div></div>
<h2>Events <a class="title-link" name="events" href="#events"></a>
</h2>
<p>The ElkM1 integration supports the following event: <code>elkm1.keypad_key_pressed</code>.
The event is generated whenever a key is pressed on an ElkM1 keypad.
The <code>event_data</code> contains the following:</p>
<ul>
<li>
<code>keypad_id</code>: The number of the keypad that reported the keypress.</li>
<li>
<code>key_name</code>: The name of the key that was pressed.</li>
<li>
<code>key</code>: The number of the key that was pressed.</li>
</ul>
<h2>Actions <a class="title-link" name="actions" href="#actions"></a>
</h2>
<p>Besides the standard Home Assistant actions for Alarm control panel, Climate, Light, Scene, Sensor,
and Switch the ElkM1 integration offers these additional actions:</p>
<ul>
<li><code>elkm1.alarm_arm_home_instant</code></li>
<li><code>elkm1.alarm_arm_night_instant</code></li>
<li><code>elkm1.alarm_arm_vacation</code></li>
<li><code>elkm1.alarm_bypass</code></li>
<li><code>elkm1.alarm_clear_bypass</code></li>
<li><code>elkm1.alarm_display_message</code></li>
<li><code>elkm1.sensor_counter_refresh</code></li>
<li><code>elkm1.sensor_counter_set</code></li>
<li><code>elkm1.sensor_zone_bypass</code></li>
<li><code>elkm1.sensor_zone_trigger</code></li>
<li><code>elkm1.set_time</code></li>
<li><code>elkm1.speak_phrase</code></li>
<li><code>elkm1.speak_word</code></li>
</ul>
<h3>Actions elkm1.alarm_arm_home_instant, elkm1.alarm_arm_night_instant, and elkm1.alarm_arm_vacation <a class="title-link" name="actions-elkm1alarm_arm_home_instant-elkm1alarm_arm_night_instant-and-elkm1alarm_arm_vacation" href="#actions-elkm1alarm_arm_home_instant-elkm1alarm_arm_night_instant-and-elkm1alarm_arm_vacation"></a>
</h3>
<p>Arms the ElkM1 area in “home instant”, “night instant”, or “vacation” modes
respectively.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>yes</td>
<td>ElkM1 area which to arm.</td>
</tr>
<tr>
<td><code>code</code></td>
<td>no</td>
<td>Alarm code to arm the system (4 or 6 digits).</td>
</tr>
</tbody>
</table>
<h3>Actions elkm1.alarm_bypass and elkm1.alarm_clear_bypass <a class="title-link" name="actions-elkm1alarm_bypass-and-elkm1alarm_clear_bypass" href="#actions-elkm1alarm_bypass-and-elkm1alarm_clear_bypass"></a>
</h3>
<p>For all zones associated with the specified alarm panel these actions respectively
bypass or clear the bypass the zones.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>yes</td>
<td>ElkM1 area which to bypass or clear bypass.</td>
</tr>
<tr>
<td><code>code</code></td>
<td>no</td>
<td>Alarm code to bypass the alarm panel (4 or 6 digits).</td>
</tr>
</tbody>
</table>
<h3>Action elkm1.alarm_display_message <a class="title-link" name="action-elkm1alarm_display_message" href="#action-elkm1alarm_display_message"></a>
</h3>
<p>Display text on an area’s keypads.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>yes</td>
<td>ElkM1 area which to display the message.</td>
</tr>
<tr>
<td><code>clear</code></td>
<td>yes</td>
<td>0=clear message, 1=clear message with * key, 2=Display until timeout; default 2</td>
</tr>
<tr>
<td><code>beep</code></td>
<td>yes</td>
<td>0=no beep, 1=beep; default 0</td>
</tr>
<tr>
<td><code>timeout</code></td>
<td>yes</td>
<td>Time to display message, 0=forever, max 65535, default 0</td>
</tr>
<tr>
<td><code>line1</code></td>
<td>yes</td>
<td>Up to 16 characters of text (truncated if too long). Default blank.</td>
</tr>
<tr>
<td><code>line2</code></td>
<td>yes</td>
<td>Up to 16 characters of text (truncated if too long). Default blank.</td>
</tr>
</tbody>
</table>
<h3>Action elkm1.sensor_counter_refresh <a class="title-link" name="action-elkm1sensor_counter_refresh" href="#action-elkm1sensor_counter_refresh"></a>
</h3>
<p>Refresh the value of a counter. Note that under certain conditions the
panel does not automatically send a new value under certain
conditions. This action retrieves the current counter value.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>yes</td>
<td>ElkM1 counter to refresh.</td>
</tr>
</tbody>
</table>
<h3>Action elkm1.sensor_counter_set <a class="title-link" name="action-elkm1sensor_counter_set" href="#action-elkm1sensor_counter_set"></a>
</h3>
<p>Set counter to value.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>yes</td>
<td>ElkM1 counter to refresh.</td>
</tr>
<tr>
<td><code>value</code></td>
<td>no</td>
<td>Value to set the counter to Can be 0-65536.</td>
</tr>
</tbody>
</table>
<h3>Action elkm1.sensor_zone_bypass <a class="title-link" name="action-elkm1sensor_zone_bypass" href="#action-elkm1sensor_zone_bypass"></a>
</h3>
<p>Bypass a zone. Note that the only mechanism ElkM1 offers to clear the bypass
is to clear all the bypassed zones in a given alarm panel (area).</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>yes</td>
<td>ElkM1 zone which to bypass.</td>
</tr>
<tr>
<td><code>code</code></td>
<td>no</td>
<td>Alarm code to bypass the zone (4 or 6 digits).</td>
</tr>
</tbody>
</table>
<h3>Action elkm1.sensor_zone_trigger <a class="title-link" name="action-elkm1sensor_zone_trigger" href="#action-elkm1sensor_zone_trigger"></a>
</h3>
<p>Cause a zone on the panel to trigger. This command creates a virtual momentary
open condition on the zone as if the EOL hardwired loop had been physically opened.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>yes</td>
<td>ElkM1 zone which to trigger.</td>
</tr>
</tbody>
</table>
<h3>Action elkm1.set_time <a class="title-link" name="action-elkm1set_time" href="#action-elkm1set_time"></a>
</h3>
<p>Set the time on the panel. Uses the current time on the instance of Home Assistant.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>prefix</code></td>
<td>yes</td>
<td>Prefix to identify panel when multiple panels configured.</td>
</tr>
</tbody>
</table>
<h3>Action elkm1.speak_phrase <a class="title-link" name="action-elkm1speak_phrase" href="#action-elkm1speak_phrase"></a>
</h3>
<p>Speak a phrase. The list of phrases is defined in the ElkM1 ASCII Protocol documentation.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>phrase</code></td>
<td>no</td>
<td>Phrase to speak.</td>
</tr>
<tr>
<td><code>prefix</code></td>
<td>yes</td>
<td>Prefix to identify panel when multiple panels configured.</td>
</tr>
</tbody>
</table>
<h3>Action elkm1.speak_word <a class="title-link" name="action-elkm1speak_word" href="#action-elkm1speak_word"></a>
</h3>
<p>Speak a word. The list of words is defined in the ElkM1 ASCII Protocol documentation.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>word</code></td>
<td>no</td>
<td>Word to speak.</td>
</tr>
<tr>
<td><code>prefix</code></td>
<td>yes</td>
<td>Prefix to identify panel when multiple panels configured.</td>
</tr>
</tbody>
</table>
<h2>Debugging <a class="title-link" name="debugging" href="#debugging"></a>
</h2>
<p>Debug logs are often required to solve an issue. Follow the instructions on <a href="/docs/configuration/troubleshooting/#enabling-debug-logging">Enabling debug logging</a>.</p>
<p>Sometimes, for example, a problem can occur while starting Home Assistant. In this case, follow these instructions.
Add the following to your <span class="terminology"><code>configuration.yaml</code><span class="terminology-tooltip">The configuration.yaml file is the main configuration file for Home Assistant. It lists the integrations to be loaded and their specific configurations. In some cases, the configuration needs to be edited manually directly in the configuration.yaml file. Most integrations can be configured in the UI.<a class="terminology-link" href="/docs/configuration/"> [Learn more]</a></span></span> file in your Home Assistant <code>config</code> directory:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">logger</span><span class="pi">:</span>
  <span class="na">logs</span><span class="pi">:</span>
    <span class="na">elkm1_lib</span><span class="pi">:</span> <span class="s">debug</span>
    <span class="na">homeassistant.components.elkm1</span><span class="pi">:</span> <span class="s">debug</span>
</code></pre></div></div>
<p>After updating your configuration file, restart Home Assistant. The debug logs will be in the file <code>homeassistant.log</code> in the <code>config</code> directory.</p>


  

<div class="text related-topics">
  <h2>Related topics<a class="title-link" href="#related-topics" name="related-topics"></a>
</h2>
  <ul>
    
    
    
    
    
    <li>
      <a href="/docs/configuration/" class="topic">
        Configuration file
      </a>
    </li>
    </ul>
</div>


  
<div class="material-card text feedback">
  <h4>
<iconify-icon inline icon="mdi:feedback" title="Feedback"></iconify-icon> <b> Help us improve our documentation</b><a href="#feedback_section" class="title-link" name="feedback_section"></a>
</h4>
  Suggest an edit to this page, or provide/view feedback for this page.
  <div class="links">
    <ul aria-label="Page feedback options">
    <li><a href="https://github.com/home-assistant/home-assistant.io/tree/current/source/_integrations/elkm1.markdown" target="_blank" title="Edit this page"><iconify-icon inline icon="mdi:edit"></iconify-icon> Edit</a></li>
    
    <li><a href="https://github.com/home-assistant/home-assistant.io/issues/new?template=feedback.yml&amp;url=https%3A%2F%2Fivangrod.github.io%2Fneedlehack-blog%2Fintegrations%2Felkm1%2F&amp;version=2025.9.4&amp;labels=current,integration%3A%20elkm1" target="_blank" title="Provide feedback on this page"><iconify-icon inline icon="mdi:comment-edit-outline"></iconify-icon> Provide feedback</a></li>
    <li><a href="https://github.com/home-assistant/home-assistant.io/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3A%22integration%3A+elkm1%22" target="_blank" title="View pending feedback for this page"><iconify-icon inline icon="mdi:comment-text-multiple-outline"></iconify-icon> View pending feedback</a></li>
    
  </ul>
  </div>
</div>


</article>

            
          </div>


          
            
              <aside id="integration-sidebar" class="grid__item one-third desk-wide-one-quarter lap-one-whole palm-one-whole">
              
            <div class="grid">
  




  


<section class="aside-module grid__item one-whole lap-one-half">
  <div class='brand-logo-container section'>
      <img src='https://brands.home-assistant.io/_/elkm1//logo.png' srcset='https://brands.home-assistant.io/_/elkm1/logo@2x.png 2x' /><a href='https://my.home-assistant.io/redirect/config_flow_start?domain=elkm1' class='my badge' target='_blank'><img src='https://my.home-assistant.io/badges/config_flow_start.svg' /></a></div>

  <div class='section'>The Elk-M1 Control  integration  was introduced in Home Assistant 0.81, and it's used by <a title="Open analytics.home-assistant.io" href="https://analytics.home-assistant.io/integrations" target="_blank" rel="noopener">
        
          308</a> active installations.
        
      
    
  </div>
    <div class='section'>
      <iconify-icon icon='mdi:upload-network-outline'></iconify-icon>&nbsp;Its IoT class is <a href='/blog/2016/02/12/classifying-the-internet-of-things/#classifiers'>Local Push.</a>
    </div>
  <div class='section'>
    <a href="https://github.com/home-assistant/core/tree/dev/homeassistant/components/elkm1" target="_blank"><iconify-icon inline icon='simple-icons:github' title='Github'></iconify-icon> View source on GitHub</a><br />
    <a href="https://github.com/home-assistant/core/issues?q=is%3Aissue+is%3Aopen+label%3A%22integration%3A+elkm1%22" target="_blank"><iconify-icon inline icon='mdi:bug' title='Bug'></iconify-icon> View known issues</a>
  </div></section>

<section class="aside-module grid__item one-whole lap-one-half">
  <div class='section'>
    <h1 class="title epsilon"><iconify-icon inline icon='mdi:person-heart' title='Person heart'></iconify-icon> Integration owners</h1>
    
        
        

          
          <div class="section">
            We are incredibly grateful to the following contributors who currently maintain this integration:<br />
          </div>
          <div class="section"><a href="https://github.com/gwww" target="_blank"><img class="codeowner-avatar" src="https://avatars.githubusercontent.com/gwww?size=96" alt="@gwww"/> @gwww</a><br /><a href="https://github.com/bdraco" target="_blank"><img class="codeowner-avatar" src="https://avatars.githubusercontent.com/bdraco?size=96" alt="@bdraco"/> @bdraco</a><br /></div>
        
    
  </div>
</section>






  <section id="toc-module" class="aside-module grid__item one-whole lap-one-half">
        <div class='section'>
          <h1 class="title epsilon"><iconify-icon inline icon='mdi:toc' title='Toc'></iconify-icon> On this page</h1>
          <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#elkm1-configuration-and-version">ElkM1 configuration and version</a>
<ul>
<li class="toc-entry toc-h3"><a href="#elkm1-version">ElkM1 version</a></li>
<li class="toc-entry toc-h3"><a href="#elk-m1xep-version">ELK-M1XEP version</a></li>
<li class="toc-entry toc-h3"><a href="#global-setting-35">Global Setting 35</a></li>
<li class="toc-entry toc-h3"><a href="#global-setting-36--40">Global Setting 36 — 40</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#system-trouble-status">System Trouble Status</a></li>
<li class="toc-entry toc-h2"><a href="#configuration">Configuration</a></li>
<li class="toc-entry toc-h2"><a href="#manual-configuration">Manual configuration</a></li>
<li class="toc-entry toc-h2"><a href="#events">Events</a></li>
<li class="toc-entry toc-h2"><a href="#actions">Actions</a>
<ul>
<li class="toc-entry toc-h3"><a href="#actions-elkm1alarm_arm_home_instant-elkm1alarm_arm_night_instant-and-elkm1alarm_arm_vacation">Actions elkm1.alarm_arm_home_instant, elkm1.alarm_arm_night_instant, and elkm1.alarm_arm_vacation</a></li>
<li class="toc-entry toc-h3"><a href="#actions-elkm1alarm_bypass-and-elkm1alarm_clear_bypass">Actions elkm1.alarm_bypass and elkm1.alarm_clear_bypass</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1alarm_display_message">Action elkm1.alarm_display_message</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1sensor_counter_refresh">Action elkm1.sensor_counter_refresh</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1sensor_counter_set">Action elkm1.sensor_counter_set</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1sensor_zone_bypass">Action elkm1.sensor_zone_bypass</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1sensor_zone_trigger">Action elkm1.sensor_zone_trigger</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1set_time">Action elkm1.set_time</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1speak_phrase">Action elkm1.speak_phrase</a></li>
<li class="toc-entry toc-h3"><a href="#action-elkm1speak_word">Action elkm1.speak_word</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#debugging">Debugging</a></li>
<li class="toc-entry toc-h2"><a href="#related-topics">Related topics</a></li>
</ul>
        </div>
      </section><section id="category-module" class="aside-module grid__item one-whole lap-one-half">
      <div class='section'>
        <h1 class="title epsilon"><iconify-icon inline icon='mdi:category' title='Category'></iconify-icon> Categories</h1>
        <ul class='divided'><li>
            <a href='/integrations/#alarm'>Alarm</a>
          </li><li>
            <a href='/integrations/#binary-sensor'>Binary sensor</a>
          </li><li>
            <a href='/integrations/#climate'>Climate</a>
          </li><li>
            <a href='/integrations/#hub'>Hub</a>
          </li><li>
            <a href='/integrations/#light'>Light</a>
          </li><li>
            <a href='/integrations/#scene'>Scene</a>
          </li><li>
            <a href='/integrations/#sensor'>Sensor</a>
          </li><li>
            <a href='/integrations/#switch'>Switch</a>
          </li></ul>
      </div>
    </section></div>

          </aside>
          
        </div>
      </div>

      <footer>
        <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="skyline grid">
        <div class="skyline grid__item one-whole">
          <div class="footer-skyline">
          </div>
        </div>
      </div>
      <div class="footer-nav grid">
        <div class="company grid__item one-quarter lap-one-half palm-one-whole">
          <div class="title">
            <img
              src="/images/footer-logo-text.svg"
              height="72"
              alt="Home Assistant"
            />
          </div>
          <p>
            Home Assistant is a project from the <a href="https://www.openhomefoundation.org/">Open Home Foundation</a>, sponsored by <a href="https://www.nabucasa.com/">Nabu Casa</a>.
          </p>
        </div>

        <div class="grid__item one-quarter lap-one-half palm-one-whole">
          <h3>Join us and contribute!</h3>
          <ul>
            <li><a class="external-link" href="https://github.com/home-assistant/">GitHub repo <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://developers.home-assistant.io">Developers Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://design.home-assistant.io">Design Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://data.home-assistant.io">Data Science Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://community.home-assistant.io">Community Forum <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://creators.home-assistant.io/">Creator Network <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://works-with.home-assistant.io/">Works With Home Assistant <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a href="/community">Our community</li>
            <li><a href="/help/reporting_issues/">Reporting issues</a></li>
          </ul>
          <h3>System status</h3>
          <ul>
            <li>
              <a class="external-link"  href="https://alerts.home-assistant.io">Integration Alerts <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
            </li>
            <li><a href="/security/">Security Alerts</a></li>
            <li>
              <a class="external-link" href="https://status.home-assistant.io">System Status <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
            </li>
          </ul>
        </div>

        <div class="grid__item one-quarter lap-one-half palm-one-whole">
          <h3>Companion apps</h3>
          <ul>
            <li><a class="external-link" href="https://apps.apple.com/us/app/home-assistant/id1099568401">iOS and Apple devices</a></li>
            <li><a class="external-link" href="https://play.google.com/store/apps/details?id=io.homeassistant.companion.android">Android and Wear OS</a></li>
            <li><a class="external-link" href="https://companion.home-assistant.io/">...and more!</a></li>
          </ul>
          <h3>Governance</h3>
          <ul>
            <li><a href="/privacy/">Privacy Notices</a></li>
            <li><a href="/developers/cla/">Contributor License Agreement</a></li>
            <li><a href="/tos/">Terms of Service</a></li>
            <li><a href="/code_of_conduct/">Code of Conduct</a></li>
            <li><a href="/developers/credits/">Credits</a></li>
            <li><a href="/developers/license/">License</a></li>
          </ul>
        </div>

        <div class="socials grid__item one-quarter lap-one-half palm-one-whole">

          <h3>Follow us</h3>
          <p><a class="external-link" href='https://newsletter.openhomefoundation.org/#/portal'>Sign up for our newsletter <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></p>
          <div class="icons">
            <a
              rel="me"
              href="https://youtube.com/@home_assistant"
              title="YouTube"
              target="_blank"
              ><iconify-icon icon="simple-icons:youtube"></iconify-icon></a>
            <a
              rel="me"
              href="https://reddit.com/r/homeassistant"
              title="Reddit"
              target="_blank"
              ><iconify-icon icon="simple-icons:reddit"></iconify-icon></a>
            <a
              rel="me"
              href="https://github.com/home-assistant/home-assistant"
              title="GitHub"
              target="_blank"
              ><iconify-icon icon="simple-icons:github"></iconify-icon></a>
            <br />
            <a
              rel="me"
              href="https://fosstodon.org/@homeassistant"
              title="Mastodon"
              target="_blank"
              ><iconify-icon icon="simple-icons:mastodon"></iconify-icon></a>
            <a
              rel="me"
              href="https://bsky.app/profile/home-assistant.io"
              title="Bluesky"
              target="_blank"
             ><iconify-icon icon="simple-icons:bluesky"></iconify-icon></a>
            <a
              rel="me"
              href="https://x.com/home_assistant"
              title="X"
              target="_blank"
             ><iconify-icon icon="simple-icons:x"></iconify-icon></a>
            <br />
            <a
              rel="me"
              href="https://www.facebook.com/homeassistantio"
              title="Facebook"
              target="_blank"
              ><iconify-icon icon="simple-icons:facebook"></iconify-icon></a>
            <a
              rel="me"
              href="https://www.instagram.com/homeassistant/"
              title="Instagram"
              target="_blank"
              ><iconify-icon icon="simple-icons:instagram"></iconify-icon></a>
            <a
              rel="me"
              href="https://www.linkedin.com/company/home-assistant"
              title="LinkedIn"
              target="_blank"
              ><iconify-icon icon="simple-icons:linkedin"></iconify-icon></a>
          </div>

          <div class="web-notice">
            <p>
              For partnership inquiries please check out <a href="https://works-with.home-assistant.io/">Works With Home Assistant</a>. For media, get in touch <a href="mailto:media@openhomefoundation.org">here</a>. For other questions, you can contact us <a href="mailto:hello@home-assistant.io">here</a> (No technical support!)
            </p>
            <p>
              Website powered by <a href="https://jekyllrb.com/">Jekyll</a><br />
              Originally based on the <a href="https://github.com/coogie/oscailte">Oscailte theme</a>
            </p>
            <a href="https://www.netlify.com">
              <img
                src="/images/frontpage/netlify.svg"
                alt="Deploys by Netlify Badge"
              />
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

      </footer>

    </div>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@justinribeiro/lite-youtube@1.3.1/lite-youtube.js"></script>

<script src="/javascripts/terminology_tooltip.js?274cec0734bc752f0e5ea3d4e2e59858" type="text/javascript" defer></script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript" defer></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3/dist/umd/index.min.js"></script>
<script type="text/javascript">
  docsearch({
    container: '#docsearch',
    appId: 'FBHBYS3J0U',
    indexName: 'home-assistant',
    apiKey: "ba6f7e6d97b3d3d2f778978c742a47c6",
  });
  document.querySelector('.site-title').addEventListener('contextmenu', function (ev) {
    ev.preventDefault();
    document.location.assign("https://design.home-assistant.io/#brand/logo")
  });
</script>




<script type="text/javascript">
  {
    const article = document.querySelector("article.post");
    if (article) {
      const iframes = article.querySelectorAll("iframe[data-src]");
      let loaded = false;
      if (iframes) {
        document.addEventListener('mousemove', loadLazyFrames, { passive: true, once: true });
        document.addEventListener('touchmove', loadLazyFrames, { passive: true, once: true });
        document.addEventListener('scroll', loadLazyFrames, { passive: true, once: true });
  
        function loadLazyFrames() {
          if (loaded) return;
          loaded = true;
  
          iframes.forEach((iframe) => {
            const src = iframe.getAttribute("data-src");
            if (src) {
              iframe.setAttribute("src", src);
              iframe.removeAttribute("data-src");
            }
          });
        }
      }
    }
  }
</script>

  </body>
</html>
