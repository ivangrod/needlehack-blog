



<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Google Generative AI - Home Assistant</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions on how to integrate Google Generative AI as a conversation agent">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://www.home-assistant.io/integrations/google_generative_ai_conversation/">

    <meta property="fb:app_id" content="338291289691179">
    <meta property="og:title" content="Google Generative AI">
    <meta property="og:site_name" content="Home Assistant">
    <meta property="og:url" content="https://www.home-assistant.io/integrations/google_generative_ai_conversation/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Instructions on how to integrate Google Generative AI as a conversation agent">
    <meta property="og:image" content="https://ivangrod.github.io/needlehack-blog/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@home_assistant">
    
    <meta name="twitter:title" content="Google Generative AI">
    <meta name="twitter:description" content="Instructions on how to integrate Google Generative AI as a conversation agent">
    <meta name="twitter:image" content="https://ivangrod.github.io/needlehack-blog/images/default-social.png">
    <link rel="me" href="https://fosstodon.org/@homeassistant">

    <link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3/dist/style.min.css" rel="stylesheet" />
    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?3d79f9acc1b3464b313d68cd5a171ca1" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Home Assistant" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&amp;family=Instrument+Sans:ital,wdth,wght@0,99,400..700;1,99,400..700&amp;" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js"></script>
  </head>

  <body  class=" integration-page  ">
    <header class='site-header '>
      



<div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/" class="site-title">
        <div class="logo"></div>
      </a>
      <a class="release-date" href="/blog/2025/09/03/release-20259/" title="Latest version 2025.9.4 released September 19, 2025">
        2025.9.4
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle" />
        <label
          for="toggle"
          class="toggle"
          data-open="Main Menu"
          data-close="⨉"
        ></label>
        <ul class="menu pull-right">
          <li><a  href="/installation/">Getting started</a></li>
          <li>
            <a  href="/docs/">Documentation <iconify-icon inline icon='mdi:chevron-down' title='Chevron down'></iconify-icon></a>
            <ul>
              <li><a href="/installation/"><iconify-icon inline icon='simple-icons:homeassistant' title='Homeassistant'></iconify-icon> Installation</a></li>
              <li><a href="/docs/automation/"><iconify-icon inline icon='mdi:robot-happy' title='Robot happy'></iconify-icon> Automations</a></li>
              <li><a href="/dashboards/"><iconify-icon inline icon='mdi:gauge' title='Gauge'></iconify-icon> Dashboards</a></li>
              <li><a href="/voice_control/"><iconify-icon inline icon='mdi:comment-processing-outline' title='Comment processing outline'></iconify-icon> Voice assistants</a></li>
              <li><a href="/docs/organizing/"><iconify-icon inline icon='mdi:view-grid' title='View grid'></iconify-icon> Device organization</a></li>
              <li><a href="/docs/energy/"><iconify-icon inline icon='mdi:solar-power-variant' title='Solar power variant'></iconify-icon> Energy management</a></li>
              <li><a href="/docs/configuration/"><iconify-icon inline icon='mdi:cog' title='Cog'></iconify-icon> Advanced configuration</a></li>
            </ul>
          </li>
          <li><a class="active" href="/integrations/">Integrations</a></li>
          <li><a  href="/blog/">Blog</a></li>
          <li><a  href="/help/">Need help?</a></li>
          <li>
            <div class="docsearch" id="docsearch"></div>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>

    </header>

    <div class="page-content">

      

      <div class="grid-wrapper">
        <div class="grid grid-center">

          <aside id="toc-bar" class="grid__item desk-wide-one-sixth">
                <section class="aside-module grid__item one-whole">
                  <div class='section'>
                    <h1 class="title epsilon"><iconify-icon inline icon='mdi:toc' title='Toc'></iconify-icon> On this page</h1>
                    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#configuration">Configuration</a></li>
<li class="toc-entry toc-h2"><a href="#generate-an-api-key">Generate an API Key</a></li>
<li class="toc-entry toc-h2"><a href="#options">Options</a></li>
<li class="toc-entry toc-h2"><a href="#google-search">Google Search</a></li>
<li class="toc-entry toc-h2"><a href="#talking-to-super-mario">Talking to Super Mario</a></li>
<li class="toc-entry toc-h2"><a href="#actions">Actions</a>
<ul>
<li class="toc-entry toc-h3"><a href="#generate-content">Generate content</a></li>
<li class="toc-entry toc-h3"><a href="#speak">Speak</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#video-tutorial">Video tutorial</a></li>
<li class="toc-entry toc-h2"><a href="#troubleshooting">Troubleshooting</a></li>
<li class="toc-entry toc-h2"><a href="#removing-the-integration">Removing the integration</a>
<ul>
<li class="toc-entry toc-h3"><a href="#to-remove-an-integration-instance-from-home-assistant">To remove an integration instance from Home Assistant</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#related-topics">Related topics</a></li>
<li class="toc-entry toc-h2"><a href="#related-links">Related links</a></li>
</ul>
                  </div>
                </section>
              </aside> 

          
          <div class="grid__item two-thirds desk-wide-seven-twelfths lap-one-whole palm-one-whole">
          

            
              <article class="page">
  
  <header>
    
    
      <div class="breadcrumbs">
        <a href="/">Home</a>
        
          
            
            ▸ <a href="/integrations/">Integrations</a>
          
        
          
            ▸ 
          
        
      </div>
    
    <h1 class="title indent">
      
        Google Generative AI
      
    </h1>
  </header>
  
    
    
    
  
  
  <p>The Google Generative AI integration adds a conversation agent, speech-to-text, and text-to-speech entities powered by <a href="https://ai.google.dev/" rel="external nofollow">Google Generative AI<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> to Home Assistant. The conversation agent can optionally be allowed to control Home Assistant.</p>
<p>Controlling Home Assistant is done by providing the AI access to the Assist API of Home Assistant. You can control what devices and entities it can access from the <a href="https://my.home-assistant.io/redirect/voice_assistants" class="my" target="_blank">exposed entities page</a>. The AI is able to provide you information about your devices and control them.</p>
<p>This integration does not integrate with <a href="/docs/automation/trigger/#sentence-trigger">sentence triggers</a>.</p>
<p>This integration requires an API key to use, <a href="https://aistudio.google.com/app/apikey" rel="external nofollow">which you can generate here<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>, and to be in one of the <a href="https://ai.google.dev/gemini-api/docs/available-regions" rel="external nofollow">available regions<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</p>
<h2>Configuration <a class="title-link" name="configuration" href="#configuration"></a>
</h2>
<p>To add the <strong>Google Generative AI</strong> service to your Home Assistant instance, use this My button:</p>
<p><a href="https://my.home-assistant.io/redirect/config_flow_start?domain=google_generative_ai_conversation" class="my badge" target="_blank"><img src="https://my.home-assistant.io/badges/config_flow_start.svg"></a></p>
<div class="details-block">
  <details class="details-block-item">
    <summary class="details-block-title">
      <span><iconify-icon inline icon="mdi:cursor-hand"></iconify-icon> Manual configuration steps</span>
      <div class="details-block-arrow">
      <svg class="down" width="24" height="24" viewbox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"></path></svg>
      <svg class="up" width="24" height="24" viewbox="0 0 24 24"><path d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"></path></svg>
      </div>
    </summary>
    <div class="details-block-content" id="content_0">
<p>If the above My button doesn’t work, you can also perform the following steps
manually:</p>
<ul>
<li>
<p>Browse to your Home Assistant instance.</p>
</li>
<li>
<p>Go to <strong><a href="https://my.home-assistant.io/redirect/integrations" class="my" target="_blank"><iconify-icon inline icon="mdi:devices"></iconify-icon> Settings &gt; Devices &amp; Services</a></strong>.</p>
</li>
<li>
<p>In the bottom right corner, select the
<strong><a href="https://my.home-assistant.io/redirect/config_flow_start?domain=google_generative_ai_conversation" class="my" target="_blank"><iconify-icon inline icon="mdi:plus"></iconify-icon> Add Integration</a></strong> button.</p>
</li>
<li>
<p>From the list, select <strong>Google Generative AI</strong>.</p>
</li>
<li>
<p>Follow the instructions on screen to complete the setup.</p>
</li>
</ul>
</div>
  </details>
</div>
<h2>Generate an API Key <a class="title-link" name="generate-an-api-key" href="#generate-an-api-key"></a>
</h2>
<p>The Google Generative AI API key is used to authenticate requests to the Google Generative AI API. To generate an API key take the following steps:</p>
<ul>
<li>Visit the <a href="https://aistudio.google.com/app/apikey" rel="external nofollow">API Keys page<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> to retrieve the API key you’ll use to configure the integration.</li>
</ul>
<p>On the same page, you can see your plan: <em>free of charge</em> if the associated Google Cloud project doesn’t have billing, or <em>pay-as-you-go</em> if the associated Google Cloud project has billing enabled.
Comparison of the plans is available <a href="https://ai.google.dev/pricing" rel="external nofollow">at this pricing page<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>. The major differences include: the free of charge plan is rate limited, and free prompts/responses are used for product improvement.</p>
<h2>Options <a class="title-link" name="options" href="#options"></a>
</h2>
<p>Options for Google Generative AI can be set via the user interface, by taking the following steps:</p>
<ul>
<li>Browse to your Home Assistant instance.</li>
<li>Go to <strong><a href="https://my.home-assistant.io/redirect/integrations" class="my" target="_blank">Settings &gt; Devices &amp; Services</a></strong>.</li>
<li>If multiple instances of Google Generative AI are configured, choose the instance you want to configure.</li>
<li>Select the integration, then select <strong>Configure</strong>.</li>
</ul>
<div class="config-vars basic">
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Instructions</span><a name="instructions" class="title-link" href="#instructions"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Instructions for the AI on how it should respond to your requests. It is written using <a href="/docs/configuration/templating/">Home Assistant Templating</a>.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Control Home Assistant</span><a name="control-home-assistant" class="title-link" href="#control-home-assistant"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>If the model is allowed to interact with Home Assistant. It can only control or provide information about entities that are <a href="/voice_control/voice_remote_expose_devices/">exposed</a> to it.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Recommended settings</span><a name="recommended-settings" class="title-link" href="#recommended-settings"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>If enabled, the recommended model and settings are chosen.</p>
</span></div>
</div>
</div>
</div>
<p>If you choose to not use the recommended settings, you can configure the following options:</p>
<div class="config-vars basic">
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Model</span><a name="model" class="title-link" href="#model"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Model used to generate response.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Temperature</span><a name="temperature" class="title-link" href="#temperature"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Creativity allowed in the responses. Higher values produce a more random and varied response. A temperature of zero will be deterministic.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Top P</span><a name="top-p" class="title-link" href="#top-p"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Probability threshold for top-p sampling.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Top K</span><a name="top-k" class="title-link" href="#top-k"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Number of top-scored tokens to consider during generation.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Maximum Tokens to Return in Response</span><a name="maximum-tokens-to-return-in-response" class="title-link" href="#maximum-tokens-to-return-in-response"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The maximum number of words or “tokens” that the AI model should generate.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Safety settings</span><a name="safety-settings" class="title-link" href="#safety-settings"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Thresholds for different <a href="https://ai.google.dev/gemini-api/docs/safety-settings" rel="external nofollow">harmful categories<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Enable Google Search tool</span><a name="enable-google-search-tool" class="title-link" href="#enable-google-search-tool"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Enables the model to <a href="https://ai.google.dev/gemini-api/docs/grounding" rel="external nofollow">query Google Search<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>. This can only be enabled when the “Control Home Assistant” setting is set to “No control”. See below for a workaround using it with “Assist”.</p>
</span></div>
</div>
</div>
</div>
<h2>Google Search <a class="title-link" name="google-search" href="#google-search"></a>
</h2>
<p>Due to an API limitation we cannot have the <a href="https://ai.google.dev/gemini-api/docs/grounding" rel="external nofollow">Google Search tool<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> together with other tools. Request fails with <code>400 INVALID_ARGUMENT. {'error': {'code': 400, 'message': 'Tool use with function calling is unsupported', 'status': 'INVALID_ARGUMENT'}}</code>.
But you can do the following workaround that exposes a script to voice assistants. The script calls a Google Generative AI Conversation that only has the Google Search tool enabled.</p>
<div class="details-block">
  <details class="details-block-item">
    <summary class="details-block-title">
      <span>Workaround for Google Search tool</span>
      <div class="details-block-arrow">
      <svg class="down" width="24" height="24" viewbox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"></path></svg>
      <svg class="up" width="24" height="24" viewbox="0 0 24 24"><path d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"></path></svg>
      </div>
    </summary>
    <div class="details-block-content" id="content_0">
<ol>
<li>Add a second Google Generative AI service.</li>
<li>Select <strong>Configure</strong>
</li>
<li>In the <strong>Control Home Assistant</strong> section, uncheck <strong>Assist</strong> and any other options.</li>
<li>Uncheck <strong>Recommended model settings</strong>
</li>
<li>Select <strong>Submit</strong>
</li>
<li>Check <strong>Enable Google Search tool</strong>
</li>
<li>Increase <strong>Maximum tokens to return in response</strong>
</li>
<li>Select <strong>Submit</strong>
</li>
<li>Create a script (<strong>Settings</strong> &gt; <strong>Automations &amp; scenes</strong> &gt; <strong>Scripts</strong> &gt; <strong>Create script</strong>)</li>
<li>Select 3 dots &gt; <strong>Edit in YAML</strong> and enter the following (edit the <code>conversation.google_generative_ai_2</code> to match the entity created from the 1st step):</li>
</ol>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">sequence</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">conversation.process</span>
    <span class="na">metadata</span><span class="pi">:</span> <span class="pi">{}</span>
    <span class="na">data</span><span class="pi">:</span>
      <span class="na">agent_id</span><span class="pi">:</span> <span class="s">conversation.google_generative_ai_2</span>
      <span class="na">text</span><span class="pi">:</span> <span class="s2">"</span><span class="s">{{</span><span class="nv"> </span><span class="s">query</span><span class="nv"> </span><span class="s">}}"</span>
    <span class="na">response_variable</span><span class="pi">:</span> <span class="s">result</span>
  <span class="pi">-</span> <span class="na">variables</span><span class="pi">:</span>
      <span class="na">result</span><span class="pi">:</span>
        <span class="na">response</span><span class="pi">:</span> <span class="s2">"</span><span class="s">{{</span><span class="nv"> </span><span class="s">result.response.speech.plain.speech</span><span class="nv"> </span><span class="s">}}"</span>
  <span class="pi">-</span> <span class="na">stop</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
    <span class="na">response_variable</span><span class="pi">:</span> <span class="s">result</span>
<span class="na">alias</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Assist:</span><span class="nv"> </span><span class="s">Search</span><span class="nv"> </span><span class="s">Google"</span>
<span class="na">description</span><span class="pi">:</span> <span class="pi">&gt;-</span>
  <span class="s">Makes a Google search to answer questions that are completely unrelated with</span>
  <span class="s">the smart home and are exclusively about current events or information in</span>
  <span class="s">real-time like the current president, results of last night's game, release</span>
  <span class="s">dates, etc.</span>
<span class="na">fields</span><span class="pi">:</span>
  <span class="na">query</span><span class="pi">:</span>
    <span class="na">selector</span><span class="pi">:</span>
      <span class="na">text</span><span class="pi">:</span> <span class="kc">null</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">Query</span>
    <span class="na">description</span><span class="pi">:</span> <span class="s">The query to search Google for</span>
    <span class="na">required</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div>
<ol start="11">
<li>Select <strong>Save script</strong>
</li>
<li>Select 3 dots &gt; <strong>Settings</strong> &gt; <strong>Voice assistants</strong>
</li>
<li>Check <strong>Expose</strong> <strong>Assist</strong>
</li>
</ol>
</div>
  </details>
</div>
<h2>Talking to Super Mario <a class="title-link" name="talking-to-super-mario" href="#talking-to-super-mario"></a>
</h2>
<p>You can use this integration to <a href="/voice_control/assist_create_open_ai_personality/">talk to Super Mario and, if you want, have him control devices in your home</a>.</p>
<p>The tutorial is using OpenAI, but this could also be done with the Google Generative AI integration.</p>
<h2>Actions <a class="title-link" name="actions" href="#actions"></a>
</h2>
<h3>Generate content <a class="title-link" name="generate-content" href="#generate-content"></a>
</h3>
<div class="alert alert-tip">
  <p class="alert-title"><iconify-icon inline icon="mdi:lightbulb-outline"></iconify-icon> Tip</p>
  <div class="alert-content">
<p>This action isn’t tied to any integration entry, so it won’t use the model, prompt, or any of the other settings in your options. If you only want to pass text, you should use the <code>conversation.process</code> action.</p>
  </div>
</div>
<p>Allows you to ask Gemini Pro or Gemini Pro Vision to generate content from a prompt consisting of text and optionally attachments (images, PDFs, etc.).
This action populates <a href="/docs/scripts/perform-actions#use-templates-to-handle-response-data">response data</a> with the generated content.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>prompt</code></td>
<td>no</td>
<td>The prompt for generating the content.</td>
<td>Describe this image</td>
</tr>
<tr>
<td><code>filenames</code></td>
<td>yes</td>
<td>File names for attachments to include in the prompt.</td>
<td>/tmp/image.jpg</td>
</tr>
</tbody>
</table>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">action</span><span class="pi">:</span> <span class="s">google_generative_ai_conversation.generate_content</span>
<span class="na">data</span><span class="pi">:</span>
  <span class="na">prompt</span><span class="pi">:</span> <span class="pi">&gt;-</span>
    <span class="s">Very briefly describe what you see in this image from my doorbell camera.</span>
    <span class="s">Your message needs to be short to fit in a phone notification. Don't</span>
    <span class="s">describe stationary objects or buildings.</span>
  <span class="na">filenames</span><span class="pi">:</span> <span class="s">/tmp/doorbell_snapshot.jpg</span>
<span class="na">response_variable</span><span class="pi">:</span> <span class="s">generated_content</span>
</code></pre></div></div>
<p>The response data field <code>text</code> will contain the generated content.</p>
<p>Another example with multiple images:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">action</span><span class="pi">:</span> <span class="s">google_generative_ai_conversation.generate_content</span>
<span class="na">data</span><span class="pi">:</span>
  <span class="na">prompt</span><span class="pi">:</span> <span class="pi">&gt;-</span>
    <span class="s">Briefly describe what happened in the following sequence of images</span>
    <span class="s">from my driveway camera.</span>
  <span class="na">filenames</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">/tmp/driveway_snapshot1.jpg</span>
    <span class="pi">-</span> <span class="s">/tmp/driveway_snapshot2.jpg</span>
    <span class="pi">-</span> <span class="s">/tmp/driveway_snapshot3.jpg</span>
    <span class="pi">-</span> <span class="s">/tmp/driveway_snapshot4.jpg</span>
<span class="na">response_variable</span><span class="pi">:</span> <span class="s">generated_content</span>
</code></pre></div></div>
<h3>Speak <a class="title-link" name="speak" href="#speak"></a>
</h3>
<p>The <code>tts.speak</code> action is the modern way to use TTS. Add the <code>speak</code> action, select the Google Generative AI TTS entity, select the media player entity or group to send the TTS audio to, and enter the message to speak.</p>
<p>Text-to-speech (TTS) generation is controllable, meaning you can use natural language to structure interactions and guide the style, accent, pace, and tone of the audio. You can change the way the text is spoken directly in the message by, e.g. entering “Say cheerfully: Have a wonderful day” instead of just “Have a wonderful day”.</p>
<p>For more options about <code>speak</code>, see the Speak section on the main <a href="/integrations/tts/#service-speak">TTS</a> building block page.</p>
<p>In YAML, your action will look like this:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">action</span><span class="pi">:</span> <span class="s">tts.speak</span>
<span class="na">target</span><span class="pi">:</span>
  <span class="na">entity_id</span><span class="pi">:</span> <span class="s">tts.google_generative_ai_tts</span>
<span class="na">data</span><span class="pi">:</span>
  <span class="na">media_player_entity_id</span><span class="pi">:</span> <span class="s">media_player.tv</span>
  <span class="na">message: Say cheerfully</span><span class="pi">:</span> <span class="s">Have a wonderful day!</span>
  <span class="na">options</span><span class="pi">:</span>
    <span class="na">voice</span><span class="pi">:</span> <span class="s">&lt;voice-name&gt;</span>
</code></pre></div></div>
<p>You can configure the following options:</p>
<table>
<thead>
<tr>
<th>Option attribute</th>
<th>Optional</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>voice</code></td>
<td>yes</td>
<td>The <a href="https://ai.google.dev/gemini-api/docs/speech-generation#voices" rel="external nofollow">voice name<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> to be used for the generated speech. The default is <code>zephyr</code>.</td>
<td><code>achernar</code></td>
</tr>
</tbody>
</table>
<p>The input language is detected automatically. Check the <a href="https://ai.google.dev/gemini-api/docs/speech-generation#languages" rel="external nofollow">Google AI documentation<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> for the supported languages.</p>
<h2>Video tutorial <a class="title-link" name="video-tutorial" href="#video-tutorial"></a>
</h2>
<p>This video tutorial explains how Google Generative AI can be set up, how you can send an AI-generated message to your smart speaker when you arrive home, and how you can analyze an image taken from your doorbell camera as soon as someone rings the doorbell.</p>
<p><lite-youtube videoid="ivoYNd2vMR0" videotitle="AI in Home Assistant - A Complete Guide!" posterquality="maxresdefault"></lite-youtube></p>
<h2>Troubleshooting <a class="title-link" name="troubleshooting" href="#troubleshooting"></a>
</h2>
<ul>
<li>To aid in diagnosing issues it may help to turn up verbose logging by adding these to your <span class="terminology"><code>configuration.yaml</code><span class="terminology-tooltip">The configuration.yaml file is the main configuration file for Home Assistant. It lists the integrations to be loaded and their specific configurations. In some cases, the configuration needs to be edited manually directly in the configuration.yaml file. Most integrations can be configured in the UI.<a class="terminology-link" href="/docs/configuration/"> [Learn more]</a></span></span>:</li>
</ul>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">logger</span><span class="pi">:</span>
  <span class="na">logs</span><span class="pi">:</span>
    <span class="na">homeassistant.components.conversation</span><span class="pi">:</span> <span class="s">debug</span>
    <span class="na">homeassistant.components.conversation.chat_log</span><span class="pi">:</span> <span class="s">debug</span>
    <span class="na">homeassistant.components.google_generative_ai_conversation</span><span class="pi">:</span> <span class="s">debug</span>
</code></pre></div></div>
<h2>Removing the integration <a class="title-link" name="removing-the-integration" href="#removing-the-integration"></a>
</h2>
<h3>To remove an integration instance from Home Assistant <a class="title-link" name="to-remove-an-integration-instance-from-home-assistant" href="#to-remove-an-integration-instance-from-home-assistant"></a>
</h3>
<ol>
<li>Go to <a href="https://my.home-assistant.io/redirect/integrations" class="my" target="_blank"><strong>Settings</strong> &gt; <strong>Devices &amp; services</strong></a> and select the integration card.</li>
<li>From the list of devices, select the integration instance you want to remove.</li>
<li>Next to the entry, select the three dots <iconify-icon inline icon="mdi:dots-vertical" title="Dots vertical"></iconify-icon> menu. Then, select <strong>Delete</strong>.</li>
</ol>


  

<div class="text related-topics">
  <h2>Related topics<a class="title-link" href="#related-topics" name="related-topics"></a>
</h2>
  <ul>
    
    
    
    
    
    <li>
      <a href="/voice_control/voice_remote_expose_devices/" class="topic">
        Exposing entities to assist
      </a>
    </li>
    
    
    
    
    
    
    <li>
      <a href="/voice_control/assist_create_open_ai_personality/" class="topic">
        Create an ai personality
      </a>
    </li>
    </ul>
</div>


<div class="text related-links">
  <h2>Related links<a class="title-link" href="#related-links" name="related-links"></a>
</h2>
  <ul>
    
    <li><a href="https://aistudio.google.com/app/apikey" class="link" target="_blank" rel="external nofollow">Google Generative AI API key<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a></li>
    
    <li><a href="https://ai.google.dev/" class="link" target="_blank" rel="external nofollow">Google Generative AI<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a></li>
    
  </ul>
</div>

  
<div class="material-card text feedback">
  <h4>
<iconify-icon inline icon="mdi:feedback" title="Feedback"></iconify-icon> <b> Help us improve our documentation</b><a href="#feedback_section" class="title-link" name="feedback_section"></a>
</h4>
  Suggest an edit to this page, or provide/view feedback for this page.
  <div class="links">
    <ul aria-label="Page feedback options">
    <li><a href="https://github.com/home-assistant/home-assistant.io/tree/current/source/_integrations/google_generative_ai_conversation.markdown" target="_blank" title="Edit this page"><iconify-icon inline icon="mdi:edit"></iconify-icon> Edit</a></li>
    
    <li><a href="https://github.com/home-assistant/home-assistant.io/issues/new?template=feedback.yml&amp;url=https%3A%2F%2Fivangrod.github.io%2Fneedlehack-blog%2Fintegrations%2Fgoogle_generative_ai_conversation%2F&amp;version=2025.9.4&amp;labels=current,integration%3A%20google_generative_ai_conversation" target="_blank" title="Provide feedback on this page"><iconify-icon inline icon="mdi:comment-edit-outline"></iconify-icon> Provide feedback</a></li>
    <li><a href="https://github.com/home-assistant/home-assistant.io/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3A%22integration%3A+google_generative_ai_conversation%22" target="_blank" title="View pending feedback for this page"><iconify-icon inline icon="mdi:comment-text-multiple-outline"></iconify-icon> View pending feedback</a></li>
    
  </ul>
  </div>
</div>


</article>

            
          </div>


          
            
              <aside id="integration-sidebar" class="grid__item one-third desk-wide-one-quarter lap-one-whole palm-one-whole">
              
            <div class="grid">
  




  


<section class="aside-module grid__item one-whole lap-one-half">
  <div class='brand-logo-container section'>
      <img src='https://brands.home-assistant.io/_/google_generative_ai_conversation//logo.png' srcset='https://brands.home-assistant.io/_/google_generative_ai_conversation/logo@2x.png 2x' /><a href='https://my.home-assistant.io/redirect/config_flow_start?domain=google_generative_ai_conversation' class='my badge' target='_blank'><img src='https://my.home-assistant.io/badges/config_flow_start.svg' /></a></div>

  <div class='section'>The Google Generative AI  service  was introduced in Home Assistant 2023.6, and it's used by <a title="Open analytics.home-assistant.io" href="https://analytics.home-assistant.io/integrations" target="_blank" rel="noopener">
        
          4.3%</a> of the active installations.
        
      
    
  </div>
    <div class='section'>
      <iconify-icon icon='mdi:cloud-upload'></iconify-icon>&nbsp;Its IoT class is <a href='/blog/2016/02/12/classifying-the-internet-of-things/#classifiers'>Cloud Polling.</a>
    </div>
  <div class='section'>
    <a href="https://github.com/home-assistant/core/tree/dev/homeassistant/components/google_generative_ai_conversation" target="_blank"><iconify-icon inline icon='simple-icons:github' title='Github'></iconify-icon> View source on GitHub</a><br />
    <a href="https://github.com/home-assistant/core/issues?q=is%3Aissue+is%3Aopen+label%3A%22integration%3A+google_generative_ai_conversation%22" target="_blank"><iconify-icon inline icon='mdi:bug' title='Bug'></iconify-icon> View known issues</a>
  </div></section>

<section class="aside-module grid__item one-whole lap-one-half">
  <div class='section'>
    <h1 class="title epsilon"><iconify-icon inline icon='mdi:person-heart' title='Person heart'></iconify-icon> Integration owners</h1>
    
        
        

          
          <div class="section">
            We are incredibly grateful to the following contributors who currently maintain this integration:<br />
          </div>
          <div class="section"><a href="https://github.com/tronikos" target="_blank"><img class="codeowner-avatar" src="https://avatars.githubusercontent.com/tronikos?size=96" alt="@tronikos"/> @tronikos</a><br /><a href="https://github.com/ivanlh" target="_blank"><img class="codeowner-avatar" src="https://avatars.githubusercontent.com/ivanlh?size=96" alt="@ivanlh"/> @ivanlh</a><br /></div>
        
    
  </div>
</section>






  <section id="toc-module" class="aside-module grid__item one-whole lap-one-half">
        <div class='section'>
          <h1 class="title epsilon"><iconify-icon inline icon='mdi:toc' title='Toc'></iconify-icon> On this page</h1>
          <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#configuration">Configuration</a></li>
<li class="toc-entry toc-h2"><a href="#generate-an-api-key">Generate an API Key</a></li>
<li class="toc-entry toc-h2"><a href="#options">Options</a></li>
<li class="toc-entry toc-h2"><a href="#google-search">Google Search</a></li>
<li class="toc-entry toc-h2"><a href="#talking-to-super-mario">Talking to Super Mario</a></li>
<li class="toc-entry toc-h2"><a href="#actions">Actions</a>
<ul>
<li class="toc-entry toc-h3"><a href="#generate-content">Generate content</a></li>
<li class="toc-entry toc-h3"><a href="#speak">Speak</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#video-tutorial">Video tutorial</a></li>
<li class="toc-entry toc-h2"><a href="#troubleshooting">Troubleshooting</a></li>
<li class="toc-entry toc-h2"><a href="#removing-the-integration">Removing the integration</a>
<ul>
<li class="toc-entry toc-h3"><a href="#to-remove-an-integration-instance-from-home-assistant">To remove an integration instance from Home Assistant</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#related-topics">Related topics</a></li>
<li class="toc-entry toc-h2"><a href="#related-links">Related links</a></li>
</ul>
        </div>
      </section><section id="category-module" class="aside-module grid__item one-whole lap-one-half">
      <div class='section'>
        <h1 class="title epsilon"><iconify-icon inline icon='mdi:category' title='Category'></iconify-icon> Categories</h1>
        <ul class='divided'><li>
            <a href='/integrations/#ai'>AI</a>
          </li><li>
            <a href='/integrations/#speech-to-text'>Speech-to-text</a>
          </li><li>
            <a href='/integrations/#text-to-speech'>Text-to-speech</a>
          </li><li>
            <a href='/integrations/#voice'>Voice</a>
          </li></ul>
      </div>
    </section></div>

          </aside>
          
        </div>
      </div>

      <footer>
        <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="skyline grid">
        <div class="skyline grid__item one-whole">
          <div class="footer-skyline">
          </div>
        </div>
      </div>
      <div class="footer-nav grid">
        <div class="company grid__item one-quarter lap-one-half palm-one-whole">
          <div class="title">
            <img
              src="/images/footer-logo-text.svg"
              height="72"
              alt="Home Assistant"
            />
          </div>
          <p>
            Home Assistant is a project from the <a href="https://www.openhomefoundation.org/">Open Home Foundation</a>, sponsored by <a href="https://www.nabucasa.com/">Nabu Casa</a>.
          </p>
        </div>

        <div class="grid__item one-quarter lap-one-half palm-one-whole">
          <h3>Join us and contribute!</h3>
          <ul>
            <li><a class="external-link" href="https://github.com/home-assistant/">GitHub repo <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://developers.home-assistant.io">Developers Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://design.home-assistant.io">Design Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://data.home-assistant.io">Data Science Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://community.home-assistant.io">Community Forum <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://creators.home-assistant.io/">Creator Network <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://works-with.home-assistant.io/">Works With Home Assistant <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a href="/community">Our community</li>
            <li><a href="/help/reporting_issues/">Reporting issues</a></li>
          </ul>
          <h3>System status</h3>
          <ul>
            <li>
              <a class="external-link"  href="https://alerts.home-assistant.io">Integration Alerts <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
            </li>
            <li><a href="/security/">Security Alerts</a></li>
            <li>
              <a class="external-link" href="https://status.home-assistant.io">System Status <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
            </li>
          </ul>
        </div>

        <div class="grid__item one-quarter lap-one-half palm-one-whole">
          <h3>Companion apps</h3>
          <ul>
            <li><a class="external-link" href="https://apps.apple.com/us/app/home-assistant/id1099568401">iOS and Apple devices</a></li>
            <li><a class="external-link" href="https://play.google.com/store/apps/details?id=io.homeassistant.companion.android">Android and Wear OS</a></li>
            <li><a class="external-link" href="https://companion.home-assistant.io/">...and more!</a></li>
          </ul>
          <h3>Governance</h3>
          <ul>
            <li><a href="/privacy/">Privacy Notices</a></li>
            <li><a href="/developers/cla/">Contributor License Agreement</a></li>
            <li><a href="/tos/">Terms of Service</a></li>
            <li><a href="/code_of_conduct/">Code of Conduct</a></li>
            <li><a href="/developers/credits/">Credits</a></li>
            <li><a href="/developers/license/">License</a></li>
          </ul>
        </div>

        <div class="socials grid__item one-quarter lap-one-half palm-one-whole">

          <h3>Follow us</h3>
          <p><a class="external-link" href='https://newsletter.openhomefoundation.org/#/portal'>Sign up for our newsletter <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></p>
          <div class="icons">
            <a
              rel="me"
              href="https://youtube.com/@home_assistant"
              title="YouTube"
              target="_blank"
              ><iconify-icon icon="simple-icons:youtube"></iconify-icon></a>
            <a
              rel="me"
              href="https://reddit.com/r/homeassistant"
              title="Reddit"
              target="_blank"
              ><iconify-icon icon="simple-icons:reddit"></iconify-icon></a>
            <a
              rel="me"
              href="https://github.com/home-assistant/home-assistant"
              title="GitHub"
              target="_blank"
              ><iconify-icon icon="simple-icons:github"></iconify-icon></a>
            <br />
            <a
              rel="me"
              href="https://fosstodon.org/@homeassistant"
              title="Mastodon"
              target="_blank"
              ><iconify-icon icon="simple-icons:mastodon"></iconify-icon></a>
            <a
              rel="me"
              href="https://bsky.app/profile/home-assistant.io"
              title="Bluesky"
              target="_blank"
             ><iconify-icon icon="simple-icons:bluesky"></iconify-icon></a>
            <a
              rel="me"
              href="https://x.com/home_assistant"
              title="X"
              target="_blank"
             ><iconify-icon icon="simple-icons:x"></iconify-icon></a>
            <br />
            <a
              rel="me"
              href="https://www.facebook.com/homeassistantio"
              title="Facebook"
              target="_blank"
              ><iconify-icon icon="simple-icons:facebook"></iconify-icon></a>
            <a
              rel="me"
              href="https://www.instagram.com/homeassistant/"
              title="Instagram"
              target="_blank"
              ><iconify-icon icon="simple-icons:instagram"></iconify-icon></a>
            <a
              rel="me"
              href="https://www.linkedin.com/company/home-assistant"
              title="LinkedIn"
              target="_blank"
              ><iconify-icon icon="simple-icons:linkedin"></iconify-icon></a>
          </div>

          <div class="web-notice">
            <p>
              For partnership inquiries please check out <a href="https://works-with.home-assistant.io/">Works With Home Assistant</a>. For media, get in touch <a href="mailto:media@openhomefoundation.org">here</a>. For other questions, you can contact us <a href="mailto:hello@home-assistant.io">here</a> (No technical support!)
            </p>
            <p>
              Website powered by <a href="https://jekyllrb.com/">Jekyll</a><br />
              Originally based on the <a href="https://github.com/coogie/oscailte">Oscailte theme</a>
            </p>
            <a href="https://www.netlify.com">
              <img
                src="/images/frontpage/netlify.svg"
                alt="Deploys by Netlify Badge"
              />
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

      </footer>

    </div>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@justinribeiro/lite-youtube@1.3.1/lite-youtube.js"></script>

<script src="/javascripts/terminology_tooltip.js?274cec0734bc752f0e5ea3d4e2e59858" type="text/javascript" defer></script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript" defer></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3/dist/umd/index.min.js"></script>
<script type="text/javascript">
  docsearch({
    container: '#docsearch',
    appId: 'FBHBYS3J0U',
    indexName: 'home-assistant',
    apiKey: "ba6f7e6d97b3d3d2f778978c742a47c6",
  });
  document.querySelector('.site-title').addEventListener('contextmenu', function (ev) {
    ev.preventDefault();
    document.location.assign("https://design.home-assistant.io/#brand/logo")
  });
</script>




<script type="text/javascript">
  {
    const article = document.querySelector("article.post");
    if (article) {
      const iframes = article.querySelectorAll("iframe[data-src]");
      let loaded = false;
      if (iframes) {
        document.addEventListener('mousemove', loadLazyFrames, { passive: true, once: true });
        document.addEventListener('touchmove', loadLazyFrames, { passive: true, once: true });
        document.addEventListener('scroll', loadLazyFrames, { passive: true, once: true });
  
        function loadLazyFrames() {
          if (loaded) return;
          loaded = true;
  
          iframes.forEach((iframe) => {
            const src = iframe.getAttribute("data-src");
            if (src) {
              iframe.setAttribute("src", src);
              iframe.removeAttribute("data-src");
            }
          });
        }
      }
    }
  }
</script>

  </body>
</html>
