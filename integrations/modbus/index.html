



<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Modbus - Home Assistant</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions on how to integrate modbus and platforms.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://www.home-assistant.io/integrations/modbus/">

    <meta property="fb:app_id" content="338291289691179">
    <meta property="og:title" content="Modbus">
    <meta property="og:site_name" content="Home Assistant">
    <meta property="og:url" content="https://www.home-assistant.io/integrations/modbus/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Instructions on how to integrate modbus and platforms.">
    <meta property="og:image" content="https://ivangrod.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@home_assistant">
    
    <meta name="twitter:title" content="Modbus">
    <meta name="twitter:description" content="Instructions on how to integrate modbus and platforms.">
    <meta name="twitter:image" content="https://ivangrod.github.io/images/default-social.png">
    <link rel="me" href="https://fosstodon.org/@homeassistant">

    <link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3/dist/style.min.css" rel="stylesheet" />
    <link href="/needlehack-blog/stylesheets/prism.css" rel="stylesheet">
    <link href="/needlehack-blog/stylesheets/screen.css" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Home Assistant" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&amp;family=Instrument+Sans:ital,wdth,wght@0,99,400..700;1,99,400..700&amp;" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js"></script>
  </head>

  <body  class=" integration-page  ">
    <header class='site-header '>
      



<div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/needlehack-blog/" class="site-title">
        <div class="logo"></div>
      </a>
      <a class="release-date" href="/blog/2025/09/03/release-20259/" title="Latest version 2025.9.4 released September 19, 2025">
        2025.9.4
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle" />
        <label
          for="toggle"
          class="toggle"
          data-open="Main Menu"
          data-close="⨉"
        ></label>
        <ul class="menu pull-right">
          <li><a  href="/needlehack-blog/installation/">Getting started</a></li>
          <li>
            <a  href="/needlehack-blog/docs/">Documentation <iconify-icon inline icon='mdi:chevron-down' title='Chevron down'></iconify-icon></a>
            <ul>
              <li><a href="/needlehack-blog/installation/"><iconify-icon inline icon='simple-icons:homeassistant' title='Homeassistant'></iconify-icon> Installation</a></li>
              <li><a href="/needlehack-blog/docs/automation/"><iconify-icon inline icon='mdi:robot-happy' title='Robot happy'></iconify-icon> Automations</a></li>
              <li><a href="/needlehack-blog/dashboards/"><iconify-icon inline icon='mdi:gauge' title='Gauge'></iconify-icon> Dashboards</a></li>
              <li><a href="/needlehack-blog/voice_control/"><iconify-icon inline icon='mdi:comment-processing-outline' title='Comment processing outline'></iconify-icon> Voice assistants</a></li>
              <li><a href="/needlehack-blog/docs/organizing/"><iconify-icon inline icon='mdi:view-grid' title='View grid'></iconify-icon> Device organization</a></li>
              <li><a href="/needlehack-blog/docs/energy/"><iconify-icon inline icon='mdi:solar-power-variant' title='Solar power variant'></iconify-icon> Energy management</a></li>
              <li><a href="/needlehack-blog/docs/configuration/"><iconify-icon inline icon='mdi:cog' title='Cog'></iconify-icon> Advanced configuration</a></li>
            </ul>
          </li>
          <li><a class="active" href="/needlehack-blog/integrations/">Integrations</a></li>
          <li><a  href="/needlehack-blog/blog/">Blog</a></li>
          <li><a  href="/needlehack-blog/help/">Need help?</a></li>
          <li>
            <div class="docsearch" id="docsearch"></div>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>

    </header>

    <div class="page-content">

      

      <div class="grid-wrapper">
        <div class="grid grid-center">

          <aside id="toc-bar" class="grid__item desk-wide-one-sixth">
                <section class="aside-module grid__item one-whole">
                  <div class='section'>
                    <h1 class="title epsilon"><iconify-icon inline icon='mdi:toc' title='Toc'></iconify-icon> On this page</h1>
                    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#configuring-tcp-connection">Configuring tcp connection</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-typical-tcp-configuration">Example: typical tcp configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-full-tcp-configuration">Example: full tcp configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-a-tcp-rtu-connection">Configuring a TCP-RTU connection</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-typical-tcp-rtu-configuration">Example: typical TCP-RTU configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-full-tcp-rtu-configuration">Example: full TCP-RTU configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-a-udp-connection">Configuring a UDP connection</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-typical-udp-configuration">Example: typical udp configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-full-udp-configuration">Example: full UDP configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-serial-connection">Configuring serial connection</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-typical-serial-configuration">Example: typical serial configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-full-serial-configuration">Example: full serial configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-multiple-connections">Configuring multiple connections</a></li>
<li class="toc-entry toc-h2"><a href="#example-entities-grouping">Example: entities grouping</a></li>
<li class="toc-entry toc-h2"><a href="#configuring-binary-sensor-entities">Configuring binary sensor entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-typical-binary-sensor-configuration">Example: typical binary sensor configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-full-binary-sensor-configuration">Example: full binary sensor configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-multiple-identical-binary-sensor-configuration">Example: multiple identical binary sensor configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-climate-entities">Configuring climate entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-climate-configuration">Example: climate configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-cover-entities">Configuring cover entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-modbus-cover">Example: Modbus cover</a></li>
<li class="toc-entry toc-h3"><a href="#example-modbus-cover-controlled-by-a-coil">Example: Modbus cover controlled by a coil</a></li>
<li class="toc-entry toc-h3"><a href="#example-modbus-cover-controlled-by-a-coil-its-state-is-read-from-the-register">Example: Modbus cover controlled by a coil, its state is read from the register</a></li>
<li class="toc-entry toc-h3"><a href="#example-modbus-cover-controlled-by-a-holding-register">Example: Modbus cover controlled by a holding register</a></li>
<li class="toc-entry toc-h3"><a href="#example-modbus-cover-controlled-by-a-holding-register-its-state-is-read-from-the-status-register">Example: Modbus cover controlled by a holding register, its state is read from the status register</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-fan-entities">Configuring fan entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-fan-configuration">Example: fan configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-light-entities">Configuring light entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-light-configuration">Example: light configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-sensor-entities">Configuring sensor entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-sensor-configuration">Example: sensor configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-sensor-full-configuration">Example: sensor full configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-switch-entities">Configuring switch entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-switch-configuration">Example: switch configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-switch-full-configuration">Example: switch full configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#parameters-usage-matrix">Parameters usage matrix</a></li>
<li class="toc-entry toc-h2"><a href="#example-writing-a-float32-type-register">Example: writing a float32 type register</a></li>
<li class="toc-entry toc-h2"><a href="#action-modbusset-temperature">Action modbus.set-temperature</a></li>
<li class="toc-entry toc-h2"><a href="#action-modbusset_hvac_mode">Action modbus.set_hvac_mode</a></li>
<li class="toc-entry toc-h2"><a href="#related-topics">Related topics</a></li>
</ul>
                  </div>
                </section>
              </aside> 

          
          <div class="grid__item two-thirds desk-wide-seven-twelfths lap-one-whole palm-one-whole">
          

            
              <article class="page">
  
  <header>
    
    
      <div class="breadcrumbs">
        <a href="/needlehack-blog/">Home</a>
        
          
            
            ▸ <a href="/integrations/">Integrations</a>
          
        
          
            ▸ 
          
        
      </div>
    
    <h1 class="title indent">
      
        Modbus
      
    </h1>
  </header>
  
    
    
    
  
  
  <p><a href="http://www.modbus.org/" rel="external nofollow">modbus<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> is a communication protocol to control PLCs (Programmable Logic Controller) and RTUs (Remote Terminal Unit).</p>
<p>The integration adheres strictly to the <a href="https://www.modbus.org/docs/Modbus_Application_Protocol_V1_1b3.pdf" rel="external nofollow">protocol specification<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> using <a href="https://github.com/pymodbus-dev/pymodbus" rel="external nofollow">pymodbus<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> for the protocol implementation.</p>
<p>The modbus <span class="terminology">integration<span class="terminology-tooltip">Integrations connect and integrate Home Assistant with your devices, services, and more.<a class="terminology-link" href="/getting-started/concepts-terminology/#integrations"> [Learn more]</a></span></span> supports all devices adhering to the modbus standard. The communication to the device/devices can be serial (rs-485), TCP, or UDP connections. The modbus integration allows multiple communication channels e.g. a serial port connection combined with one or more TCP connections.</p>
<h1>Configuring modbus communication</h1>
<p>Configure the modbus communication with modbus devices. This is a general setup needed establish access to the device.</p>
<p>The modbus integration allows you to use multiple connections each with multiple sensors etc.</p>
<p>The modbus integration provides a number of parameters to help communicate with “difficult” devices, these parameters are independent of the type of communication.</p>
<p>To enable this integration, add it to your <span class="terminology"><code>configuration.yaml</code><span class="terminology-tooltip">The configuration.yaml file is the main configuration file for Home Assistant. It lists the integrations to be loaded and their specific configurations. In some cases, the configuration needs to be edited manually directly in the configuration.yaml file. Most integrations can be configured in the UI.<a class="terminology-link" href="/docs/configuration/"> [Learn more]</a></span></span> file.
After changing the <span class="terminology"><code>configuration.yaml</code><span class="terminology-tooltip">The configuration.yaml file is the main configuration file for Home Assistant. It lists the integrations to be loaded and their specific configurations. In some cases, the configuration needs to be edited manually directly in the configuration.yaml file. Most integrations can be configured in the UI.<a class="terminology-link" href="/docs/configuration/"> [Learn more]</a></span></span> file, <a href="/docs/configuration/#reloading-the-configuration-to-apply-changes">restart Home Assistant</a> to apply the changes.   The integration is now shown on the integrations page under <strong><a href="https://my.home-assistant.io/redirect/integrations" class="my" target="_blank">Settings &gt; Devices &amp; services</a></strong>. Its entities are listed on the integration card itself and on the <a href="https://my.home-assistant.io/redirect/entities" class="my" target="_blank"><strong>Entities</strong></a> tab.</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="modbus-configuration-variables" href="#modbus-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> delay </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 0</span>)</span><a name="delay" class="title-link" href="#delay"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Time to delay sending messages in seconds after connecting. Some modbus devices need a delay of typically 1-2 seconds after connection is established to prepare the communication. If a device does not respond to messages after connecting, then try this parameter. <strong>Remark:</strong> solely affect the first message.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> message_wait_milliseconds </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="message_wait_milliseconds" class="title-link" href="#message_wait_milliseconds"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>Time to wait in milliseconds between requests.</p>
</span><div class="config-vars-default">
Default: <p>30 for serial connection, 0 for all other connections.</p>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> name </span><span class="config-vars-type">string</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="name" class="title-link" href="#name"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Name of this hub. Must be unique.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> timeout </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 5</span>)</span><a name="timeout" class="title-link" href="#timeout"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Timeout while waiting for a response in seconds.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> type </span><span class="config-vars-type">list</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="type" class="title-link" href="#type"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Type of modbus.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> tcp </span><a name="tcp" class="title-link" href="#tcp"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>TCP/IP connection with socket framer, used with Ethernet enabled devices.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> udp </span><a name="udp" class="title-link" href="#udp"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>UDP connection with socket framer, rarely used.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> rtuovertcp </span><a name="rtuovertcp" class="title-link" href="#rtuovertcp"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>TCP/IP connection with rtu framer, used when connection to modbus forwarders.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> serial </span><a name="serial" class="title-link" href="#serial"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Serial connection with RTU framer, used with TTY port or USB rs485 converter.</p>
</span></div>
</div>
</div>
</div>
</div>
</div>
<h2>Configuring tcp connection <a class="title-link" name="configuring-tcp-connection" href="#configuring-tcp-connection"></a>
</h2>
<p><code>type: tcp</code> is required. Used for devices providing a TCP/IP interface directly.</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="modbus-configuration-variables" href="#modbus-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> host </span><span class="config-vars-type">string</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="host" class="title-link" href="#host"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>IP address or name of your modbus device, e.g., <code>192.168.1.1</code>.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> port </span><span class="config-vars-type">integer</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="port" class="title-link" href="#port"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Network port for the communication.</p>
</span></div>
</div>
</div>
</div>
<h3>Example: typical tcp configuration <a class="title-link" name="example-typical-tcp-configuration" href="#example-typical-tcp-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example yaml: typical tcp connection</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">modbus_hub</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
</code></pre></div></div>
<h3>Example: full tcp configuration <a class="title-link" name="example-full-tcp-configuration" href="#example-full-tcp-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example yaml: full tcp connection</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">modbus_hub</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>

    <span class="na">delay</span><span class="pi">:</span> <span class="m">0</span>
    <span class="na">message_wait_milliseconds</span><span class="pi">:</span> <span class="m">30</span>
    <span class="na">timeout</span><span class="pi">:</span> <span class="m">5</span>
</code></pre></div></div>
<h2>Configuring a TCP-RTU connection <a class="title-link" name="configuring-a-tcp-rtu-connection" href="#configuring-a-tcp-rtu-connection"></a>
</h2>
<p><code>type: rtuovertcp</code> is required. Used for devices providing a TCP/IP interface directly.</p>
<p>This is typically used, when communicating with a modbus-forwarder, a device that
has a TCP/IP connection upwards, and one or more serial connections downwards. lets also
write more here, to see if the error moves.</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="modbus-configuration-variables" href="#modbus-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> host </span><span class="config-vars-type">string</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="host" class="title-link" href="#host"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>IP address or name of your modbus device, e.g., <code>192.168.1.1</code>.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> port </span><span class="config-vars-type">integer</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="port" class="title-link" href="#port"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Network port for the communication.</p>
</span></div>
</div>
</div>
</div>
<h3>Example: typical TCP-RTU configuration <a class="title-link" name="example-typical-tcp-rtu-configuration" href="#example-typical-tcp-rtu-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example yaml: typical tcp-rtu connection</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">modbus_hub</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">rtuovertcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
</code></pre></div></div>
<h3>Example: full TCP-RTU configuration <a class="title-link" name="example-full-tcp-rtu-configuration" href="#example-full-tcp-rtu-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example yaml: full tcp-rtu connection</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">modbus_hub</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">rtuovertcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>

    <span class="na">delay</span><span class="pi">:</span> <span class="m">0</span>
    <span class="na">message_wait_milliseconds</span><span class="pi">:</span> <span class="m">30</span>
    <span class="na">timeout</span><span class="pi">:</span> <span class="m">5</span>
</code></pre></div></div>
<h2>Configuring a UDP connection <a class="title-link" name="configuring-a-udp-connection" href="#configuring-a-udp-connection"></a>
</h2>
<p><code>type: udp</code> is required. This is rarely used, and only for very special configurations.</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="modbus-configuration-variables" href="#modbus-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> host </span><span class="config-vars-type">string</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="host" class="title-link" href="#host"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>IP address or name of your modbus device, e.g., <code>192.168.1.1</code>.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> port </span><span class="config-vars-type">integer</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="port" class="title-link" href="#port"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Network port for the communication.</p>
</span></div>
</div>
</div>
</div>
<h3>Example: typical udp configuration <a class="title-link" name="example-typical-udp-configuration" href="#example-typical-udp-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example yaml: typical udp connection</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">modbus_hub</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">udp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
</code></pre></div></div>
<h3>Example: full UDP configuration <a class="title-link" name="example-full-udp-configuration" href="#example-full-udp-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example yaml: full udp connection</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">modbus_hub</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">udp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>

    <span class="na">delay</span><span class="pi">:</span> <span class="m">0</span>
    <span class="na">message_wait_milliseconds</span><span class="pi">:</span> <span class="m">30</span>
    <span class="na">timeout</span><span class="pi">:</span> <span class="m">5</span>
</code></pre></div></div>
<h2>Configuring serial connection <a class="title-link" name="configuring-serial-connection" href="#configuring-serial-connection"></a>
</h2>
<p><code>type: serial</code> is required. This is used for devices providing a serial rs485 interface.</p>
<p>The physical interface is typically a USB serial-rs485 converter or an rs232-rs485 connected to a serial port.</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="modbus-configuration-variables" href="#modbus-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> baudrate </span><span class="config-vars-type">integer</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="baudrate" class="title-link" href="#baudrate"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Speed of the serial connection, higher speed gives better performance.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> bytesize </span><span class="config-vars-type">list</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="bytesize" class="title-link" href="#bytesize"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Data size in bits of each byte.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> 5 </span><a name="5" class="title-link" href="#5"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>5 bit for data, rarely used.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> 6 </span><a name="6" class="title-link" href="#6"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>6 bit for data, rarely used.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> 7 </span><a name="7" class="title-link" href="#7"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>7 bit for data, used for very old devices.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> 8 </span><a name="8" class="title-link" href="#8"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>8 bit for data, standard.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> method </span><span class="config-vars-type">list</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="method" class="title-link" href="#method"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Method of the connection to modbus.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> rtu </span><a name="rtu" class="title-link" href="#rtu"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Binary data transmission preceded by slave id and followed by a crc, standard.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> ascii </span><a name="ascii" class="title-link" href="#ascii"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>ASCII data transmission preceded by slave id and followed by a crc, used for few devices.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> parity </span><span class="config-vars-type">list</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="parity" class="title-link" href="#parity"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Parity of the data bytes.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> E </span><a name="e" class="title-link" href="#e"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Even parity bit.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> O </span><a name="o" class="title-link" href="#o"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Odd parity bit.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> N </span><a name="n" class="title-link" href="#n"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>No parity bit, standard.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> port </span><span class="config-vars-type">string</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="port" class="title-link" href="#port"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Serial port or USB device where your modbus device is connected to your Home Assistant host.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> stopbits </span><span class="config-vars-type">list</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="stopbits" class="title-link" href="#stopbits"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Stopbits of the data bytes.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> 1 </span><a name="1" class="title-link" href="#1"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>1 stop bit.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> 2 </span><a name="2" class="title-link" href="#2"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>2 stop bits, standard.</p>
</span></div>
</div>
</div>
</div>
</div>
</div>
<h3>Example: typical serial configuration <a class="title-link" name="example-typical-serial-configuration" href="#example-typical-serial-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example yaml:  typical serial connection</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">modbus_hub</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">serial</span>
    <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyUSB0</span>
    <span class="na">baudrate</span><span class="pi">:</span> <span class="m">9600</span>
    <span class="na">bytesize</span><span class="pi">:</span> <span class="m">8</span>
    <span class="na">method</span><span class="pi">:</span> <span class="s">rtu</span>
    <span class="na">parity</span><span class="pi">:</span> <span class="s">E</span>
    <span class="na">stopbits</span><span class="pi">:</span> <span class="m">1</span>
</code></pre></div></div>
<h3>Example: full serial configuration <a class="title-link" name="example-full-serial-configuration" href="#example-full-serial-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example yaml: full udp connection</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">modbus_hub</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">serial</span>
    <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyUSB0</span>
    <span class="na">baudrate</span><span class="pi">:</span> <span class="m">9600</span>
    <span class="na">bytesize</span><span class="pi">:</span> <span class="m">8</span>
    <span class="na">method</span><span class="pi">:</span> <span class="s">rtu</span>
    <span class="na">parity</span><span class="pi">:</span> <span class="s">E</span>
    <span class="na">stopbits</span><span class="pi">:</span> <span class="m">1</span>

    <span class="na">delay</span><span class="pi">:</span> <span class="m">0</span>
    <span class="na">message_wait_milliseconds</span><span class="pi">:</span> <span class="m">30</span>
    <span class="na">timeout</span><span class="pi">:</span> <span class="m">5</span>
</code></pre></div></div>
<h2>Configuring multiple connections <a class="title-link" name="configuring-multiple-connections" href="#configuring-multiple-connections"></a>
</h2>
<p>Multiple connections can freely mix different communications:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example yaml: multiple tcp connections</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">modbus_hub</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS_1</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">2020</span>

  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">modbus_hub2</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS_2</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
</code></pre></div></div>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example yaml: tcp connection and serial connection</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">modbus_hub</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS_1</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">2020</span>

  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">modbus_hub2</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">serial</span>
    <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyUSB0</span>
    <span class="na">baudrate</span><span class="pi">:</span> <span class="m">9600</span>
    <span class="na">bytesize</span><span class="pi">:</span> <span class="m">8</span>
    <span class="na">method</span><span class="pi">:</span> <span class="s">rtu</span>
    <span class="na">parity</span><span class="pi">:</span> <span class="s">E</span>
    <span class="na">stopbits</span><span class="pi">:</span> <span class="m">1</span>
</code></pre></div></div>
<h1>Configuring modbus entities</h1>
<p>modbus entities are grouped below each modbus communication entry.</p>
<p><strong>REMARK</strong> Each modbus device must have at least 1 entity defined, otherwise the integration will not be loaded.</p>
<p>Please refer to <a href="#parameters-usage-matrix">Parameter usage</a> for conflicting parameters.</p>
<p>All modbus entities have the following parameters:</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="modbus-configuration-variables" href="#modbus-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> address </span><span class="config-vars-type">integer</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="address" class="title-link" href="#address"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Address of coil/register. Note that this can also be specified in Hex. For example: <code>0x789A</code></p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> name </span><span class="config-vars-type">string</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="name" class="title-link" href="#name"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Name of the entity which must be unique within the entity type.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> scan_interval </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 15</span>)</span><a name="scan_interval" class="title-link" href="#scan_interval"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Update interval in seconds. scan_interval = 0 for no polling. Entities are read shortly after startup and then according to scan_interval. Remark, when restarting HA the last known value is restored.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> slave </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 1</span>)</span><a name="slave" class="title-link" href="#slave"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Identical to <code>device_address</code></p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> device_address </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 1</span>)</span><a name="device_address" class="title-link" href="#device_address"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Id of the device. Used to address multiple devices on a rs485 bus or devices connected to a modbus repeater. 0 is the broadcast id.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> unique_id </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="unique_id" class="title-link" href="#unique_id"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>ID that uniquely identifies this entity. Slaves will be given a unique_id of &lt;&lt;unique_id&gt;&gt;_&lt;&lt;slave_index&gt;&gt;. If two enities have the same unique ID, Home Assistant will raise an exception.</p>
</span></div>
</div>
</div>
</div>
<h2>Example: entities grouping <a class="title-link" name="example-entities-grouping" href="#example-entities-grouping"></a>
</h2>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example yaml: entities grouping</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS_1</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">2020</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">modbus_hub"</span>
    <span class="na">binary_sensors</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">binary_sensor1</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">100</span>
    <span class="na">climates</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Watlow</span><span class="nv"> </span><span class="s">F4T"</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">200</span>
    <span class="na">covers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Door1</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">300</span>
    <span class="na">fans</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Fan1</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">400</span>
    <span class="na">lights</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">light1</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">500</span>
    <span class="na">sensors</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">sensor1</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">600</span>
    <span class="na">switches</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Switch1</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">700</span>
</code></pre></div></div>
<p>The different types of entities are detailed in the following.</p>
<h2>Configuring binary sensor entities <a class="title-link" name="configuring-binary-sensor-entities" href="#configuring-binary-sensor-entities"></a>
</h2>
<p>The Modbus binary sensor allows you to gather data from coils which as per standard have state ON/OFF.</p>
<p>Normally, a register contains 16 coils, giving different addresses depending on the request used.</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">Register 512</span><span class="pi">:</span> <span class="s">Coil 1 - </span><span class="m">16</span>
<span class="na">Register 513</span><span class="pi">:</span> <span class="s">Coil 17 - </span><span class="m">32</span>
</code></pre></div></div>
<p><code>input_type: coils</code> would use addresses from 1 through 32, while <code>input_type: input</code> would use addresses 512 and 513.
For that reason, many devices (especially older ones) do not share the coil address space with the register address space,
and this <code>input</code> would read from a different address space than <code>coil</code>. The problem is present in devices with
shared address space and are a frequent cause of problems when configuring entities.</p>
<p>Please refer to <a href="#parameters-usage-matrix">Parameter usage</a> for conflicting parameters.</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="modbus-configuration-variables" href="#modbus-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class=""><div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> binary_sensors </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="binary_sensors" class="title-link" href="#binary_sensors"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A list of all binary sensors configured for this connection.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> device_class </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="device_class" class="title-link" href="#device_class"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The <a href="/integrations/binary_sensor/#device-class">type/class</a> to be used for the UI.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input_type </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: coil</span>)</span><a name="input_type" class="title-link" href="#input_type"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Type of request <code>discrete_input</code>, <code>coil</code>, <code>holding</code> or <code>input</code></p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> slave_count </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="slave_count" class="title-link" href="#slave_count"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Identical to <code>virtual_count</code>.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> virtual_count </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="virtual_count" class="title-link" href="#virtual_count"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Generate count+1 binary sensors (master + slaves). Addresses are automatically incremented. The parameter simplifies configuration and provides a much better performance by not using count+1 requests but a single request.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> unique_id </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="unique_id" class="title-link" href="#unique_id"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>ID that uniquely identifies the entity. Slaves will automatically be given a unique_id of &lt;&lt;unique_id&gt;&gt;_&lt;&lt;slave_index&gt;&gt;.  If two sensors have the same unique ID, Home Assistant will raise an exception.</p>
</span></div>
</div>
</div>
</div></div>
</div>
<h3>Example: typical binary sensor configuration <a class="title-link" name="example-typical-binary-sensor-configuration" href="#example-typical-binary-sensor-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example yaml: typical binary_sensor</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hub1</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">binary_sensors</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my_relay</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">100</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">1</span>
</code></pre></div></div>
<h3>Example: full binary sensor configuration <a class="title-link" name="example-full-binary-sensor-configuration" href="#example-full-binary-sensor-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example yaml: binary_sensor with all options</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hub1</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">binary_sensors</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my_relay</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">100</span>
        <span class="na">device_class</span><span class="pi">:</span> <span class="s">door</span>
        <span class="na">input_type</span><span class="pi">:</span> <span class="s">coil</span>
        <span class="na">scan_interval</span><span class="pi">:</span> <span class="m">15</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">slave_count</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">unique_id</span><span class="pi">:</span> <span class="s">my_relay</span>
</code></pre></div></div>
<h3>Example: multiple identical binary sensor configuration <a class="title-link" name="example-multiple-identical-binary-sensor-configuration" href="#example-multiple-identical-binary-sensor-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example of 10 identical binary_sensor</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hub1</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">binary_sensors</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my_relay</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">100</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">slave_count</span><span class="pi">:</span> <span class="m">10</span>
        <span class="na">unique_id</span><span class="pi">:</span> <span class="s">my_relay</span>
</code></pre></div></div>
<p>This configuration will poll coil addresses 100 to 110 every 15 seconds and update the binary_sensors: <code>my_relay</code>
and <code>my_relay_1</code> to <code>my_relay_10</code>.</p>
<p>The master configuration like device_class are automatically copied to the slaves.</p>
<h2>Configuring climate entities <a class="title-link" name="configuring-climate-entities" href="#configuring-climate-entities"></a>
</h2>
<p>The Modbus climate platform allows you to monitor a thermostat or heaters as well as set a target temperature, HVAC action, HVAC mode, swing mode, and fan state.</p>
<p>Please refer to <a href="#parameters-usage-matrix">Parameter usage</a> for conflicting parameters.</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="modbus-configuration-variables" href="#modbus-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class=""><div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> climates </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="climates" class="title-link" href="#climates"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A list of all climate entities in this modbus instance.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> temperature_unit </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: C</span>)</span><a name="temperature_unit" class="title-link" href="#temperature_unit"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Temperature unit: C or F.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> C </span><a name="c" class="title-link" href="#c"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Celsius</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> F </span><a name="f" class="title-link" href="#f"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Fahrenheit</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> precision </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 0</span>)</span><a name="precision" class="title-link" href="#precision"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Number of valid decimals for temperature.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> temp_step </span><span class="config-vars-type">float</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 0.5</span>)</span><a name="temp_step" class="title-link" href="#temp_step"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Step size target temperature.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> max_temp </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 35</span>)</span><a name="max_temp" class="title-link" href="#max_temp"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Maximum setpoint for target temperature.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> min_temp </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 5</span>)</span><a name="min_temp" class="title-link" href="#min_temp"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Minimum setpoint for target temperature.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> count </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="count" class="title-link" href="#count"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Number of registers to read to fetch the current temperature. <strong>only valid for <code>data_type: custom</code> and <code>data_type: string</code></strong>, for other data types count is automatically calculated.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> data_type </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: int16</span>)</span><a name="data_type" class="title-link" href="#data_type"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Response representation when reading the current temperature register(s).</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> custom </span><a name="custom" class="title-link" href="#custom"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>user defined format, <code>structure:</code> and <code>count:</code> must be configured.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> float16 </span><a name="float16" class="title-link" href="#float16"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>16 bit signed float (1 register holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> float32 </span><a name="float32" class="title-link" href="#float32"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>32 bit signed float (2 registers holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> float64 </span><a name="float64" class="title-link" href="#float64"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>64 bit signed float (4 register holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> int </span><a name="int" class="title-link" href="#int"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p><strong>DEPRECATED</strong> is silently converted to <code>int16</code></p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> int16 </span><a name="int16" class="title-link" href="#int16"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>16 bit signed integer (1 register holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> int32 </span><a name="int32" class="title-link" href="#int32"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>32 bit signed integer (2 registers holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> int64 </span><a name="int64" class="title-link" href="#int64"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>64 bit signed integer (4 registers holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> string </span><a name="string" class="title-link" href="#string"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>set of 8 bit characters, <code>count:</code> must be configured.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> uint </span><a name="uint" class="title-link" href="#uint"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p><strong>DEPRECATED</strong> is silently converted to <code>uint16</code></p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> uint16 </span><a name="uint16" class="title-link" href="#uint16"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>16 bit unsigned integer (1 register holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> uint32 </span><a name="uint32" class="title-link" href="#uint32"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>32 bit unsigned integer (2 registers holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> uint64 </span><a name="uint64" class="title-link" href="#uint64"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>64 bit unsigned integer (4 registers holds 1 value).</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input_type </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: holding</span>)</span><a name="input_type" class="title-link" href="#input_type"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Modbus register type for current temperature.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> holding </span><a name="holding" class="title-link" href="#holding"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Holding register.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input </span><a name="input" class="title-link" href="#input"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Input register.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> offset </span><span class="config-vars-type">float</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 0</span>)</span><a name="offset" class="title-link" href="#offset"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Final offset for current temperature (output = scale * value + offset).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> target_temp_register </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="target_temp_register" class="title-link" href="#target_temp_register"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Register address for target temperature (Setpoint). Using a list, it is possible to define one register for each of the available HVAC Modes. The list has to have a fixed size of 7 registers corresponding to the 7 available HVAC Modes, as follows: Register <strong>1: HVAC AUTO mode</strong>; Register <strong>2: HVAC Cool mode</strong>; Register <strong>3: HVAC Dry mode</strong>; Register <strong>4: HVAC Fan only mode</strong>; Register <strong>5: HVAC Heat mode</strong>; Register <strong>6: HVAC Heat Cool mode</strong>; Register <strong>7: HVAC OFF mode</strong>. It is possible to set duplicated values for the modes where the devices don’t have a related register.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> target_temp_write_registers </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: false</span>)</span><a name="target_temp_write_registers" class="title-link" href="#target_temp_write_registers"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>If <code>true</code> use <code>write_registers</code> for target temperature (<code>target_temp_register</code>), else use <code>write_register</code>.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> scale </span><span class="config-vars-type">float</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 1</span>)</span><a name="scale" class="title-link" href="#scale"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Scale factor (output = scale * value + offset) for setting target temperature.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> structure </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="structure" class="title-link" href="#structure"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>If <code>data_type: custom</code> is specified a double-quoted Python struct is expected, to format the string to unpack the value. See Python documentation for details. Example: <code>&gt;i</code>.</p>
</span><div class="config-vars-default">
Default: <blockquote>
<p>f</p>
</blockquote>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> swap </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: none</span>)</span><a name="swap" class="title-link" href="#swap"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Swap the order of bytes/words, <strong>not valid with <code>custom</code> and <code>datatype: string</code></strong> when setting target temperature</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> byte </span><a name="byte" class="title-link" href="#byte"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Swap bytes AB -&gt; BA.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> word </span><a name="word" class="title-link" href="#word"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Swap word ABCD -&gt; CDAB, <strong>not valid with data types: <code>int16</code>, <code>uint16</code></strong></p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> word_byte </span><a name="word_byte" class="title-link" href="#word_byte"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Swap word ABCD -&gt; DCBA, <strong>not valid with data types: <code>int16</code>, <code>uint16</code></strong></p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> hvac_action_register </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="hvac_action_register" class="title-link" href="#hvac_action_register"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Configuration of register for HVAC action</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> address </span><span class="config-vars-type">integer</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="address" class="title-link" href="#address"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Address of HVAC action register.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input_type </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: holding</span>)</span><a name="input_type" class="title-link" href="#input_type"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Type of register, either <code>holding</code> or <code>input</code></p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> values </span><span class="config-vars-type">map</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="values" class="title-link" href="#values"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Mapping between the register values and HVAC actions</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> action_off </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="action_off" class="title-link" href="#action_off"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Off action.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> action_cooling </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="action_cooling" class="title-link" href="#action_cooling"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Cooling action.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> action_defrosting </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="action_defrosting" class="title-link" href="#action_defrosting"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Defrosting action.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> action_drying </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="action_drying" class="title-link" href="#action_drying"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Drying action.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> action_fan </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="action_fan" class="title-link" href="#action_fan"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Fan action.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> action_heating </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="action_heating" class="title-link" href="#action_heating"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Heating action.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> action_idle </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="action_idle" class="title-link" href="#action_idle"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Idle action.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> action_preheating </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="action_preheating" class="title-link" href="#action_preheating"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Preheating action.</p>
</span></div>
</div>
</div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> hvac_mode_register </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="hvac_mode_register" class="title-link" href="#hvac_mode_register"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Configuration of register for HVAC mode</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> address </span><span class="config-vars-type">integer</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="address" class="title-link" href="#address"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Address of HVAC mode register.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> write_registers </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: false</span>)</span><a name="write_registers" class="title-link" href="#write_registers"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Request type for setting HVAC mode, use <code>write_registers</code> if true else <code>write_register</code>. If more than one value is specified for a specific mode, only the first one is used for writing to the register.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> values </span><span class="config-vars-type">map</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="values" class="title-link" href="#values"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Mapping between the register values and HVAC modes</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_off </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_off" class="title-link" href="#state_off"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Off mode. If the On/Off state handled on a different address and/or register the <code>state_off</code> state should be omitted from your configuration</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_heat </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_heat" class="title-link" href="#state_heat"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Heat mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_cool </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_cool" class="title-link" href="#state_cool"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Cool mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_auto </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_auto" class="title-link" href="#state_auto"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Auto mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_dry </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_dry" class="title-link" href="#state_dry"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Dry mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_fan_only </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_fan_only" class="title-link" href="#state_fan_only"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Fan only mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_heat_cool </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_heat_cool" class="title-link" href="#state_heat_cool"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to HVAC Heat/Cool mode.</p>
</span></div>
</div>
</div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> fan_mode_register </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="fan_mode_register" class="title-link" href="#fan_mode_register"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Configuration of register for Fan mode</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> address </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="address" class="title-link" href="#address"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Address of Fan mode register. (int to call write_register, list of 1 int to call write_registers)</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> values </span><span class="config-vars-type">map</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="values" class="title-link" href="#values"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Mapping between the register values and Fan modes This is typically used to control one of: Speed, Direction or On/Off state.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_fan_on </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_fan_on" class="title-link" href="#state_fan_on"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to Fan On mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_fan_off </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_fan_off" class="title-link" href="#state_fan_off"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to Fan Off mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_fan_low </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_fan_low" class="title-link" href="#state_fan_low"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to Fan Low mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_fan_medium </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_fan_medium" class="title-link" href="#state_fan_medium"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to Fan Medium mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_fan_high </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_fan_high" class="title-link" href="#state_fan_high"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to Fan High mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_fan_auto </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_fan_auto" class="title-link" href="#state_fan_auto"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to Fan Auto mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_fan_top </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_fan_top" class="title-link" href="#state_fan_top"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to Fan Top mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_fan_middle </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_fan_middle" class="title-link" href="#state_fan_middle"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to Fan Middle mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_fan_focus </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_fan_focus" class="title-link" href="#state_fan_focus"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to Fan Focus mode.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_fan_diffuse </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_fan_diffuse" class="title-link" href="#state_fan_diffuse"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to Fan Diffuse mode.</p>
</span></div>
</div>
</div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> hvac_onoff_coil </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="hvac_onoff_coil" class="title-link" href="#hvac_onoff_coil"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Address of On/Off state. Only use this setting if your On/Off state is not handled as a HVAC mode. When zero is read from this coil, the HVAC state is set to Off, otherwise the <code>hvac_mode_register</code> dictates the state of the HVAC. If no such coil is defined, it defaults to Auto. When the HVAC mode is set to Off, the value 0 is written to the coil, otherwise the value 1 is written. <strong>Cannot be used with <code>hvac_onoff_register</code>.</strong></p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> hvac_onoff_register </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="hvac_onoff_register" class="title-link" href="#hvac_onoff_register"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Address of On/Off state. Only use this setting if your On/Off state is not handled as a HVAC mode. When zero is read from this register, the HVAC state is set to Off, otherwise the <code>hvac_mode_register</code> dictates the state of the HVAC. If no such register is defined, it defaults to Auto. When the HVAC mode is set to Off, the value 0 is written to the register, otherwise the value 1 is written.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> hvac_on_value </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="hvac_on_value" class="title-link" href="#hvac_on_value"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The value that will be written to the <code>hvac_onoff_register</code> to turn the HVAC system on. If not specified, the default value is 1.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> hvac_off_value </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="hvac_off_value" class="title-link" href="#hvac_off_value"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The value that will be written to the <code>hvac_onoff_register</code> to turn the HVAC system off. If not specified, the default value is 0.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> swing_mode_register </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="swing_mode_register" class="title-link" href="#swing_mode_register"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Configuration of the register for swing mode</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> address </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="address" class="title-link" href="#address"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Address of swing mode register. (int to call write_register, list of 1 int to call write_registers). - Reading done through holding register</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> values </span><span class="config-vars-type">map</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="values" class="title-link" href="#values"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Mapping between the register values and swing modes</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> swing_mode_state_on </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="swing_mode_state_on" class="title-link" href="#swing_mode_state_on"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to swing mode on.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> swing_mode_state_off </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="swing_mode_state_off" class="title-link" href="#swing_mode_state_off"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to swing mode off.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> swing_mode_state_horizontal </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="swing_mode_state_horizontal" class="title-link" href="#swing_mode_state_horizontal"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to swing mode horizontal.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> swing_mode_state_vertical </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="swing_mode_state_vertical" class="title-link" href="#swing_mode_state_vertical"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to swing mode vertical.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> swing_mode_state_both </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="swing_mode_state_both" class="title-link" href="#swing_mode_state_both"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value corresponding to Swing mode both.</p>
</span></div>
</div>
</div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> write_registers </span><span class="config-vars-type">boolean</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: false</span>)</span><a name="write_registers" class="title-link" href="#write_registers"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>If <code>true</code> use <code>write_registers</code> to control the On/Off state (<code>hvac_onoff_register</code>), else use <code>write_register</code>. Note that it is not yet possible to control the On/Off state via a coil.</p>
</span></div>
</div>
</div>
</div></div>
</div>
<h3>Example: climate configuration <a class="title-link" name="example-climate-configuration" href="#example-climate-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example configuration.yaml entry</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hub1</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">climates</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Watlow</span><span class="nv"> </span><span class="s">F4T"</span>
        <span class="na">address</span><span class="pi">:</span> <span class="s">0x6BC2</span>
        <span class="na">input_type</span><span class="pi">:</span> <span class="s">holding</span>
        <span class="na">count</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">data_type</span><span class="pi">:</span> <span class="s">custom</span>
        <span class="na">max_temp</span><span class="pi">:</span> <span class="m">35</span>
        <span class="na">min_temp</span><span class="pi">:</span> <span class="m">15</span>
        <span class="na">offset</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">precision</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">scale</span><span class="pi">:</span> <span class="m">0.1</span>
        <span class="na">max_temp</span><span class="pi">:</span> <span class="m">30</span>
        <span class="na">structure</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&gt;f"</span>
        <span class="na">target_temp_register</span><span class="pi">:</span> <span class="m">2782</span>
        <span class="na">target_temp_write_registers</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">temp_step</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">temperature_unit</span><span class="pi">:</span> <span class="s">C</span>
</code></pre></div></div>
<h2>Configuring cover entities <a class="title-link" name="configuring-cover-entities" href="#configuring-cover-entities"></a>
</h2>
<p>The <code>modbus</code> cover platform allows you to control covers (such as blinds, a roller shutter, or a garage door).</p>
<p>At the moment, platform cover support the opening and closing of a cover. You can control your covers either using coils or holding registers.</p>
<p>Cover that uses <code>input_type: coil</code> is not able to determine intermediary states such as opening and closing. Coil stores only two states — “0” means cover closed, and “1” implies cover open. To allow detecting intermediary states, there is an optional <code>status_register</code> attribute. It will enable you to write your command (e.g., to open a cover) into a coil, and read current cover status back through the register. Additionally, you can specify values for <code>state_open</code>, <code>state_opening</code>, <code>state_closed</code>, and <code>state_closing</code> attributes. These will be matched with the value read from the <code>status_register</code>.</p>
<p>If your cover uses <code>input_type: holding</code> (default) to send commands, it can also read the intermediary states. To adjust which value represents what state, you can fine-tune the optional state attributes, like <code>state_open</code>. These optional state values are also used for specifying values written into the register. If you specify an optional status_register attribute, cover states will be read from status_register instead of the register used for sending commands.</p>
<p>Please refer to <a href="#parameters-usage-matrix">Parameter usage</a> for conflicting parameters.</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="modbus-configuration-variables" href="#modbus-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class=""><div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> covers </span><span class="config-vars-type">map</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="covers" class="title-link" href="#covers"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A list of all cover entities configured for this connection.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> device_class </span><span class="config-vars-type"><a href="/integrations/homeassistant/#device-class">device_class</a></span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: None</span>)</span><a name="device_class" class="title-link" href="#device_class"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The <a href="/integrations/cover/#device-class">type/class</a> of the cover to set the icon in the frontend.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input_type </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: holding</span>)</span><a name="input_type" class="title-link" href="#input_type"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Cover register type.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> holding </span><a name="holding" class="title-link" href="#holding"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Holding register.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input </span><a name="input" class="title-link" href="#input"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Input register.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_open </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 1</span>)</span><a name="state_open" class="title-link" href="#state_open"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A value in <code>status_register</code> or <code>register</code> representing an open cover. If your configuration uses the <code>register</code> attribute, this value will be written into the holding register to open the cover.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_closed </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 0</span>)</span><a name="state_closed" class="title-link" href="#state_closed"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A value in <code>status_register</code> or <code>register</code> representing a closed cover. If your configuration uses the <code>register</code> attribute, this value will be written into the holding register to close the cover.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_opening </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 2</span>)</span><a name="state_opening" class="title-link" href="#state_opening"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A value in <code>status_register</code> or <code>register</code> representing an opening cover. Note that this state should be also supported on your connected Modbus cover. If it won’t report the state, this state won’t be detected.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_closing </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 3</span>)</span><a name="state_closing" class="title-link" href="#state_closing"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A value in <code>status_register</code> or <code>register</code> representing a closing cover. Note that this state should be also supported on your connected Modbus cover. If it will not report the state, this state won’t be detected.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> status_register </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="status_register" class="title-link" href="#status_register"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Address of register, from which all the cover states will be read. If you specified <code>register</code> attribute, and not <code>status_register</code> attribute, your main register will also be used as a status register.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> status_register_type </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="status_register_type" class="title-link" href="#status_register_type"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Cover status register type (holding, input), default holding.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> holding </span><a name="holding" class="title-link" href="#holding"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Holding register.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input </span><a name="input" class="title-link" href="#input"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Input register.</p>
</span></div>
</div>
</div>
</div>
</div>
</div></div>
</div>
<h3>Example: Modbus cover <a class="title-link" name="example-modbus-cover" href="#example-modbus-cover"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example configuration.yaml entry</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hub1</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">covers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Door1</span>
        <span class="na">device_class</span><span class="pi">:</span> <span class="s">door</span>
        <span class="na">input_type</span><span class="pi">:</span> <span class="s">coil</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">117</span>
        <span class="na">state_open</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">state_opening</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">state_closed</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">state_closing</span><span class="pi">:</span> <span class="m">3</span>
        <span class="na">status_register</span><span class="pi">:</span> <span class="m">119</span>
        <span class="na">status_register_type</span><span class="pi">:</span> <span class="s">holding</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Door2"</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">118</span>
</code></pre></div></div>
<h3>Example: Modbus cover controlled by a coil <a class="title-link" name="example-modbus-cover-controlled-by-a-coil" href="#example-modbus-cover-controlled-by-a-coil"></a>
</h3>
<p>This example shows a configuration for a Modbus cover controlled using a coil. Intermediary states like opening/closing are not supported. The cover state is polled from Modbus every 10 seconds.</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hub1</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">covers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Door1</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">coil</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">device_class</span><span class="pi">:</span> <span class="s">door</span>
        <span class="na">scan_interval</span><span class="pi">:</span> <span class="m">10</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Door2</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">coil</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">device_class</span><span class="pi">:</span> <span class="s">door</span>
        <span class="na">scan_interval</span><span class="pi">:</span> <span class="m">10</span>
</code></pre></div></div>
<h3>Example: Modbus cover controlled by a coil, its state is read from the register <a class="title-link" name="example-modbus-cover-controlled-by-a-coil-its-state-is-read-from-the-register" href="#example-modbus-cover-controlled-by-a-coil-its-state-is-read-from-the-register"></a>
</h3>
<p>This example shows a configuration for a Modbus cover controlled using a coil. Actual cover state is read from the <code>status_register</code>. We’ve also specified register values to match with the states open/opening/closed/closing. The cover state is polled from Modbus every 10 seconds.</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hub1</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">covers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Door1</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">device_class</span><span class="pi">:</span> <span class="s">door</span>
        <span class="na">scan_interval</span><span class="pi">:</span> <span class="m">10</span>
        <span class="na">coil</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">status_register</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">status_register_type</span><span class="pi">:</span> <span class="s">input</span>
        <span class="na">state_opening</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">state_open</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">state_closing</span><span class="pi">:</span> <span class="m">3</span>
        <span class="na">state_closed</span><span class="pi">:</span> <span class="m">4</span>
</code></pre></div></div>
<h3>Example: Modbus cover controlled by a holding register <a class="title-link" name="example-modbus-cover-controlled-by-a-holding-register" href="#example-modbus-cover-controlled-by-a-holding-register"></a>
</h3>
<p>This example shows a configuration for a Modbus cover controlled using a holding register, from which we also read current cover state. We’ve also specified register values to match with the states open/opening/closed/closing. The cover state is polled from Modbus every 10 seconds.</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hub1</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">covers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Door1</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">device_class</span><span class="pi">:</span> <span class="s">door</span>
        <span class="na">scan_interval</span><span class="pi">:</span> <span class="m">10</span>
        <span class="na">register</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">state_opening</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">state_open</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">state_closing</span><span class="pi">:</span> <span class="m">3</span>
        <span class="na">state_closed</span><span class="pi">:</span> <span class="m">4</span>
</code></pre></div></div>
<h3>Example: Modbus cover controlled by a holding register, its state is read from the status register <a class="title-link" name="example-modbus-cover-controlled-by-a-holding-register-its-state-is-read-from-the-status-register" href="#example-modbus-cover-controlled-by-a-holding-register-its-state-is-read-from-the-status-register"></a>
</h3>
<p>This example shows a configuration for a Modbus cover controlled using a holding register. However, cover state is read from a <code>status_register</code>. In this case, we’ve specified only values for <code>state_open</code> and <code>state_closed</code>, for the rest, default values are used. The cover state is polled from Modbus every 10 seconds.</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hub1</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>

    <span class="na">covers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Door1</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">device_class</span><span class="pi">:</span> <span class="s">door</span>
        <span class="na">scan_interval</span><span class="pi">:</span> <span class="m">10</span>
        <span class="na">register</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">status_register</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">register_type</span><span class="pi">:</span> <span class="s">holding</span>
        <span class="na">state_open</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">state_closed</span><span class="pi">:</span> <span class="m">0</span>
</code></pre></div></div>
<h2>Configuring fan entities <a class="title-link" name="configuring-fan-entities" href="#configuring-fan-entities"></a>
</h2>
<p>The <code>modbus</code> fan platform allows you to control <a href="http://www.modbus.org/" rel="external nofollow">Modbus<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> coils or registers.</p>
<p>Please refer to <a href="#parameters-usage-matrix">Parameter usage</a> for conflicting parameters.</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="modbus-configuration-variables" href="#modbus-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class=""><div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> fans </span><span class="config-vars-type">map</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="fans" class="title-link" href="#fans"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A list of all fan entities in this modbus instance.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> command_on </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 1</span>)</span><a name="command_on" class="title-link" href="#command_on"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value to write to turn on the fan.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> command_off </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 0</span>)</span><a name="command_off" class="title-link" href="#command_off"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value to write to turn off the fan.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> write_type </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: holding</span>)</span><a name="write_type" class="title-link" href="#write_type"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Type of write request.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> holding </span><a name="holding" class="title-link" href="#holding"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>write_register is called.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> holdings </span><a name="holdings" class="title-link" href="#holdings"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>write_registers is called.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> coil </span><a name="coil" class="title-link" href="#coil"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>write_coil is called.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> coils </span><a name="coils" class="title-link" href="#coils"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>write_coils is called.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> verify </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="verify" class="title-link" href="#verify"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Read from Modbus device to verify fan. If used without attributes, it uses the toggle register configuration. If omitted, no verification is done, but the state of the fan is set with each toggle.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> address </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: write address</span>)</span><a name="address" class="title-link" href="#address"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Address to read from.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> delay </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 0</span>)</span><a name="delay" class="title-link" href="#delay"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Delay between write and verify.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input_type </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="input_type" class="title-link" href="#input_type"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>Type of address.</p>
</span><div class="config-vars-default">
Default: <p>same as <code>write_type</code></p>
</div>
</div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> coil </span><a name="coil" class="title-link" href="#coil"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Coil (1bit relay).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> discrete </span><a name="discrete" class="title-link" href="#discrete"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Discret input (1bit relay).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> holding </span><a name="holding" class="title-link" href="#holding"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Holding register.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input </span><a name="input" class="title-link" href="#input"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Input register.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_on </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_on" class="title-link" href="#state_on"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>Value when the fan is on.</p>
</span><div class="config-vars-default">
Default: <p>same as <code>command_on</code></p>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_off </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_off" class="title-link" href="#state_off"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>Value when the fan is off.</p>
</span><div class="config-vars-default">
Default: <p>same as <code>command_off</code></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>
</div>
<h3>Example: fan configuration <a class="title-link" name="example-fan-configuration" href="#example-fan-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example configuration.yaml entry</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">fans</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Fan1"</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">13</span>
        <span class="na">write_type</span><span class="pi">:</span> <span class="s">coil</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Fan2"</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">14</span>
        <span class="na">write_type</span><span class="pi">:</span> <span class="s">coil</span>
        <span class="na">verify</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Register1"</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">11</span>
        <span class="na">command_on</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">command_off</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">verify</span><span class="pi">:</span>
            <span class="na">input_type</span><span class="pi">:</span> <span class="s">holding</span>
            <span class="na">address</span><span class="pi">:</span> <span class="m">127</span>
            <span class="na">state_on</span><span class="pi">:</span> <span class="m">25</span>
            <span class="na">state_off</span><span class="pi">:</span> <span class="m">1</span>
</code></pre></div></div>
<h2>Configuring light entities <a class="title-link" name="configuring-light-entities" href="#configuring-light-entities"></a>
</h2>
<p>The <code>modbus</code> light platform allows you to control <a href="http://www.modbus.org/" rel="external nofollow">Modbus<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> coils or registers.</p>
<p>Please refer to <a href="#parameters-usage-matrix">Parameter usage</a> for conflicting parameters.</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="modbus-configuration-variables" href="#modbus-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class=""><div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> lights </span><span class="config-vars-type">map</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="lights" class="title-link" href="#lights"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A list of all light entities in this modbus instance.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> command_on </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 1</span>)</span><a name="command_on" class="title-link" href="#command_on"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value to write to turn on the light.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> command_off </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 0</span>)</span><a name="command_off" class="title-link" href="#command_off"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value to write to turn off the light.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> brightness_address </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: None</span>)</span><a name="brightness_address" class="title-link" href="#brightness_address"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Address to read/write color brightness.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> color_temp_address </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: None</span>)</span><a name="color_temp_address" class="title-link" href="#color_temp_address"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Address to read/write color temperature.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> min_temp </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 2000</span>)</span><a name="min_temp" class="title-link" href="#min_temp"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Minimal level of color temperature in Kelvin.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> max_temp </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 7000</span>)</span><a name="max_temp" class="title-link" href="#max_temp"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Maximal level of color temperature in Kelvin.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> write_type </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: holding</span>)</span><a name="write_type" class="title-link" href="#write_type"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Type of write request.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> holding </span><a name="holding" class="title-link" href="#holding"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>write_register is called.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> holdings </span><a name="holdings" class="title-link" href="#holdings"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>write_registers is called.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> coil </span><a name="coil" class="title-link" href="#coil"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>write_coil is called.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> coils </span><a name="coils" class="title-link" href="#coils"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>write_coils is called.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> verify </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="verify" class="title-link" href="#verify"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Read from Modbus device to verify the light. If used without attributes, it uses the toggle register configuration. If omitted no verification, is done, but the state of the light is set with each toggle.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> address </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="address" class="title-link" href="#address"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>Address to read from.</p>
</span><div class="config-vars-default">
Default: <p>Same as <code>address</code></p>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> delay </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 0</span>)</span><a name="delay" class="title-link" href="#delay"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>delay between write and verify.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input_type </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="input_type" class="title-link" href="#input_type"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>Type of address (holding/coil/discrete/input).</p>
</span><div class="config-vars-default">
Default: <p>Same as <code>write_type</code></p>
</div>
</div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> coil </span><a name="coil" class="title-link" href="#coil"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Coil (1bit relay).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> discrete </span><a name="discrete" class="title-link" href="#discrete"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Discrete inout (1bit relay).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> holding </span><a name="holding" class="title-link" href="#holding"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Holding register.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input </span><a name="input" class="title-link" href="#input"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Input register.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_on </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_on" class="title-link" href="#state_on"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>Value when the light is on.</p>
</span><div class="config-vars-default">
Default: <p>Same as <code>command_on</code></p>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_off </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_off" class="title-link" href="#state_off"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>Value when the light is off.</p>
</span><div class="config-vars-default">
Default: <p>Same as <code>command_off</code></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>
</div>
<h3>Example: light configuration <a class="title-link" name="example-light-configuration" href="#example-light-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example configuration.yaml entry</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">lights</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">light1"</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">13</span>
        <span class="na">write_type</span><span class="pi">:</span> <span class="s">coil</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">light2"</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">14</span>
        <span class="na">write_type</span><span class="pi">:</span> <span class="s">coil</span>
        <span class="na">brightness_address</span><span class="pi">:</span> <span class="m">1006</span>
        <span class="na">verify</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">light3"</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">14</span>
        <span class="na">write_type</span><span class="pi">:</span> <span class="s">coil</span>
        <span class="na">brightness_address</span><span class="pi">:</span> <span class="m">1006</span>
        <span class="na">color_temp_address</span><span class="pi">:</span> <span class="m">2006</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">light4"</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">14</span>
        <span class="na">write_type</span><span class="pi">:</span> <span class="s">coil</span>
        <span class="na">brightness_address</span><span class="pi">:</span> <span class="m">1006</span>
        <span class="na">color_temp_address</span><span class="pi">:</span> <span class="m">2006</span>
        <span class="na">min_temp</span><span class="pi">:</span> <span class="m">2500</span>
        <span class="na">max_temp</span><span class="pi">:</span> <span class="m">5500</span>
        <span class="na">verify</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Register1"</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">11</span>
        <span class="na">command_on</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">command_off</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">verify</span><span class="pi">:</span>
            <span class="na">input_type</span><span class="pi">:</span> <span class="s">holding</span>
            <span class="na">address</span><span class="pi">:</span> <span class="m">127</span>
            <span class="na">state_on</span><span class="pi">:</span> <span class="m">25</span>
            <span class="na">state_off</span><span class="pi">:</span> <span class="m">1</span>
</code></pre></div></div>
<h2>Configuring sensor entities <a class="title-link" name="configuring-sensor-entities" href="#configuring-sensor-entities"></a>
</h2>
<p>The <code>modbus</code> sensor allows you to gather data from <a href="http://www.modbus.org/" rel="external nofollow">Modbus<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> registers.</p>
<p>Please refer to <a href="#parameters-usage-matrix">Parameter usage</a> for conflicting parameters.</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="modbus-configuration-variables" href="#modbus-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class=""><div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> sensors </span><span class="config-vars-type">map</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="sensors" class="title-link" href="#sensors"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A list of all sensors in this modbus instance.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> count </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="count" class="title-link" href="#count"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Number of registers to read. <strong>only valid for <code>data_type: custom</code> and <code>data_type: string</code></strong>, for other data types count is automatically calculated.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> data_type </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: int16</span>)</span><a name="data_type" class="title-link" href="#data_type"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Response representation.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> custom </span><a name="custom" class="title-link" href="#custom"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>user defined format, <code>structure:</code> and <code>count:</code> must be configured.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> float16 </span><a name="float16" class="title-link" href="#float16"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>16 bit signed float (1 register holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> float32 </span><a name="float32" class="title-link" href="#float32"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>32 bit signed float (2 registers holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> float64 </span><a name="float64" class="title-link" href="#float64"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>64 bit signed float (4 register holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> int </span><a name="int" class="title-link" href="#int"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p><strong>DEPRECATED</strong> is silently converted to <code>int16</code></p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> int16 </span><a name="int16" class="title-link" href="#int16"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>16 bit signed integer (1 register holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> int32 </span><a name="int32" class="title-link" href="#int32"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>32 bit signed integer (2 registers holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> int64 </span><a name="int64" class="title-link" href="#int64"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>64 bit signed integer (4 registers holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> string </span><a name="string" class="title-link" href="#string"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>set of 8 bit characters, <code>count:</code> must be configured.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> uint </span><a name="uint" class="title-link" href="#uint"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p><strong>DEPRECATED</strong> is silently converted to <code>uint16</code></p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> uint16 </span><a name="uint16" class="title-link" href="#uint16"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>16 bit unsigned integer (1 register holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> uint32 </span><a name="uint32" class="title-link" href="#uint32"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>32 bit unsigned integer (2 registers holds 1 value).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> uint64 </span><a name="uint64" class="title-link" href="#uint64"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>64 bit unsigned integer (4 registers holds 1 value).</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> device_class </span><span class="config-vars-type"><a href="/integrations/homeassistant/#device-class">device_class</a></span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: None</span>)</span><a name="device_class" class="title-link" href="#device_class"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The <a href="/integrations/sensor/#device-class">type/class</a> of the sensor to set the icon in the frontend.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input_type </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: holding</span>)</span><a name="input_type" class="title-link" href="#input_type"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Modbus register type for sensor.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> holding </span><a name="holding" class="title-link" href="#holding"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Holding register.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input </span><a name="input" class="title-link" href="#input"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Input register.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> min_value </span><span class="config-vars-type">float</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="min_value" class="title-link" href="#min_value"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The minimum allowed value of a sensor. If value &lt; min_value –&gt; min_value. Can be float or integer</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> max_value </span><span class="config-vars-type">float</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="max_value" class="title-link" href="#max_value"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The maximum allowed value of a sensor. If value &gt; max_value –&gt; max_value. Can be float or integer</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> nan_value </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="nan_value" class="title-link" href="#nan_value"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>If a Modbus sensor has a defined NaN value, this value can be set as a hex string starting with <code>0x</code> containing one or more bytes (for example, <code>0xFFFF</code> or <code>0x80000000</code>) or provided as an integer directly. If triggered, the sensor becomes <code>unknown</code>. Please note that the hex to int conversion for <code>nan_value</code> does currently not obey home-assistants Modbus encoding using the <code>data_type</code>, <code>structure</code>, or <code>swap</code> arguments.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> zero_suppress </span><span class="config-vars-type">float</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="zero_suppress" class="title-link" href="#zero_suppress"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Suppress values close to zero. If -zero_suppress &lt;= value &lt;= +zero_suppress –&gt; 0. Can be float or integer</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> offset </span><span class="config-vars-type">float</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 0</span>)</span><a name="offset" class="title-link" href="#offset"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Final offset (output = scale * value + offset).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> precision </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 0</span>)</span><a name="precision" class="title-link" href="#precision"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Number of valid decimals.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> scale </span><span class="config-vars-type">float</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 1</span>)</span><a name="scale" class="title-link" href="#scale"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Scale factor (output = scale * value + offset).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> slave_count </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="slave_count" class="title-link" href="#slave_count"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Identical to <code>virtual_count</code>.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> virtual_count </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="virtual_count" class="title-link" href="#virtual_count"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Generates x-1 slave sensors, allowing read of multiple registers with a single read message.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_class </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_class" class="title-link" href="#state_class"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The <a href="https://developers.home-assistant.io/docs/core/entity/sensor#available-state-classes">state_class</a> of the sensor.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> structure </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="structure" class="title-link" href="#structure"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>If <code>data_type: custom</code> is specified a double-quoted Python struct is expected, to format the string to unpack the value. See Python documentation for details. Example: <code>&gt;i</code>.</p>
</span><div class="config-vars-default">
Default: <blockquote>
<p>f</p>
</blockquote>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> swap </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: none</span>)</span><a name="swap" class="title-link" href="#swap"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Swap the order of bytes/words, <strong>not valid with <code>custom</code> and <code>datatype: string</code></strong></p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> byte </span><a name="byte" class="title-link" href="#byte"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Swap bytes AB -&gt; BA.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> word </span><a name="word" class="title-link" href="#word"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Swap word ABCD -&gt; CDAB, <strong>not valid with data types: <code>int16</code>, <code>uint16</code></strong></p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> word_byte </span><a name="word_byte" class="title-link" href="#word_byte"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Swap word ABCD -&gt; DCBA, <strong>not valid with data types: <code>int16</code>, <code>uint16</code></strong></p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> unit_of_measurement </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="unit_of_measurement" class="title-link" href="#unit_of_measurement"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Unit to attach to value.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> unique_id </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="unique_id" class="title-link" href="#unique_id"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>ID that uniquely identifies the entity. If two sensors have the same unique ID, Home Assistant will raise an exception.</p>
</span></div>
</div>
</div>
</div></div>
</div>
<div class="alert alert-note">
  <p class="alert-title"><iconify-icon inline icon="mdi:information-outline"></iconify-icon> Note</p>
  <div class="alert-content">
<p>If you specify scale or offset as floating point values, double precision floating point arithmetic will be used to calculate final value. This can cause loss of precision for values that are larger than 2^53.</p>
  </div>
</div>
<h3>Example: sensor configuration <a class="title-link" name="example-sensor-configuration" href="#example-sensor-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example configuration.yaml entry</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hub1</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">sensors</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Sensor1</span>
        <span class="na">unit_of_measurement</span><span class="pi">:</span> <span class="s">°C</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">100</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Sensor2</span>
        <span class="na">unit_of_measurement</span><span class="pi">:</span> <span class="s">mg</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">110</span>
        <span class="na">count</span><span class="pi">:</span> <span class="m">2</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Sensor3</span>
        <span class="na">unit_of_measurement</span><span class="pi">:</span> <span class="s">°C</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">120</span>
        <span class="na">input_type</span><span class="pi">:</span> <span class="s">input</span>
        <span class="na">data_type</span><span class="pi">:</span> <span class="s">float</span>
        <span class="na">scale</span><span class="pi">:</span> <span class="m">0.01</span>
        <span class="na">offset</span><span class="pi">:</span> <span class="s">-273.16</span>
        <span class="na">precision</span><span class="pi">:</span> <span class="m">2</span>
</code></pre></div></div>
<h3>Example: sensor full configuration <a class="title-link" name="example-sensor-full-configuration" href="#example-sensor-full-configuration"></a>
</h3>
<p>Example temperature sensor with a default scan interval:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hub1</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">sensors</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Room_1</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">10</span>
        <span class="na">address</span><span class="pi">:</span> <span class="s">0x9A</span>
        <span class="na">input_type</span><span class="pi">:</span> <span class="s">holding</span>
        <span class="na">unit_of_measurement</span><span class="pi">:</span> <span class="s">°C</span>
        <span class="na">state_class</span><span class="pi">:</span> <span class="s">measurement</span>
        <span class="na">count</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">scale</span><span class="pi">:</span> <span class="m">0.1</span>
        <span class="na">offset</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">precision</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">data_type</span><span class="pi">:</span> <span class="s">integer</span>
</code></pre></div></div>
<h2>Configuring switch entities <a class="title-link" name="configuring-switch-entities" href="#configuring-switch-entities"></a>
</h2>
<p>The <code>modbus</code> switch platform allows you to control <a href="http://www.modbus.org/" rel="external nofollow">Modbus<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> coils or registers.</p>
<p>Please refer to <a href="#parameters-usage-matrix">Parameter usage</a> for conflicting parameters.</p>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="modbus-configuration-variables" href="#modbus-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class=""><div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> switches </span><span class="config-vars-type">map</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="switches" class="title-link" href="#switches"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A list of all switches in this modbus instance.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> command_on </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 1</span>)</span><a name="command_on" class="title-link" href="#command_on"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value to write to turn on the switch.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> command_off </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 0</span>)</span><a name="command_off" class="title-link" href="#command_off"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Value to write to turn off the switch.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> write_type </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: holding</span>)</span><a name="write_type" class="title-link" href="#write_type"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Type of write request.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> holding </span><a name="holding" class="title-link" href="#holding"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>write_register is called.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> holdings </span><a name="holdings" class="title-link" href="#holdings"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>write_registers is called.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> coil </span><a name="coil" class="title-link" href="#coil"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>write_coil is called.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> coils </span><a name="coils" class="title-link" href="#coils"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>write_coils is called.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> verify </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="verify" class="title-link" href="#verify"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Read from Modbus device to verify switch. If used without attributes, it uses the toggle register configuration. If omitted, no verification is done, but the state of the switch is set with each toggle.</p>
</span></div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> address </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="address" class="title-link" href="#address"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>Address to read from.</p>
</span><div class="config-vars-default">
Default: <p>Same as <code>write address</code></p>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> delay </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 0</span>)</span><a name="delay" class="title-link" href="#delay"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Delay between write and verify.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input_type </span><span class="config-vars-type">list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="input_type" class="title-link" href="#input_type"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>Type of address.</p>
</span><div class="config-vars-default">
Default: <p>same as <code>write_type</code></p>
</div>
</div>
<div class="nested">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> coil </span><a name="coil" class="title-link" href="#coil"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Coil (1bit relay).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> discrete </span><a name="discrete" class="title-link" href="#discrete"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Discret input (1bit relay).</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> holding </span><a name="holding" class="title-link" href="#holding"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Holding register.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> input </span><a name="input" class="title-link" href="#input"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Input register.</p>
</span></div>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_on </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_on" class="title-link" href="#state_on"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>Value(s) when switch is on. The value must be an <code>integer</code> or a list of integers.</p>
</span><div class="config-vars-default">
Default: <p>Same as <code>command_on</code></p>
</div>
</div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> state_off </span><span class="config-vars-type">integer | list</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="state_off" class="title-link" href="#state_off"></a>
</div>
<div class="config-vars-description-and-children">
<span class="config-vars-description"><p>Value(s) when switch is off.  The value must be an <code>integer</code> or a list of integers.</p>
</span><div class="config-vars-default">
Default: <p>Same as <code>command_off</code></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>
</div>
<h3>Example: switch configuration <a class="title-link" name="example-switch-configuration" href="#example-switch-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example configuration.yaml entry</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">switches</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Switch1</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">13</span>
        <span class="na">write_type</span><span class="pi">:</span> <span class="s">coil</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Switch2</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">14</span>
        <span class="na">write_type</span><span class="pi">:</span> <span class="s">coil</span>
        <span class="na">verify</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Register1</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">11</span>
        <span class="na">command_on</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">command_off</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">verify</span><span class="pi">:</span>
            <span class="na">input_type</span><span class="pi">:</span> <span class="s">holding</span>
            <span class="na">address</span><span class="pi">:</span> <span class="m">127</span>
            <span class="na">state_on</span><span class="pi">:</span> <span class="m">25</span>
            <span class="na">state_off</span><span class="pi">:</span> <span class="m">1</span>
</code></pre></div></div>
<h3>Example: switch full configuration <a class="title-link" name="example-switch-full-configuration" href="#example-switch-full-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="c1"># Example configuration.yaml entry</span>
<span class="na">modbus</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">tcp</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">IP_ADDRESS</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">502</span>
    <span class="na">switches</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Switch1</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">13</span>
        <span class="na">write_type</span><span class="pi">:</span> <span class="s">coil</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Switch2</span>
        <span class="na">slave</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">14</span>
        <span class="na">write_type</span><span class="pi">:</span> <span class="s">coil</span>
        <span class="na">verify</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Register1</span>
        <span class="na">address</span><span class="pi">:</span> <span class="m">11</span>
        <span class="na">command_on</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">command_off</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">verify</span><span class="pi">:</span>
            <span class="na">input_type</span><span class="pi">:</span> <span class="s">holding</span>
            <span class="na">address</span><span class="pi">:</span> <span class="m">127</span>
            <span class="na">state_on</span><span class="pi">:</span> <span class="m">25</span>
            <span class="na">state_off</span><span class="pi">:</span> <span class="m">1</span>
</code></pre></div></div>
<h2>Parameters usage matrix <a class="title-link" name="parameters-usage-matrix" href="#parameters-usage-matrix"></a>
</h2>
<p>Some parameters exclude other parameters, the following tables show what can be combined:</p>
<table>
<thead>
<tr>
<th>Datatype:</th>
<th>custom</th>
<th>string</th>
<th>*16</th>
<th>*32</th>
<th>*64</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td>structure</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td>slave_count</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>virtual_count</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>swap: byte</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>swap: word</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>swap: word_byte</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h1>Actions</h1>
<p>The modbus integration provides two generic write actions in addition to the platform-specific actions.</p>
<table>
<thead>
<tr>
<th>Action</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>modbus.write_register</td>
<td>Write register or registers</td>
</tr>
<tr>
<td>modbus.write_coil</td>
<td>Write coil or coils</td>
</tr>
</tbody>
</table>
<p>Description:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>hub</td>
<td>Hub name (defaults to ‘modbus_hub’ when omitted)</td>
</tr>
<tr>
<td>slave</td>
<td>Slave address (0-255, defaults to 1 when omitted)</td>
</tr>
<tr>
<td>address</td>
<td>Address of the Register (e.g. 138)</td>
</tr>
<tr>
<td>value</td>
<td>(write_register) A single value or an array of 16-bit values. Single value will call modbus function code 0x06. Array will call modbus function code 0x10. Values might need reverse ordering. E.g., to set 0x0004 you might need to set <code>[4,0]</code>, this depend on the byte order of your CPU</td>
</tr>
<tr>
<td>state</td>
<td>(write_coil) A single boolean or an array of booleans. Single boolean will call modbus function code 0x05. Array will call modbus function code 0x0F</td>
</tr>
</tbody>
</table>
<h2>Example: writing a float32 type register <a class="title-link" name="example-writing-a-float32-type-register" href="#example-writing-a-float32-type-register"></a>
</h2>
<p>To write a float32 datatype register use network format like <code>10.0</code> == <code>0x41200000</code> (network order float hexadecimal).</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">action</span><span class="pi">:</span> <span class="s">modbus.write_register</span>
<span class="na">data</span><span class="pi">:</span>
  <span class="na">address</span><span class="pi">:</span> <span class="s">&lt;target register address&gt;</span>
  <span class="na">slave</span><span class="pi">:</span> <span class="s">&lt;target slave address&gt;</span>
  <span class="na">hub</span><span class="pi">:</span> <span class="s">&lt;hub name&gt;</span>
  <span class="na">value</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">0x4120</span><span class="pi">,</span> <span class="nv">0x0000</span><span class="pi">]</span>
</code></pre></div></div>
<h2>Action modbus.set-temperature <a class="title-link" name="action-modbusset-temperature" href="#action-modbusset-temperature"></a>
</h2>
<table>
<thead>
<tr>
<th>Action</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>set_temperature</td>
<td>Set temperature. Requires <code>value</code> to be passed in, which is the desired target temperature. <code>value</code> should be in the same type as <code>data_type</code>
</td>
</tr>
</tbody>
</table>
<h2>Action modbus.set_hvac_mode <a class="title-link" name="action-modbusset_hvac_mode" href="#action-modbusset_hvac_mode"></a>
</h2>
<table>
<thead>
<tr>
<th>Action</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>set_hvac_mode</td>
<td>Set HVAC mode. Requires <code>value</code> to be passed in, which is the desired mode. <code>value</code> should be a valid HVAC mode. A mapping between the desired state and the value to be written to the HVAC mode register must exist. Performing this action will also set the On/Off register to an appropriate value, if such a register is defined.</td>
</tr>
</tbody>
</table>
<h1>Opening an issue</h1>
<p>When opening an issue, please add your current configuration (or a scaled down version), with at least:</p>
<ul>
<li>the modbus configuration lines</li>
<li>the entity (sensor, etc.) lines</li>
</ul>
<p>In order for the developers better to identify the problem, please add the
following lines to <span class="terminology"><code>configuration.yaml</code><span class="terminology-tooltip">The configuration.yaml file is the main configuration file for Home Assistant. It lists the integrations to be loaded and their specific configurations. In some cases, the configuration needs to be edited manually directly in the configuration.yaml file. Most integrations can be configured in the UI.<a class="terminology-link" href="/docs/configuration/"> [Learn more]</a></span></span>:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">logger</span><span class="pi">:</span>
  <span class="na">default</span><span class="pi">:</span> <span class="s">warning</span>
  <span class="na">logs</span><span class="pi">:</span>
    <span class="na">homeassistant.components.modbus</span><span class="pi">:</span> <span class="s">debug</span>
    <span class="na">pymodbus</span><span class="pi">:</span> <span class="s">debug</span>
</code></pre></div></div>
<p>and restart Home Assistant, reproduce the problem, and include the log in the issue.</p>
<h1>Building on top of modbus</h1>
<p>The only recommended way is to inherit the entities needed.</p>


  

<div class="text related-topics">
  <h2>Related topics<a class="title-link" href="#related-topics" name="related-topics"></a>
</h2>
  <ul>
    
    
    
    
    
    <li>
      <a href="/needlehack-blog/docs/configuration/" class="topic">
        Configuration file
      </a>
    </li>
    </ul>
</div>


  
<div class="material-card text feedback">
  <h4>
<iconify-icon inline icon="mdi:feedback" title="Feedback"></iconify-icon> <b> Help us improve our documentation</b><a href="#feedback_section" class="title-link" name="feedback_section"></a>
</h4>
  Suggest an edit to this page, or provide/view feedback for this page.
  <div class="links">
    <ul aria-label="Page feedback options">
    <li><a href="https://github.com/home-assistant/home-assistant.io/tree/current/source/_integrations/modbus.markdown" target="_blank" title="Edit this page"><iconify-icon inline icon="mdi:edit"></iconify-icon> Edit</a></li>
    
    <li><a href="https://github.com/home-assistant/home-assistant.io/issues/new?template=feedback.yml&amp;url=https%3A%2F%2Fivangrod.github.io%2Fintegrations%2Fmodbus%2F&amp;version=2025.9.4&amp;labels=current,integration%3A%20modbus" target="_blank" title="Provide feedback on this page"><iconify-icon inline icon="mdi:comment-edit-outline"></iconify-icon> Provide feedback</a></li>
    <li><a href="https://github.com/home-assistant/home-assistant.io/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3A%22integration%3A+modbus%22" target="_blank" title="View pending feedback for this page"><iconify-icon inline icon="mdi:comment-text-multiple-outline"></iconify-icon> View pending feedback</a></li>
    
  </ul>
  </div>
</div>


</article>

            
          </div>


          
            
              <aside id="integration-sidebar" class="grid__item one-third desk-wide-one-quarter lap-one-whole palm-one-whole">
              
            <div class="grid">
  




  


<section class="aside-module grid__item one-whole lap-one-half">
  <div class='brand-logo-container section'>
      <img src='https://brands.home-assistant.io/_/modbus//logo.png' srcset='https://brands.home-assistant.io/_/modbus/logo@2x.png 2x' /></div>

  <div class='section'>The Modbus  integration  was introduced in Home Assistant pre 0.7, and it's used by <a title="Open analytics.home-assistant.io" href="https://analytics.home-assistant.io/integrations" target="_blank" rel="noopener">
        
          2.6%</a> of the active installations.
        
      
    
  </div>
    <div class='section'>
      <iconify-icon icon='mdi:download-network-outline'></iconify-icon>&nbsp;Its IoT class is <a href='/blog/2016/02/12/classifying-the-internet-of-things/#classifiers'>Local Polling.</a>
    </div>
  <div class='section'>
    <a href="https://github.com/home-assistant/core/tree/dev/homeassistant/components/modbus" target="_blank"><iconify-icon inline icon='simple-icons:github' title='Github'></iconify-icon> View source on GitHub</a><br />
    <a href="https://github.com/home-assistant/core/issues?q=is%3Aissue+is%3Aopen+label%3A%22integration%3A+modbus%22" target="_blank"><iconify-icon inline icon='mdi:bug' title='Bug'></iconify-icon> View known issues</a>
  </div></section>

<section class="aside-module grid__item one-whole lap-one-half">
  <div class='section'>
    <h1 class="title epsilon"><iconify-icon inline icon='mdi:person-heart' title='Person heart'></iconify-icon> Integration owners</h1>
    
      <div class="section">
        This integration is community maintained.<br />
        If you are a developer and would like to help, feel free to contribute!
      </div>
    
  </div>
</section>






  <section id="toc-module" class="aside-module grid__item one-whole lap-one-half">
        <div class='section'>
          <h1 class="title epsilon"><iconify-icon inline icon='mdi:toc' title='Toc'></iconify-icon> On this page</h1>
          <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#configuring-tcp-connection">Configuring tcp connection</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-typical-tcp-configuration">Example: typical tcp configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-full-tcp-configuration">Example: full tcp configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-a-tcp-rtu-connection">Configuring a TCP-RTU connection</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-typical-tcp-rtu-configuration">Example: typical TCP-RTU configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-full-tcp-rtu-configuration">Example: full TCP-RTU configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-a-udp-connection">Configuring a UDP connection</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-typical-udp-configuration">Example: typical udp configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-full-udp-configuration">Example: full UDP configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-serial-connection">Configuring serial connection</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-typical-serial-configuration">Example: typical serial configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-full-serial-configuration">Example: full serial configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-multiple-connections">Configuring multiple connections</a></li>
<li class="toc-entry toc-h2"><a href="#example-entities-grouping">Example: entities grouping</a></li>
<li class="toc-entry toc-h2"><a href="#configuring-binary-sensor-entities">Configuring binary sensor entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-typical-binary-sensor-configuration">Example: typical binary sensor configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-full-binary-sensor-configuration">Example: full binary sensor configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-multiple-identical-binary-sensor-configuration">Example: multiple identical binary sensor configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-climate-entities">Configuring climate entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-climate-configuration">Example: climate configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-cover-entities">Configuring cover entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-modbus-cover">Example: Modbus cover</a></li>
<li class="toc-entry toc-h3"><a href="#example-modbus-cover-controlled-by-a-coil">Example: Modbus cover controlled by a coil</a></li>
<li class="toc-entry toc-h3"><a href="#example-modbus-cover-controlled-by-a-coil-its-state-is-read-from-the-register">Example: Modbus cover controlled by a coil, its state is read from the register</a></li>
<li class="toc-entry toc-h3"><a href="#example-modbus-cover-controlled-by-a-holding-register">Example: Modbus cover controlled by a holding register</a></li>
<li class="toc-entry toc-h3"><a href="#example-modbus-cover-controlled-by-a-holding-register-its-state-is-read-from-the-status-register">Example: Modbus cover controlled by a holding register, its state is read from the status register</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-fan-entities">Configuring fan entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-fan-configuration">Example: fan configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-light-entities">Configuring light entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-light-configuration">Example: light configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-sensor-entities">Configuring sensor entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-sensor-configuration">Example: sensor configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-sensor-full-configuration">Example: sensor full configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#configuring-switch-entities">Configuring switch entities</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-switch-configuration">Example: switch configuration</a></li>
<li class="toc-entry toc-h3"><a href="#example-switch-full-configuration">Example: switch full configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#parameters-usage-matrix">Parameters usage matrix</a></li>
<li class="toc-entry toc-h2"><a href="#example-writing-a-float32-type-register">Example: writing a float32 type register</a></li>
<li class="toc-entry toc-h2"><a href="#action-modbusset-temperature">Action modbus.set-temperature</a></li>
<li class="toc-entry toc-h2"><a href="#action-modbusset_hvac_mode">Action modbus.set_hvac_mode</a></li>
<li class="toc-entry toc-h2"><a href="#related-topics">Related topics</a></li>
</ul>
        </div>
      </section><section id="category-module" class="aside-module grid__item one-whole lap-one-half">
      <div class='section'>
        <h1 class="title epsilon"><iconify-icon inline icon='mdi:category' title='Category'></iconify-icon> Categories</h1>
        <ul class='divided'><li>
            <a href='/integrations/#hub'>Hub</a>
          </li></ul>
      </div>
    </section></div>

          </aside>
          
        </div>
      </div>

      <footer>
        <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="skyline grid">
        <div class="skyline grid__item one-whole">
          <div class="footer-skyline">
          </div>
        </div>
      </div>
      <div class="footer-nav grid">
        <div class="company grid__item one-quarter lap-one-half palm-one-whole">
          <div class="title">
            <img
              src="/needlehack-blog/images/footer-logo-text.svg"
              height="72"
              alt="Home Assistant"
            />
          </div>
          <p>
            Home Assistant is a project from the <a href="https://www.openhomefoundation.org/">Open Home Foundation</a>, sponsored by <a href="https://www.nabucasa.com/">Nabu Casa</a>.
          </p>
        </div>

        <div class="grid__item one-quarter lap-one-half palm-one-whole">
          <h3>Join us and contribute!</h3>
          <ul>
            <li><a class="external-link" href="https://github.com/home-assistant/">GitHub repo <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://developers.home-assistant.io">Developers Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://design.home-assistant.io">Design Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://data.home-assistant.io">Data Science Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://community.home-assistant.io">Community Forum <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://creators.home-assistant.io/">Creator Network <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://works-with.home-assistant.io/">Works With Home Assistant <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a href="/needlehack-blog/community">Our community</li>
            <li><a href="/needlehack-blog/help/reporting_issues/">Reporting issues</a></li>
          </ul>
          <h3>System status</h3>
          <ul>
            <li>
              <a class="external-link"  href="https://alerts.home-assistant.io">Integration Alerts <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
            </li>
            <li><a href="/needlehack-blog/security/">Security Alerts</a></li>
            <li>
              <a class="external-link" href="https://status.home-assistant.io">System Status <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
            </li>
          </ul>
        </div>

        <div class="grid__item one-quarter lap-one-half palm-one-whole">
          <h3>Companion apps</h3>
          <ul>
            <li><a class="external-link" href="https://apps.apple.com/us/app/home-assistant/id1099568401">iOS and Apple devices</a></li>
            <li><a class="external-link" href="https://play.google.com/store/apps/details?id=io.homeassistant.companion.android">Android and Wear OS</a></li>
            <li><a class="external-link" href="https://companion.home-assistant.io/">...and more!</a></li>
          </ul>
          <h3>Governance</h3>
          <ul>
            <li><a href="/needlehack-blog/privacy/">Privacy Notices</a></li>
            <li><a href="/needlehack-blog/developers/cla/">Contributor License Agreement</a></li>
            <li><a href="/needlehack-blog/tos/">Terms of Service</a></li>
            <li><a href="/needlehack-blog/code_of_conduct/">Code of Conduct</a></li>
            <li><a href="/needlehack-blog/developers/credits/">Credits</a></li>
            <li><a href="/needlehack-blog/developers/license/">License</a></li>
          </ul>
        </div>

        <div class="socials grid__item one-quarter lap-one-half palm-one-whole">

          <h3>Follow us</h3>
          <p><a class="external-link" href='https://newsletter.openhomefoundation.org/#/portal'>Sign up for our newsletter <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></p>
          <div class="icons">
            <a
              rel="me"
              href="https://youtube.com/@home_assistant"
              title="YouTube"
              target="_blank"
              ><iconify-icon icon="simple-icons:youtube"></iconify-icon></a>
            <a
              rel="me"
              href="https://reddit.com/r/homeassistant"
              title="Reddit"
              target="_blank"
              ><iconify-icon icon="simple-icons:reddit"></iconify-icon></a>
            <a
              rel="me"
              href="https://github.com/home-assistant/home-assistant"
              title="GitHub"
              target="_blank"
              ><iconify-icon icon="simple-icons:github"></iconify-icon></a>
            <br />
            <a
              rel="me"
              href="https://fosstodon.org/@homeassistant"
              title="Mastodon"
              target="_blank"
              ><iconify-icon icon="simple-icons:mastodon"></iconify-icon></a>
            <a
              rel="me"
              href="https://bsky.app/profile/home-assistant.io"
              title="Bluesky"
              target="_blank"
             ><iconify-icon icon="simple-icons:bluesky"></iconify-icon></a>
            <a
              rel="me"
              href="https://x.com/home_assistant"
              title="X"
              target="_blank"
             ><iconify-icon icon="simple-icons:x"></iconify-icon></a>
            <br />
            <a
              rel="me"
              href="https://www.facebook.com/homeassistantio"
              title="Facebook"
              target="_blank"
              ><iconify-icon icon="simple-icons:facebook"></iconify-icon></a>
            <a
              rel="me"
              href="https://www.instagram.com/homeassistant/"
              title="Instagram"
              target="_blank"
              ><iconify-icon icon="simple-icons:instagram"></iconify-icon></a>
            <a
              rel="me"
              href="https://www.linkedin.com/company/home-assistant"
              title="LinkedIn"
              target="_blank"
              ><iconify-icon icon="simple-icons:linkedin"></iconify-icon></a>
          </div>

          <div class="web-notice">
            <p>
              For partnership inquiries please check out <a href="https://works-with.home-assistant.io/">Works With Home Assistant</a>. For media, get in touch <a href="mailto:media@openhomefoundation.org">here</a>. For other questions, you can contact us <a href="mailto:hello@home-assistant.io">here</a> (No technical support!)
            </p>
            <p>
              Website powered by <a href="https://jekyllrb.com/">Jekyll</a><br />
              Originally based on the <a href="https://github.com/coogie/oscailte">Oscailte theme</a>
            </p>
            <a href="https://www.netlify.com">
              <img
                src="/needlehack-blog/images/frontpage/netlify.svg"
                alt="Deploys by Netlify Badge"
              />
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

      </footer>

    </div>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@justinribeiro/lite-youtube@1.3.1/lite-youtube.js"></script>

<script src="/needlehack-blog/javascripts/terminology_tooltip.js" type="text/javascript" defer></script>

<script src="/needlehack-blog/javascripts/prism.js" type="text/javascript" defer></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3/dist/umd/index.min.js"></script>
<script type="text/javascript">
  docsearch({
    container: '#docsearch',
    appId: 'FBHBYS3J0U',
    indexName: 'home-assistant',
    apiKey: "ba6f7e6d97b3d3d2f778978c742a47c6",
  });
  document.querySelector('.site-title').addEventListener('contextmenu', function (ev) {
    ev.preventDefault();
    document.location.assign("https://design.home-assistant.io/#brand/logo")
  });
</script>




<script type="text/javascript">
  {
    const article = document.querySelector("article.post");
    if (article) {
      const iframes = article.querySelectorAll("iframe[data-src]");
      let loaded = false;
      if (iframes) {
        document.addEventListener('mousemove', loadLazyFrames, { passive: true, once: true });
        document.addEventListener('touchmove', loadLazyFrames, { passive: true, once: true });
        document.addEventListener('scroll', loadLazyFrames, { passive: true, once: true });
  
        function loadLazyFrames() {
          if (loaded) return;
          loaded = true;
  
          iframes.forEach((iframe) => {
            const src = iframe.getAttribute("data-src");
            if (src) {
              iframe.setAttribute("src", src);
              iframe.removeAttribute("data-src");
            }
          });
        }
      }
    }
  }
</script>

  </body>
</html>
