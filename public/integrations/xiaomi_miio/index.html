



<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Xiaomi Home - Home Assistant</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions on how to integrate Xiaomi devices using the Xiaomi Home integration within Home Assistant.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://www.home-assistant.io/integrations/xiaomi_miio/">

    <meta property="fb:app_id" content="338291289691179">
    <meta property="og:title" content="Xiaomi Home">
    <meta property="og:site_name" content="Home Assistant">
    <meta property="og:url" content="https://www.home-assistant.io/integrations/xiaomi_miio/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Instructions on how to integrate Xiaomi devices using the Xiaomi Home integration within Home Assistant.">
    <meta property="og:image" content="https://ivangrod.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@home_assistant">
    
    <meta name="twitter:title" content="Xiaomi Home">
    <meta name="twitter:description" content="Instructions on how to integrate Xiaomi devices using the Xiaomi Home integration within Home Assistant.">
    <meta name="twitter:image" content="https://ivangrod.github.io/images/default-social.png">
    <link rel="me" href="https://fosstodon.org/@homeassistant">

    <link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3/dist/style.min.css" rel="stylesheet" />
    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?3d79f9acc1b3464b313d68cd5a171ca1" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Home Assistant" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&amp;family=Instrument+Sans:ital,wdth,wght@0,99,400..700;1,99,400..700&amp;" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js"></script>
  </head>

  <body  class=" integration-page  ">
    <header class='site-header '>
      



<div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/needlehack-blog/" class="site-title">
        <div class="logo"></div>
      </a>
      <a class="release-date" href="/blog/2025/09/03/release-20259/" title="Latest version 2025.9.4 released September 19, 2025">
        2025.9.4
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle" />
        <label
          for="toggle"
          class="toggle"
          data-open="Main Menu"
          data-close="⨉"
        ></label>
        <ul class="menu pull-right">
          <li><a  href="/needlehack-blog/installation/">Getting started</a></li>
          <li>
            <a  href="/needlehack-blog/docs/">Documentation <iconify-icon inline icon='mdi:chevron-down' title='Chevron down'></iconify-icon></a>
            <ul>
              <li><a href="/needlehack-blog/installation/"><iconify-icon inline icon='simple-icons:homeassistant' title='Homeassistant'></iconify-icon> Installation</a></li>
              <li><a href="/needlehack-blog/docs/automation/"><iconify-icon inline icon='mdi:robot-happy' title='Robot happy'></iconify-icon> Automations</a></li>
              <li><a href="/needlehack-blog/dashboards/"><iconify-icon inline icon='mdi:gauge' title='Gauge'></iconify-icon> Dashboards</a></li>
              <li><a href="/needlehack-blog/voice_control/"><iconify-icon inline icon='mdi:comment-processing-outline' title='Comment processing outline'></iconify-icon> Voice assistants</a></li>
              <li><a href="/needlehack-blog/docs/organizing/"><iconify-icon inline icon='mdi:view-grid' title='View grid'></iconify-icon> Device organization</a></li>
              <li><a href="/needlehack-blog/docs/energy/"><iconify-icon inline icon='mdi:solar-power-variant' title='Solar power variant'></iconify-icon> Energy management</a></li>
              <li><a href="/needlehack-blog/docs/configuration/"><iconify-icon inline icon='mdi:cog' title='Cog'></iconify-icon> Advanced configuration</a></li>
            </ul>
          </li>
          <li><a class="active" href="/needlehack-blog/integrations/">Integrations</a></li>
          <li><a  href="/needlehack-blog/blog/">Blog</a></li>
          <li><a  href="/needlehack-blog/help/">Need help?</a></li>
          <li>
            <div class="docsearch" id="docsearch"></div>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>

    </header>

    <div class="page-content">

      

      <div class="grid-wrapper">
        <div class="grid grid-center">

          <aside id="toc-bar" class="grid__item desk-wide-one-sixth">
                <section class="aside-module grid__item one-whole">
                  <div class='section'>
                    <h1 class="title epsilon"><iconify-icon inline icon='mdi:toc' title='Toc'></iconify-icon> On this page</h1>
                    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#prerequisites">Prerequisites</a></li>
<li class="toc-entry toc-h2"><a href="#configuration">Configuration</a></li>
<li class="toc-entry toc-h2"><a href="#troubleshooting">Troubleshooting</a></li>
<li class="toc-entry toc-h2"><a href="#xiaomi-gateway">Xiaomi Gateway</a>
<ul>
<li class="toc-entry toc-h3"><a href="#supported-xiaomi-gateway-models">Supported Xiaomi gateway models</a></li>
<li class="toc-entry toc-h3"><a href="#gateway-features">Gateway features</a></li>
<li class="toc-entry toc-h3"><a href="#supported-subdevices">Supported subdevices</a></li>
<li class="toc-entry toc-h3"><a href="#recognized-subdevices-not-yet-implemented">Recognized subdevices (not yet implemented)</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#xiaomi-device-tracker-xiaomi-mi-wifi-repeater-2">Xiaomi device tracker (Xiaomi Mi WiFi Repeater 2)</a></li>
<li class="toc-entry toc-h2"><a href="#xiaomi-air-purifier-air-humidifier-and-standing-fan">Xiaomi Air Purifier, Air Humidifier and Standing Fan</a>
<ul>
<li class="toc-entry toc-h3"><a href="#air-purifier-pro-zhimiairpurifierv6">Air Purifier Pro (zhimi.airpurifier.v6)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-pro-v7-zhimiairpurifierv7">Air Purifier Pro V7 (zhimi.airpurifier.v7)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-ma2-zhimiairpurifierma2">Air Purifier MA2 (zhimi.airpurifier.ma2)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-2s-zhimiairpurifiermc1">Air Purifier 2S (zhimi.airpurifier.mc1)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-33h-2019-zhimiairpurifierma4-zhimiairpurifiermb3">Air Purifier 3/3H (2019) (zhimi.airpurifier.ma4, zhimi.airpurifier.mb3)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-pro-h-pro-h-eu-zhimiairpurifierva1-zhimiairpurifiervb2">Air Purifier Pro H, Pro H EU (zhimi.airpurifier.va1, zhimi.airpurifier.vb2)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-3c-zhimiairpurifiermb4-zhimiairpmb4a">Air Purifier 3C (zhimi.airpurifier.mb4, zhimi.airp.mb4a)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-za1-zhimiairpurifierza1">Air Purifier ZA1 (zhimi.airpurifier.za1)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-v3-zhimiairpurifierv3">Air Purifier V3 (zhimi.airpurifier.v3)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-44-pro-zhimiairpmb5-zhimiairpvb4">Air Purifier 4/4 PRO (zhimi.airp.mb5, zhimi.airp.vb4)</a></li>
<li class="toc-entry toc-h3"><a href="#air-fresh-a1-dmakerairfresha1">Air Fresh A1 (dmaker.airfresh.a1)</a></li>
<li class="toc-entry toc-h3"><a href="#air-fresh-va2">Air Fresh VA2</a></li>
<li class="toc-entry toc-h3"><a href="#air-fresh-va4">Air Fresh VA4</a></li>
<li class="toc-entry toc-h3"><a href="#air-fresh-t2017-dmakerairfresht2017">Air Fresh T2017 (dmaker.airfresh.t2017)</a></li>
<li class="toc-entry toc-h3"><a href="#air-humidifier-zhimihumidifierv1">Air Humidifier (zhimi.humidifier.v1)</a></li>
<li class="toc-entry toc-h3"><a href="#air-humidifier-ca-zhimihumidifierca1">Air Humidifier CA (zhimi.humidifier.ca1)</a></li>
<li class="toc-entry toc-h3"><a href="#air-humidifier-ca-zhimihumidifierca4">Air Humidifier CA (zhimi.humidifier.ca4)</a></li>
<li class="toc-entry toc-h3"><a href="#air-humidifier-cb-zhimihumidifiercb1">Air Humidifier CB (zhimi.humidifier.cb1)</a></li>
<li class="toc-entry toc-h3"><a href="#air-humidifier-jsqjsq1mjjsq-deermahumidifierjsq-deermahumidifierjsq1-deermahumidifiermjjsq">Air Humidifier JSQ/JSQ1/MJJSQ (deerma.humidifier.jsq, deerma.humidifier.jsq1, deerma.humidifier.mjjsq)</a></li>
<li class="toc-entry toc-h3"><a href="#standing-fan-1x-dmakerfanp5">Standing Fan 1X (dmaker.fan.p5)</a></li>
<li class="toc-entry toc-h3"><a href="#standing-fan-zhimifanza1-zhimifanza3-zhimifanza4-zhimifansa1">Standing Fan (zhimi.fan.za1, zhimi.fan.za3, zhimi.fan.za4, zhimi.fan.sa1)</a></li>
<li class="toc-entry toc-h3"><a href="#dc-pedestal-fan-zhimifanv2-zhimifanv3">DC Pedestal Fan (zhimi.fan.v2, zhimi.fan.v3)</a></li>
<li class="toc-entry toc-h3"><a href="#standing-fan-1c-dmakerfan1c">Standing Fan 1C (dmaker.fan.1c)</a></li>
<li class="toc-entry toc-h3"><a href="#tower-fanstanding-fan-2standing-fan-pro-dmakerfanp9-dmakerfanp10-dmakerfanp11-dmakerfanp18">Tower Fan/Standing Fan 2/Standing Fan Pro (dmaker.fan.p9, dmaker.fan.p10, dmaker.fan.p11, dmaker.fan.p18)</a></li>
<li class="toc-entry toc-h3"><a href="#standing-fan-3-zhimifanza5">Standing Fan 3 (zhimi.fan.za5)</a></li>
<li class="toc-entry toc-h3"><a href="#actions">Actions</a></li>
<li class="toc-entry toc-h3"><a href="#action-humidifierset_humidity">Action humidifier.set_humidity</a></li>
<li class="toc-entry toc-h3"><a href="#action-humidifierset_mode">Action humidifier.set_mode</a></li>
<li class="toc-entry toc-h3"><a href="#action-fanset_preset_mode">Action fan.set_preset_mode</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiofan_reset_filter-air-purifier-2-only">Action xiaomi_miio.fan_reset_filter (Air Purifier 2 only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiofan_set_extra_features-air-purifier-only">Action xiaomi_miio.fan_set_extra_features (Air Purifier only)</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#xiaomi-air-quality-monitor">Xiaomi Air Quality Monitor</a></li>
<li class="toc-entry toc-h2"><a href="#xiaomi-ir-remote">Xiaomi IR Remote</a>
<ul>
<li class="toc-entry toc-h3"><a href="#setup">Setup</a></li>
<li class="toc-entry toc-h3"><a href="#configuring-the-platform">Configuring the Platform</a></li>
<li class="toc-entry toc-h3"><a href="#full-configuration">Full Configuration</a></li>
<li class="toc-entry toc-h3"><a href="#add-command-as-entity-button-to-a-dashboard">Add command as entity button to a dashboard</a></li>
<li class="toc-entry toc-h3"><a href="#use-named-commands-to-create-ui-buttons">Use named commands to create UI buttons</a></li>
<li class="toc-entry toc-h3"><a href="#command-types">Command Types</a></li>
<li class="toc-entry toc-h3"><a href="#raw">Raw</a></li>
<li class="toc-entry toc-h3"><a href="#pronto-hex-code">Pronto Hex Code</a></li>
<li class="toc-entry toc-h3"><a href="#actions-1">Actions</a></li>
<li class="toc-entry toc-h3"><a href="#remotesend_command">remote.send_command</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi_miioremote_learn_command">xiaomi_miio.remote_learn_command</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi_miioremote_set_led_on">xiaomi_miio.remote_set_led_on</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi_miioremote_set_led_off">xiaomi_miio.remote_set_led_off</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#xiaomi-mi-robot-vacuum">Xiaomi Mi Robot Vacuum</a>
<ul>
<li class="toc-entry toc-h3"><a href="#actions-2">Actions</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuum_clean_zone">Action xiaomi_miio.vacuum_clean_zone</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuum_clean_segment">Action xiaomi_miio.vacuum_clean_segment</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuum_goto">Action xiaomi_miio.vacuum_goto</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuum_remote_control_start">Action xiaomi_miio.vacuum_remote_control_start</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuum_remote_control_stop">Action xiaomi_miio.vacuum_remote_control_stop</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuunm_remote_control_move">Action xiaomi_miio.vacuuNm_remote_control_move</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuum_remote_control_move_step">Action xiaomi_miio.vacuum_remote_control_move_step</a></li>
<li class="toc-entry toc-h3"><a href="#buttons">Buttons</a></li>
<li class="toc-entry toc-h3"><a href="#sensors">Sensors</a></li>
<li class="toc-entry toc-h3"><a href="#attributes">Attributes</a></li>
<li class="toc-entry toc-h3"><a href="#example-on-how-to-clean-a-specific-room">Example on how to clean a specific room</a></li>
<li class="toc-entry toc-h3"><a href="#example-on-how-to-reset-maintenance-hours-brushes-filter-sensors">Example on how to reset maintenance hours (brushes, filter, sensors)</a></li>
<li class="toc-entry toc-h3"><a href="#retrieving-zoned-cleaning-coordinates">Retrieving Zoned Cleaning Coordinates</a></li>
<li class="toc-entry toc-h3"><a href="#using-flolevac-android">Using FloleVac (Android)</a></li>
<li class="toc-entry toc-h3"><a href="#using-roborock-control-center-requires-valetudo-firmware">Using RoboRock Control Center (requires Valetudo firmware)</a></li>
<li class="toc-entry toc-h3"><a href="#retrieving-room-numbers">Retrieving Room numbers</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#xiaomi-philips-light">Xiaomi Philips Light</a>
<ul>
<li class="toc-entry toc-h3"><a href="#features">Features</a></li>
<li class="toc-entry toc-h3"><a href="#philips-led-ball-lamp-philips-zhirui-led-candle-lamp-and-philips-zhirui-downlight">Philips LED Ball Lamp, Philips Zhirui LED Candle Lamp and Philips Zhirui Downlight</a></li>
<li class="toc-entry toc-h3"><a href="#philips-led-ceiling-lamp">Philips LED Ceiling Lamp</a></li>
<li class="toc-entry toc-h3"><a href="#philips-eyecare-smart-lamp-2">Philips Eyecare Smart Lamp 2</a></li>
<li class="toc-entry toc-h3"><a href="#philips-zhirui-desk-lamp">Philips Zhirui Desk Lamp</a></li>
<li class="toc-entry toc-h3"><a href="#philips-moonlight-bedside-lamp">Philips Moonlight Bedside Lamp</a></li>
<li class="toc-entry toc-h3"><a href="#actions-3">Actions</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_set_scene">Action xiaomi_miio.light_set_scene</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_set_delayed_turn_off">Action xiaomi_miio.light_set_delayed_turn_off</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_reminder_on-eyecare-smart-lamp-2-only">Action xiaomi_miio.light_reminder_on (Eyecare Smart Lamp 2 only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_reminder_off-eyecare-smart-lamp-2-only">Action xiaomi_miio.light_reminder_off (Eyecare Smart Lamp 2 only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_night_light_mode_on-eyecare-smart-lamp-2-only">Action xiaomi_miio.light_night_light_mode_on (Eyecare Smart Lamp 2 only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_night_light_mode_off-eyecare-smart-lamp-2-only">Action xiaomi_miio.light_night_light_mode_off (Eyecare Smart Lamp 2 only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_eyecare_mode_on-eyecare-smart-lamp-2-only">Action xiaomi_miio.light_eyecare_mode_on (Eyecare Smart Lamp 2 only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_eyecare_mode_off-eyecare-smart-lamp-2-only">Action xiaomi_miio.light_eyecare_mode_off (Eyecare Smart Lamp 2 only)</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#xiaomi-smart-wifi-socket-and-smart-power-strip">Xiaomi Smart WiFi Socket and Smart Power Strip</a>
<ul>
<li class="toc-entry toc-h3"><a href="#features-1">Features</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi-smart-wifi-socket">Xiaomi Smart WiFi Socket</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi-chuangmi-plug-v1">Xiaomi Chuangmi Plug V1</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi-smart-power-strip">Xiaomi Smart Power Strip</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi-air-conditioning-companion-v3">Xiaomi Air Conditioning Companion V3</a></li>
<li class="toc-entry toc-h3"><a href="#actions-4">Actions</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miioswitch_set_wifi_led_on-power-strip-only">Action xiaomi_miio.switch_set_wifi_led_on (Power Strip only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miioswitch_set_wifi_led_off-power-strip-only">Action xiaomi_miio.switch_set_wifi_led_off (Power Strip only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miioswitch_set_power_mode-power-strip-v1-only">Action xiaomi_miio.switch_set_power_mode (Power Strip V1 only)</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#retrieving-the-access-token">Retrieving the Access Token</a>
<ul>
<li class="toc-entry toc-h3"><a href="#xiaomi-cloud-tokens-extractor">Xiaomi Cloud Tokens Extractor</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi-home-app-xiaomi-aqara-gateway-android--ios">Xiaomi Home app (Xiaomi Aqara Gateway, Android &amp; iOS)</a></li>
<li class="toc-entry toc-h3"><a href="#using-get-mi-home-devices-token-app">Using Get Mi Home Devices Token App</a></li>
<li class="toc-entry toc-h3"><a href="#alternative-methods">Alternative methods</a></li>
<li class="toc-entry toc-h3"><a href="#android-not-rooted">Android (not rooted)</a></li>
<li class="toc-entry toc-h3"><a href="#linux-and-rooted-android">Linux and Rooted Android</a></li>
<li class="toc-entry toc-h3"><a href="#ios">iOS</a></li>
<li class="toc-entry toc-h3"><a href="#bluestacks">Bluestacks</a></li>
<li class="toc-entry toc-h3"><a href="#miio-command-line-tool">Miio command line tool</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi-cloud-tokens-extractor-1">Xiaomi Cloud Tokens Extractor</a></li>
</ul>
</li>
</ul>
                  </div>
                </section>
              </aside> 

          
          <div class="grid__item two-thirds desk-wide-seven-twelfths lap-one-whole palm-one-whole">
          

            
              <article class="page">
  
  <header>
    
    
      <div class="breadcrumbs">
        <a href="/needlehack-blog/">Home</a>
        
          
            
            ▸ <a href="/integrations/">Integrations</a>
          
        
          
            ▸ 
          
        
      </div>
    
    <h1 class="title indent">
      
        Xiaomi Home
      
    </h1>
  </header>
  
    
    
    
  
  
  <p>The <strong>Xiaomi Home</strong> <span class="terminology">integration<span class="terminology-tooltip">Integrations connect and integrate Home Assistant with your devices, services, and more.<a class="terminology-link" href="/getting-started/concepts-terminology/#integrations"> [Learn more]</a></span></span> supports the following devices:</p>
<ul>
<li><a href="#xiaomi-gateway">Xiaomi Gateway</a></li>
<li><a href="#xiaomi-device-tracker-xiaomi-mi-wifi-repeater-2">Xiaomi device tracker (Xiaomi Mi WiFi Repeater 2)</a></li>
<li><a href="#xiaomi-air-purifier-air-humidifier-and-standing-fan">Xiaomi Air Purifier, Air Humidifier and Standing Fan</a></li>
<li><a href="#xiaomi-air-quality-monitor">Xiaomi Air Quality Monitor</a></li>
<li><a href="#xiaomi-ir-remote">Xiaomi IR Remote</a></li>
<li><a href="#xiaomi-mi-robot-vacuum">Xiaomi Mi Robot Vacuum</a></li>
<li><a href="#xiaomi-philips-light">Xiaomi Philips Light</a></li>
<li><a href="#xiaomi-smart-wifi-socket-and-smart-power-strip">Xiaomi Smart WiFi Socket and Smart Power Strip</a></li>
</ul>
<h2>Prerequisites <a class="title-link" name="prerequisites" href="#prerequisites"></a>
</h2>
<p>Most Xiaomi Home devices support configuration using the Home Assistant UI,
except for the <a href="#xiaomi-device-tracker-xiaomi-mi-wifi-repeater-2">Xiaomi device tracker</a>
and <a href="#xiaomi-ir-remote">Xiaomi IR Remote</a>. Please read the linked sections for those devices for more information.</p>
<p>Devices need to be set up using the Mi Home app and not vendor-specific apps (e.g. Roborock).</p>
<div class="alert alert-note">
  <p class="alert-title"><iconify-icon inline icon="mdi:information-outline"></iconify-icon> Note</p>
  <div class="alert-content">
<p>For more complex network setups (e.g. VLANs), reference the <a href="https://python-miio.readthedocs.io/en/latest/troubleshooting.html#discover-devices-across-subnets" rel="external nofollow">following documentation<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> for additional information.</p>
  </div>
</div>
<h2>Configuration <a class="title-link" name="configuration" href="#configuration"></a>
</h2>
<p>To add the <strong>Xiaomi Home</strong> integration to your Home Assistant instance, use this My button:</p>
<p><a href="https://my.home-assistant.io/redirect/config_flow_start?domain=xiaomi_miio" class="my badge" target="_blank"><img src="https://my.home-assistant.io/badges/config_flow_start.svg"></a></p>
<p>Xiaomi Home can be auto-discovered by Home Assistant. If an instance was found,
it will be shown as <strong>Discovered</strong>. You can then set it up right away.</p>
<div class="details-block">
  <details class="details-block-item">
    <summary class="details-block-title">
      <span><iconify-icon inline icon="mdi:cursor-hand"></iconify-icon> Manual configuration steps</span>
      <div class="details-block-arrow">
      <svg class="down" width="24" height="24" viewbox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"></path></svg>
      <svg class="up" width="24" height="24" viewbox="0 0 24 24"><path d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"></path></svg>
      </div>
    </summary>
    <div class="details-block-content" id="content_0">
<p>If it wasn’t discovered automatically, don’t worry! You can set up a
manual integration entry:</p>
<ul>
<li>
<p>Browse to your Home Assistant instance.</p>
</li>
<li>
<p>Go to <strong><a href="https://my.home-assistant.io/redirect/integrations" class="my" target="_blank"><iconify-icon inline icon="mdi:devices"></iconify-icon> Settings &gt; Devices &amp; Services</a></strong>.</p>
</li>
<li>
<p>In the bottom right corner, select the
<strong><a href="https://my.home-assistant.io/redirect/config_flow_start?domain=xiaomi_miio" class="my" target="_blank"><iconify-icon inline icon="mdi:plus"></iconify-icon> Add Integration</a></strong> button.</p>
</li>
<li>
<p>From the list, select <strong>Xiaomi Home</strong>.</p>
</li>
<li>
<p>Follow the instructions on screen to complete the setup.</p>
</li>
</ul>
</div>
  </details>
</div>
<p>It is recommended to supply your Xiaomi Home credentials during configuration
to automatically connect to your devices. You need to specify the server region
you used in the Xiaomi Home App (where you initially setup the device). There are
6 servers: <code>cn</code>, <code>de</code>, <code>i2</code>, <code>ru</code>, <code>sg</code> and <code>us</code>; please see
<a href="https://www.openhab.org/addons/bindings/miio/#country-servers" rel="external nofollow">this page<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> for
the server to use for each country.</p>
<h2>Troubleshooting <a class="title-link" name="troubleshooting" href="#troubleshooting"></a>
</h2>
<p>The most common problems are:</p>
<ul>
<li>Xiaomi Home devices do not communicate across subnets/VLANs due to the source address of the UDP packet not belonging to the subnet of the device itself, <a href="https://python-miio.readthedocs.io/en/latest/troubleshooting.html#discover-devices-across-subnets" rel="external nofollow">more information and solutions<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</li>
<li>Roborock vacuums need to be connected to the Xiaomi Home app, not the Roborock app, <a href="https://python-miio.readthedocs.io/en/latest/troubleshooting.html#roborock-vacuum-not-detected" rel="external nofollow">more information<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</li>
<li>Blocking the network access to the device is known to cause intermittent connection issues due to the device’s internal software hanging and a watchdog restarting the internal software, <a href="https://python-miio.readthedocs.io/en/latest/troubleshooting.html#intermittent-connection-issues-timeouts-xiaomi-vacuum" rel="external nofollow">more information<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</li>
</ul>
<h2>Xiaomi Gateway <a class="title-link" name="xiaomi-gateway" href="#xiaomi-gateway"></a>
</h2>
<p>The Xiaomi Home <span class="terminology">integration<span class="terminology-tooltip">Integrations connect and integrate Home Assistant with your devices, services, and more.<a class="terminology-link" href="/getting-started/concepts-terminology/#integrations"> [Learn more]</a></span></span> allows you to control the gateway and its connected subdevices.</p>
<h3>Supported Xiaomi gateway models <a class="title-link" name="supported-xiaomi-gateway-models" href="#supported-xiaomi-gateway-models"></a>
</h3>
<p>The following list shows the Gateway name, the model number, the Zigbee ID, and whether the model is supported or not in Home Assistant.</p>
<ul>
<li>
<p><strong>Chinese version</strong></p>
<ul>
<li>Model: DGNWG02LM</li>
<li>Zigbee ID: lumi.gateway.v3</li>
<li>Supported: Yes</li>
</ul>
</li>
<li>
<p><strong>European version</strong></p>
<ul>
<li>Model: ZHWG11LM-763 / DGNWQ05LM</li>
<li>Zigbee ID: lumi.gateway.mieu01</li>
<li>Supported: Yes (Xiaomi Home credentials needed)</li>
</ul>
</li>
<li>
<p><strong>Aqara hub</strong></p>
<ul>
<li>Model: ZHWG11LM</li>
<li>Zigbee ID: lumi.gateway.aqhm01</li>
<li>Supported: Yes</li>
</ul>
</li>
<li>
<p><strong>Mijia Zigbee 3.0</strong></p>
<ul>
<li>Model: ZNDMWG03LM</li>
<li>Zigbee ID: lumi.gateway.mgl03</li>
<li>Supported: Yes</li>
</ul>
</li>
<li>
<p><strong>Aqara AC Companion</strong></p>
<ul>
<li>Model: KTBL01LM</li>
<li>Zigbee ID: lumi.acpartner.v1</li>
<li>Supported: Untested</li>
</ul>
</li>
<li>
<p><strong>Mi AC Companion</strong></p>
<ul>
<li>Model: KTBL02LM</li>
<li>Zigbee ID: lumi.acpartner.v2</li>
<li>Supported: Untested</li>
</ul>
</li>
<li>
<p><strong>Aqara AC Companion</strong></p>
<ul>
<li>Model: KTBL11LM</li>
<li>Zigbee ID: lumi.acpartner.v3</li>
<li>Supported: Yes</li>
</ul>
</li>
</ul>
<p>Some gateways (lumi.gateway.mieu01) do not support getting the connected subdevices locally. For those gateways, Xiaomi Home credentials can be specified during the config flow and the “Use Xiaomi Home service to get connected subdevices” can be enabled in the options flow (after setting up the <span class="terminology">integration<span class="terminology-tooltip">Integrations connect and integrate Home Assistant with your devices, services, and more.<a class="terminology-link" href="/getting-started/concepts-terminology/#integrations"> [Learn more]</a></span></span>, click Configuration in the sidebar, then click Integrations and then click Options on the already set up Xiaomi Home <span class="terminology">integration<span class="terminology-tooltip">Integrations connect and integrate Home Assistant with your devices, services, and more.<a class="terminology-link" href="/getting-started/concepts-terminology/#integrations"> [Learn more]</a></span></span>). The connected subdevices will then be retrieved from Xiaomi Home (internet), control and status updates of those subdevices will then further take place over local network connection. A re-authentication flow may be triggered when no account credentials are provided yet and are needed for that particular gateway model.</p>
<h3>Gateway features <a class="title-link" name="gateway-features" href="#gateway-features"></a>
</h3>
<ul>
<li>Gateway alarm control (Turn on/off; see status <code>armed_away</code>, <code>disarmed</code>, <code>arming</code>)</li>
<li>Gateway light control (Turn on/off; change brightness; change color; see status)</li>
<li>Gateway illuminance sensor readout (illuminance value in lux)</li>
</ul>
<p>Not yet implemented features (but possible):</p>
<ul>
<li>Gateway internet radio (only chinese stations)</li>
<li>Gateway ringtones/sounds</li>
</ul>
<h3>Supported subdevices <a class="title-link" name="supported-subdevices" href="#supported-subdevices"></a>
</h3>
<p>These subdevices are fully implemented in Home Assistant:</p>
<ul>
<li>
<strong>Weather sensor (WSDCGQ01LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.sensor_ht</code>
</li>
<li>Features: readout <code>temperature</code> and <code>humidity</code>
</li>
</ul>
</li>
<li>
<strong>Weather sensor (WSDCGQ11LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.weather.v1</code>
</li>
<li>Features: readout <code>temperature</code>, <code>humidity</code> and <code>pressure</code>
</li>
</ul>
</li>
<li>
<strong>Wall switch single (QBKG11LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.ctrl_ln1</code>
</li>
<li>Features: load_power, status, turn_on, turn_off, toggle</li>
</ul>
</li>
<li>
<strong>Wall switch single (QBKG11LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.ctrl_ln1.aq1</code>
</li>
<li>Features: load_power, status, turn_on, turn_off, toggle</li>
</ul>
</li>
<li>
<strong>Wall switch no neutral (QBKG04LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.ctrl_neutral1.v1</code>
</li>
<li>Features: status, turn_on, turn_off, toggle</li>
</ul>
</li>
<li>
<strong>Wall switch double (QBKG12LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.ctrl_ln2</code>
</li>
<li>Features: load_power, status, turn_on, turn_off, toggle</li>
</ul>
</li>
<li>
<strong>Wall switch double (QBKG12LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.ctrl_ln2.aq1</code>
</li>
<li>Features: load_power, status, turn_on, turn_off, toggle</li>
</ul>
</li>
<li>
<strong>Wall switch double no neutral (QBKG03LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.ctrl_neutral2</code>
</li>
<li>Features: status, turn_on, turn_off, toggle</li>
</ul>
</li>
<li>
<strong>D1 wall switch triple (QBKG26LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.switch.n3acn3</code>
</li>
<li>Features: load_power, status, turn_on, turn_off, toggle</li>
</ul>
</li>
<li>
<strong>D1 wall switch triple no neutral (QBKG25LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.switch.l3acn3</code>
</li>
<li>Features: load_power, status, turn_on, turn_off, toggle</li>
</ul>
</li>
<li>
<strong>Wall outlet (QBCZ11LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.ctrl_86plug.v1</code>
</li>
<li>Features: status, turn_on, turn_off, toggle</li>
</ul>
</li>
<li>
<strong>Wall outlet (QBCZ11LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.ctrl_86plug.aq1</code>
</li>
<li>Features: load_power, status, turn_on, turn_off, toggle</li>
</ul>
</li>
<li>
<strong>Plug (ZNCZ02LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.plug</code>
</li>
<li>Features: load_power, status, turn_on, turn_off, toggle</li>
</ul>
</li>
<li>
<strong>Relay (LLKZMK11LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.relay.c2acn01</code>
</li>
<li>Features: load_power, status, turn_on, turn_off, toggle</li>
</ul>
</li>
<li>
<strong>Smart bulb E27 (ZNLDP12LM)</strong>
<ul>
<li>Zigbee ID: <code>lumi.light.aqcn02</code>
</li>
<li>Features: on/off, brightness, color temperature</li>
</ul>
</li>
<li>
<strong>IKEA smart bulb E27 white (LED1545G12)</strong>
<ul>
<li>Zigbee ID: <code>ikea.light.led1545g12</code>
</li>
<li>Features: on/off, brightness, color temperature</li>
</ul>
</li>
<li>
<strong>IKEA smart bulb E27 white (LED1546G12)</strong>
<ul>
<li>Zigbee ID: <code>ikea.light.led1546g12</code>
</li>
<li>Features: on/off, brightness, color temperature</li>
</ul>
</li>
<li>
<strong>IKEA smart bulb E12 white (LED1536G5)</strong>
<ul>
<li>Zigbee ID: <code>ikea.light.led1536g5</code>
</li>
<li>Features: on/off, brightness, color temperature</li>
</ul>
</li>
<li>
<strong>IKEA smart bulb GU10 white (LED1537R6)</strong>
<ul>
<li>Zigbee ID: <code>ikea.light.led1537r6</code>
</li>
<li>Features: on/off, brightness, color temperature</li>
</ul>
</li>
<li>
<strong>IKEA smart bulb E27 white (LED1623G12)</strong>
<ul>
<li>Zigbee ID: <code>ikea.light.led1623g12</code>
</li>
<li>Features: on/off, brightness, color temperature</li>
</ul>
</li>
<li>
<strong>IKEA smart bulb GU10 white (LED1650R5)</strong>
<ul>
<li>Zigbee ID: <code>ikea.light.led1650r5</code>
</li>
<li>Features: on/off, brightness, color temperature</li>
</ul>
</li>
<li>
<strong>IKEA smart bulb E12 white (LED1649C5)</strong>
<ul>
<li>Zigbee ID: <code>ikea.light.led1649c5</code>
</li>
<li>Features: on/off, brightness, color temperature</li>
</ul>
</li>
</ul>
<h3>Recognized subdevices (not yet implemented) <a class="title-link" name="recognized-subdevices-not-yet-implemented" href="#recognized-subdevices-not-yet-implemented"></a>
</h3>
<p>These subdevices are recognized by the python-miio code but are still being worked on (not yet implemented).</p>
<p>The list shows the device name, the model number, and the Zigbee ID.</p>
<ul>
<li>
<strong>Button</strong> (WXKG01LM): <code>lumi.sensor_switch</code>
</li>
<li>
<strong>Button</strong> (WXKG11LM 2015): <code>lumi.sensor_switch.aq2</code>
</li>
<li>
<strong>Button</strong> (WXKG12LM): <code>lumi.sensor_switch.aq3</code>
</li>
<li>
<strong>Button</strong> (WXKG11LM 2018): <code>lumi.remote.b1acn01</code>
</li>
<li>
<strong>Cube</strong> (MFKZQ01LM): <code>lumi.sensor_cube.v1</code>
</li>
<li>
<strong>Cube</strong> (MFKZQ01LM): <code>lumi.sensor_cube.aqgl01</code>
</li>
<li>
<strong>Motion sensor</strong> (RTCGQ01LM): <code>lumi.sensor_motion</code>
</li>
<li>
<strong>Motion sensor</strong> (RTCGQ11LM): <code>lumi.sensor_motion.aq2</code>
</li>
<li>
<strong>Door sensor</strong> (MCCGQ01LM): <code>lumi.sensor_magnet</code>
</li>
<li>
<strong>Door sensor</strong> (MCCGQ11LM): <code>lumi.sensor_magnet.aq2</code>
</li>
<li>
<strong>Vibration sensor</strong> (DJT11LM): <code>lumi.vibration.aq1</code>
</li>
<li>
<strong>Honeywell smoke detector</strong> (JTYJ-GD-01LM/BW): <code>lumi.sensor_smoke</code>
</li>
<li>
<strong>Honeywell natural gas detector</strong> (JTQJ-BF-01LM/BW): <code>lumi.sensor_natgas</code>
</li>
<li>
<strong>Water leak sensor</strong> (SJCGQ11LM): <code>lumi.sensor_wleak.aq1</code>
</li>
<li>
<strong>Remote switch single</strong> (WXKG03LM 2016): <code>lumi.sensor_86sw1.v1</code>
</li>
<li>
<strong>Remote switch single</strong> (WXKG03LM 2018): <code>lumi.remote.b186acn01</code>
</li>
<li>
<strong>D1 remote switch single</strong> (WXKG06LM): <code>lumi.remote.b186acn02</code>
</li>
<li>
<strong>Remote switch double</strong> (WXKG02LM 2016): <code>lumi.sensor_86sw2.v1</code>
</li>
<li>
<strong>Remote switch double</strong> (WXKG02LM 2018): <code>lumi.remote.b286acn01</code>
</li>
<li>
<strong>D1 remote switch double</strong> (WXKG07LM): <code>lumi.remote.b286acn02</code>
</li>
<li>
<strong>Curtain</strong> (ZNCLDJ11LM): <code>lumi.curtain</code>
</li>
<li>
<strong>Curtain</strong> (ZNGZDJ11LM): <code>lumi.curtain.aq2</code>
</li>
<li>
<strong>Curtain B1</strong> (ZNCLDJ12LM): <code>lumi.curtain.hagl04</code>
</li>
<li>
<strong>Door lock S1</strong> (ZNMS11LM): <code>lumi.lock.aq1</code>
</li>
<li>
<strong>Door lock S2</strong> (ZNMS12LM): <code>lumi.lock.acn02</code>
</li>
<li>
<strong>Door lock S2 pro</strong> (ZNMS13LM): <code>lumi.lock.acn03</code>
</li>
<li>
<strong>Vima cylinder lock</strong> (A6121): <code>lumi.lock.v1</code>
</li>
<li>
<strong>Thermostat S2</strong> (KTWKQ03ES): <code>lumi.airrtc.tcpecn02</code>
</li>
</ul>
<h2>Xiaomi device tracker (Xiaomi Mi WiFi Repeater 2) <a class="title-link" name="xiaomi-device-tracker-xiaomi-mi-wifi-repeater-2" href="#xiaomi-device-tracker-xiaomi-mi-wifi-repeater-2"></a>
</h2>
<p>The device tracker platform is observing your Xiaomi Mi WiFi Repeater 2 and reporting all associated WiFi clients.</p>
<p>Please follow the instructions on <a href="/integrations/xiaomi_miio/#retrieving-the-access-token">Retrieving the Access Token</a> to get the API token.</p>
<p>To add a Xiaomi Mi WiFi Repeater device tracker to your installation, add the following to your <span class="terminology"><code>configuration.yaml</code><span class="terminology-tooltip">The configuration.yaml file is the main configuration file for Home Assistant. It lists the integrations to be loaded and their specific configurations. In some cases, the configuration needs to be edited manually directly in the configuration.yaml file. Most integrations can be configured in the UI.<a class="terminology-link" href="/docs/configuration/"> [Learn more]</a></span></span> file:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">device_tracker</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">platform</span><span class="pi">:</span> <span class="s">xiaomi_miio</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">192.168.130.73</span>
    <span class="na">token</span><span class="pi">:</span> <span class="s">YOUR_TOKEN</span>
</code></pre></div></div>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="xiaomi_miio-configuration-variables" href="#xiaomi_miio-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> host </span><span class="config-vars-type">string</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="host" class="title-link" href="#host"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The IP address of your Xiaomi device.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> token </span><span class="config-vars-type">string</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="token" class="title-link" href="#token"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The API token of your Xiaomi device.</p>
</span></div>
</div>
</div>
</div>
<h2>Xiaomi Air Purifier, Air Humidifier and Standing Fan <a class="title-link" name="xiaomi-air-purifier-air-humidifier-and-standing-fan" href="#xiaomi-air-purifier-air-humidifier-and-standing-fan"></a>
</h2>
<p>The Air Purifiers, Air Humidifiers and Standing Fans use multiple platforms to allow you to set the control modes and settings of the device.</p>
<p>Supported devices:</p>
<p>The list includes device name, model number (if available), and model.</p>
<ul>
<li>
<p><strong>Air Purifier</strong>: <code>zhimi.airpurifier.v1</code></p>
</li>
<li>
<p><strong>Air Purifier 2</strong> (FJY4006CN): <code>zhimi.airpurifier.v2</code></p>
</li>
<li>
<p><strong>Air Purifier V3</strong>: <code>zhimi.airpurifier.v3</code></p>
</li>
<li>
<p><strong>Air Purifier V5</strong>: <code>zhimi.airpurifier.v5</code></p>
</li>
<li>
<p><strong>Air Purifier Pro</strong>: <code>zhimi.airpurifier.v6</code></p>
</li>
<li>
<p><strong>Air Purifier Pro V7</strong>: <code>zhimi.airpurifier.v7</code></p>
</li>
<li>
<p><strong>Air Purifier 2 (mini)</strong>: <code>zhimi.airpurifier.m1</code></p>
</li>
<li>
<p><strong>Air Purifier (mini)</strong>: <code>zhimi.airpurifier.m2</code></p>
</li>
<li>
<p><strong>Air Purifier MA1</strong>: <code>zhimi.airpurifier.ma1</code></p>
</li>
<li>
<p><strong>Air Purifier MA2</strong>: <code>zhimi.airpurifier.ma2</code></p>
</li>
<li>
<p><strong>Air Purifier 2S</strong>: <code>zhimi.airpurifier.mc1</code></p>
</li>
<li>
<p><strong>Air Purifier Super</strong>: <code>zhimi.airpurifier.sa1</code></p>
</li>
<li>
<p><strong>Air Purifier Super 2</strong>: <code>zhimi.airpurifier.sa2</code></p>
</li>
<li>
<p><strong>Air Purifier 3 (2019) (AC-M6-SC)</strong>: <code>zhimi.airpurifier.ma4</code></p>
</li>
<li>
<p><strong>Air Purifier 3H (2019)</strong>: <code>zhimi.airpurifier.mb3</code></p>
</li>
<li>
<p><strong>Air Purifier Pro H</strong>: <code>zhimi.airpurifier.va1</code></p>
</li>
<li>
<p><strong>Air Purifier Pro H EU</strong>: <code>zhimi.airpurifier.vb2</code></p>
</li>
<li>
<p><strong>Air Purifier 3C</strong>: <code>zhimi.airpurifier.mb4</code></p>
</li>
<li>
<p><strong>Air Purifier 3C</strong>: <code>zhimi.airp.mb4a</code></p>
</li>
<li>
<p><strong>Air Purifier ZA1</strong>: <code>zhimi.airpurifier.za1</code></p>
</li>
<li>
<p><strong>Air Purifier 4 (AC-M16-SC)</strong>: <code>zhimi.airp.mb5</code></p>
</li>
<li>
<p><strong>Air Purifier 4 PRO (AC-M15-SC)</strong>: <code>zhimi.airp.vb4</code></p>
</li>
<li>
<p><strong>Air Fresh A1 (MJXFJ-150-A1)</strong>: <code>dmaker.airfresh.a1</code></p>
</li>
<li>
<p><strong>Air Fresh VA2</strong>: <code>zhimi.airfresh.va2</code></p>
</li>
<li>
<p><strong>Air Fresh VA4</strong>: <code>zhimi.airfresh.va4</code></p>
</li>
<li>
<p><strong>Air Fresh T2017 (MJXFJ-300-G1)</strong>: <code>dmaker.airfresh.t2017</code></p>
</li>
<li>
<p><strong>Air Humidifier</strong>: <code>zhimi.humidifier.v1</code></p>
</li>
<li>
<p><strong>Air Humidifier CA1</strong>: <code>zhimi.humidifier.ca1</code></p>
</li>
<li>
<p><strong>Air Humidifier CA4</strong>: <code>zhimi.humidifier.ca4</code></p>
</li>
<li>
<p><strong>Air Humidifier CB1</strong>: <code>zhimi.humidifier.cb1</code></p>
</li>
<li>
<p><strong>Air Humidifier JSQ</strong>: <code>deerma.humidifier.jsq</code></p>
</li>
<li>
<p><strong>Air Humidifier JSQ1</strong>: <code>deerma.humidifier.jsq1</code></p>
</li>
<li>
<p><strong>Air Humidifier MJJSQ</strong>: <code>deerma.humidifier.mjjsq</code></p>
</li>
<li>
<p><strong>Standing Fan 1X</strong>: <code>dmaker.fan.p5</code></p>
</li>
<li>
<p><strong>Inverter Pedestal Fan</strong>: <code>zhimi.fan.za1</code></p>
</li>
<li>
<p><strong>Standing Fan 2</strong>: <code>zhimi.fan.za3</code></p>
</li>
<li>
<p><strong>Standing Fan 2S</strong>: <code>zhimi.fan.za4</code></p>
</li>
<li>
<p><strong>Standing Fan</strong>: <code>zhimi.fan.sa1</code></p>
</li>
<li>
<p><strong>DC Pedestal Fan</strong>: <code>zhimi.fan.v2</code></p>
</li>
<li>
<p><strong>DC Pedestal Fan</strong>: <code>zhimi.fan.v3</code></p>
</li>
<li>
<p><strong>Standing Fan 1C</strong>: <code>dmaker.fan.1c</code></p>
</li>
<li>
<p><strong>Tower Fan</strong>: <code>dmaker.fan.p9</code></p>
</li>
<li>
<p><strong>Standing Fan 2</strong>: <code>dmaker.fan.p10</code></p>
</li>
<li>
<p><strong>Standing Fan Pro</strong>: <code>dmaker.fan.p11</code></p>
</li>
<li>
<p><strong>Standing Fan 2</strong>: <code>dmaker.fan.p18</code></p>
</li>
<li>
<p><strong>Standing Fan 3</strong>: <code>zhimi.fan.za5</code></p>
</li>
<li>
<p>Power (on, off)</p>
</li>
<li>
<p>Operation modes (Auto, Silent, Favorite, Idle)</p>
</li>
<li>
<p>Attributes (fan platform)</p>
<ul>
<li><code>model</code></li>
<li><code>mode</code></li>
<li><code>sleep_time</code></li>
<li><code>sleep_mode_learn_count</code></li>
<li><code>extra_features</code></li>
<li><code>turbo_mode_supported</code></li>
<li><code>use_time</code></li>
<li><code>button_pressed</code></li>
<li><code>sleep_mode</code></li>
</ul>
</li>
<li>
<p>Number entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Favorite Level</td>
<td>Set the favorite level</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
</li>
<li>
<p><strong>Filter Lifetime Remaining</strong>: The remaining life of the filter. Enabled by default.</p>
</li>
<li>
<p><strong>Filter Use</strong>: Filter usage time in hours. Enabled by default.</p>
</li>
<li>
<p><strong>Humidity</strong>: The current humidity measured. Enabled by default.</p>
</li>
<li>
<p><strong>Motor Speed</strong>: The current motor speed measured in rpm. Enabled by default.</p>
</li>
<li>
<p><strong>PM2.5</strong>: The current particulate matter 2.5 measured. Enabled by default.</p>
</li>
<li>
<p><strong>Purify Volume</strong>: The volume of purified air in cubic meter. Disabled by default.</p>
</li>
<li>
<p><strong>Temperature</strong>: The current temperature measured. Enabled by default.</p>
</li>
<li>
<p><strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</p>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
<tr>
<td>Learn Mode</td>
<td>Turn on/off the learn mode</td>
</tr>
<tr>
<td>LED</td>
<td>Turn on/off the LED</td>
</tr>
</tbody>
</table>
<h3>Air Purifier Pro (zhimi.airpurifier.v6) <a class="title-link" name="air-purifier-pro-zhimiairpurifierv6" href="#air-purifier-pro-zhimiairpurifierv6"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Auto, Silent, Favorite)</li>
<li>Attributes (fan platform)
<ul>
<li><code>sleep_time</code></li>
<li><code>sleep_mode_learn_count</code></li>
<li><code>extra_features</code></li>
<li><code>turbo_mode_supported</code></li>
<li><code>auto_detect</code></li>
<li><code>use_time</code></li>
<li><code>button_pressed</code></li>
</ul>
</li>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Favorite Level</td>
<td>Set the favorite level</td>
</tr>
<tr>
<td>Volume</td>
<td>Set the volume</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Filter Life Remaining</strong>: The remaining lifetime of the filter. Enabled by default.</li>
<li>
<strong>Filter Use</strong>: Filter usage time in hours. Enabled by default.</li>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>Illuminance</strong>: The current illuminance measured. Enabled by default.</li>
<li>
<strong>Motor Speed</strong>: The current motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>PM2.5</strong>: The current particulate matter 2.5 measured. Enabled by default.</li>
<li>
<strong>Purify Volume</strong>: The volume of purified air in cubic meter. Disabled by default.</li>
<li>
<strong>Second Motor Speed</strong>: The current second motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
<li>
<strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
<tr>
<td>Learn Mode</td>
<td>Turn on/off the learn mode</td>
</tr>
<tr>
<td>LED</td>
<td>Turn on/off the LED</td>
</tr>
</tbody>
</table>
<h3>Air Purifier Pro V7 (zhimi.airpurifier.v7) <a class="title-link" name="air-purifier-pro-v7-zhimiairpurifierv7" href="#air-purifier-pro-v7-zhimiairpurifierv7"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Auto, Silent, Favorite)</li>
<li>Attributes (fan platform)
<ul>
<li><code>extra_features</code></li>
<li><code>turbo_mode_supported</code></li>
<li><code>button_pressed</code></li>
</ul>
</li>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Favorite Level</td>
<td>Set the favorite level</td>
</tr>
<tr>
<td>Volume</td>
<td>Set the volume</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Filter Lifetime Remaining</strong>: The remaining lifetime of the filter. Enabled by default.</li>
<li>
<strong>Filter Use</strong>: Filter usage time in hours. Enabled by default.</li>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>Illuminance</strong>: The current illuminance measured. Enabled by default.</li>
<li>
<strong>Motor Speed</strong>: The current motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>PM2.5</strong>: The current particulate matter 2.5 measured. Enabled by default.</li>
<li>
<strong>Second Motor Speed</strong>: The current second motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
<li>
<strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
<tr>
<td>Learn Mode</td>
<td>Turn on/off the learn mode</td>
</tr>
<tr>
<td>LED</td>
<td>Turn on/off the LED</td>
</tr>
</tbody>
</table>
<h3>Air Purifier MA2 (zhimi.airpurifier.ma2) <a class="title-link" name="air-purifier-ma2-zhimiairpurifierma2" href="#air-purifier-ma2-zhimiairpurifierma2"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Auto, Silent, Favorite)</li>
<li>Attributes (fan platform)
<ul>
<li><code>extra_features</code></li>
<li><code>turbo_mode_supported</code></li>
<li><code>button_pressed</code></li>
<li><code>preset_modes</code></li>
<li><code>preset_mode</code></li>
<li><code>sleep_time</code></li>
<li><code>sleep_mode_learn_count</code></li>
<li><code>use_time</code></li>
<li><code>sleep_mode</code></li>
<li><code>friendly_name</code></li>
<li><code>supported_features</code></li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Favorite Level</td>
<td>Set the favorite level</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Filter Lifetime Remaining</strong>: The remaining lifetime of the filter. Enabled by default.</li>
<li>
<strong>Filter Use</strong>: Filter usage time in hours. Enabled by default.</li>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>Motor Speed</strong>: The current motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>PM2.5</strong>: The current particulate matter 2.5 measured. Enabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
<li>
<strong>Illuminance</strong>: The current illuminance measured on top of the device (0-200 lux). Enabled by default.</li>
<li>
<strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
<tr>
<td>Learn Mode</td>
<td>Turn on/off the learn mode</td>
</tr>
<tr>
<td>LED</td>
<td>Turn on/off the LED</td>
</tr>
</tbody>
</table>
<h3>Air Purifier 2S (zhimi.airpurifier.mc1) <a class="title-link" name="air-purifier-2s-zhimiairpurifiermc1" href="#air-purifier-2s-zhimiairpurifiermc1"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Auto, Silent, Favorite)</li>
<li>Attributes (fan platform)
<ul>
<li><code>extra_features</code></li>
<li><code>turbo_mode_supported</code></li>
<li><code>button_pressed</code></li>
</ul>
</li>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Favorite Level</td>
<td>Set the favorite level</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Filter Lifetime Remaining</strong>: The remaining lifetime of the filter. Enabled by default.</li>
<li>
<strong>Filter Use</strong>: Filter usage time in hours. Enabled by default.</li>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>Motor Speed</strong>: The current motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>PM2.5</strong>: The current particulate matter 2.5 measured. Enabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
<li>
<strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
<tr>
<td>Learn Mode</td>
<td>Turn on/off the learn mode</td>
</tr>
<tr>
<td>LED</td>
<td>Turn on/off the LED</td>
</tr>
</tbody>
</table>
<h3>Air Purifier 3/3H (2019) (zhimi.airpurifier.ma4, zhimi.airpurifier.mb3) <a class="title-link" name="air-purifier-33h-2019-zhimiairpurifierma4-zhimiairpurifiermb3" href="#air-purifier-33h-2019-zhimiairpurifierma4-zhimiairpurifiermb3"></a>
</h3>
<p>This model uses newer MiOT communication protocol.</p>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Auto, Silent, Favorite, Fan)</li>
<li>Attributes (fan platform)
<ul>
<li><code>use_time</code></li>
</ul>
</li>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Fan Level</td>
<td>Set the fan level</td>
</tr>
<tr>
<td>Favorite Level</td>
<td>Set the favorite level</td>
</tr>
</tbody>
</table>
<ul>
<li>Select entities</li>
</ul>
<table>
<thead>
<tr>
<th>Select</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LED Brightness</td>
<td>Controls the brightness of the LEDs (bright, dim, off)</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Filter Lifetime Remaining</strong>: The remaining lifetime of the filter. Enabled by default.</li>
<li>
<strong>Filter Use</strong>: Filter usage time in hours. Enabled by default.</li>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>Motor Speed</strong>: The current motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>PM2.5</strong>: The current particulate matter 2.5 measured. Enabled by default.</li>
<li>
<strong>Purify Volume</strong>: The volume of purified air in cubic meter. Disabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
<li>
<strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
</tbody>
</table>
<h3>Air Purifier Pro H, Pro H EU (zhimi.airpurifier.va1, zhimi.airpurifier.vb2) <a class="title-link" name="air-purifier-pro-h-pro-h-eu-zhimiairpurifierva1-zhimiairpurifiervb2" href="#air-purifier-pro-h-pro-h-eu-zhimiairpurifierva1-zhimiairpurifiervb2"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Auto, Silent, Favorite, Fan)</li>
<li>Attributes (fan platform)
<ul>
<li><code>use_time</code></li>
</ul>
</li>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Fan Level</td>
<td>Set the fan level</td>
</tr>
<tr>
<td>Favorite Level</td>
<td>Set the favorite level</td>
</tr>
</tbody>
</table>
<ul>
<li>Select entities</li>
</ul>
<table>
<thead>
<tr>
<th>Select</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LED Brightness</td>
<td>Controls the brightness of the LEDs (bright, dim, off)</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Filter Lifetime Remaining</strong>: The remaining lifetime of the filter. Enabled by default.</li>
<li>
<strong>Filter Use</strong>: Filter usage time in hours. Enabled by default.</li>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>Motor Speed</strong>: The current motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>PM2.5</strong>: The current particulate matter 2.5 measured. Enabled by default.</li>
<li>
<strong>Purify Volume</strong>: The volume of purified air in cubic meter. Disabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
<li>
<strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
</tbody>
</table>
<h3>Air Purifier 3C (zhimi.airpurifier.mb4, zhimi.airp.mb4a) <a class="title-link" name="air-purifier-3c-zhimiairpurifiermb4-zhimiairpmb4a" href="#air-purifier-3c-zhimiairpurifiermb4-zhimiairpmb4a"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Auto, Silent, Favorite)</li>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Favorite Motor Speed</td>
<td>Set the favorite motor speed</td>
</tr>
<tr>
<td>LED Brightness</td>
<td>Set the LED brightness</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Filter Lifetime Remaining</strong>: The remaining lifetime of the filter. Enabled by default.</li>
<li>
<strong>Filter Use</strong>: Filter usage time in hours. Enabled by default.</li>
<li>
<strong>Motor Speed</strong>: The current motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>PM2.5</strong>: The current particulate matter 2.5 measured. Enabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
</tbody>
</table>
<h3>Air Purifier ZA1 (zhimi.airpurifier.za1) <a class="title-link" name="air-purifier-za1-zhimiairpurifierza1" href="#air-purifier-za1-zhimiairpurifierza1"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Auto, Silent, Favorite)</li>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Favorite Level</td>
<td>Set the favorite level</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Filter Lifetime Remaining</strong>: The remaining lifetime of the filter. Enabled by default.</li>
<li>
<strong>Filter Use</strong>: Filter usage time in hours. Enabled by default.</li>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>Motor Speed</strong>: The current motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>PM2.5</strong>: The current particulate matter 2.5 measured. Enabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
<li>
<strong>TVOC</strong>: The current concentration of Total Organic Volatile Components. Enabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
</tbody>
</table>
<ul>
<li>Select entities</li>
</ul>
<table>
<thead>
<tr>
<th>Select</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LED Brightness</td>
<td>Controls the brightness of the Display (bright, dim, off)</td>
</tr>
</tbody>
</table>
<h3>Air Purifier V3 (zhimi.airpurifier.v3) <a class="title-link" name="air-purifier-v3-zhimiairpurifierv3" href="#air-purifier-v3-zhimiairpurifierv3"></a>
</h3>
<ul>
<li>
<p>Power (on, off)</p>
</li>
<li>
<p>Operation modes (Auto, Silent, Favorite, Idle, Medium, High, Strong)</p>
</li>
<li>
<p>Attributes (fan platform)</p>
<ul>
<li><code>sleep_time</code></li>
<li><code>sleep_mode_learn_count</code></li>
<li><code>extra_features</code></li>
<li><code>use_time</code></li>
<li><code>button_pressed</code></li>
</ul>
</li>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Filter Lifetime Remaining</strong>: The remaining lifetime of the filter. Enabled by default.</li>
<li>
<strong>Filter Use</strong>: Filter usage time in hours. Enabled by default.</li>
<li>
<strong>Illuminance</strong>: The current illuminance measured. Enabled by default.</li>
<li>
<strong>Motor Speed</strong>: The current motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>PM2.5</strong>: The current particulate matter 2.5 measured. Enabled by default.</li>
<li>
<strong>Purify Volume</strong>: The volume of purified air in cubic meter. Disabled by default.</li>
<li>
<strong>Second Motor Speed</strong>: The current second motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
<tr>
<td>LED</td>
<td>Turn on/off the LED</td>
</tr>
</tbody>
</table>
<h3>Air Purifier 4/4 PRO (zhimi.airp.mb5, zhimi.airp.vb4) <a class="title-link" name="air-purifier-44-pro-zhimiairpmb5-zhimiairpvb4" href="#air-purifier-44-pro-zhimiairpmb5-zhimiairpvb4"></a>
</h3>
<p>These models use newer MiOT communication protocol.</p>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Auto, Silent, Favorite, Fan)</li>
<li>Attributes (fan platform)</li>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Fan Level</td>
<td>Set the fan level</td>
</tr>
<tr>
<td>Favorite Level</td>
<td>Set the favorite level</td>
</tr>
</tbody>
</table>
<ul>
<li>Select entities</li>
</ul>
<table>
<thead>
<tr>
<th>Select</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LED Brightness</td>
<td>Controls the brightness of the Display (bright, dim, off)</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Filter Lifetime Remaining</strong>: The remaining lifetime of the filter in %. Enabled by default.</li>
<li>
<strong>Filter Time Left</strong>: The remaining lifetime of the filter in days. Enabled by default.</li>
<li>
<strong>Filter Use</strong>: Filter usage time in hours. Enabled by default.</li>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>Motor Speed</strong>: The current motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>PM2.5</strong>: The current particulate matter 2.5 measured. Enabled by default.</li>
<li>
<strong>PM10</strong>: The current particulate matter 10 measured (4 PRO only). Enabled by default.</li>
<li>
<strong>Purify Volume</strong>: The volume of purified air in cubic meter. Disabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
<tr>
<td>Ionizer</td>
<td>Turn on/off the negative ion generator</td>
</tr>
</tbody>
</table>
<h3>Air Fresh A1 (dmaker.airfresh.a1) <a class="title-link" name="air-fresh-a1-dmakerairfresha1" href="#air-fresh-a1-dmakerairfresha1"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Auto, Sleep, Favorite)</li>
<li>Binary sensor entities</li>
</ul>
<table>
<thead>
<tr>
<th>Binary sensor</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Auxiliary Heat Status</td>
<td>Indicates if the heater is actually on</td>
</tr>
</tbody>
</table>
<ul>
<li>Button entities</li>
</ul>
<table>
<thead>
<tr>
<th>Button</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reset Dust Filter</td>
<td>Resets filter lifetimetime and usage of the dust filter</td>
</tr>
</tbody>
</table>
<ul>
<li>Sensor entities</li>
</ul>
<table>
<thead>
<tr>
<th>Sensor</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Carbon Dioxide</td>
<td>The current carbon dioxide in ppm</td>
</tr>
<tr>
<td>Dust filter lifetime remaining</td>
<td>The remaining lifetime of the filter</td>
</tr>
<tr>
<td>Dust filter lifetime remaining days</td>
<td>The remaining lifetime of the filter in day</td>
</tr>
<tr>
<td>PM2.5</td>
<td>The current particulate matter 2.5</td>
</tr>
<tr>
<td>Temperature</td>
<td>The current outside temperature</td>
</tr>
<tr>
<td>Control Speed</td>
<td>The current motor speed in rpm</td>
</tr>
<tr>
<td>Favorite Speed</td>
<td>The favorite motor speed in rpm</td>
</tr>
</tbody>
</table>
<ul>
<li>Switch entities</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off <code>buzzer</code>
</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off <code>child lock</code>
</td>
</tr>
<tr>
<td>Display</td>
<td>Turn on/off <code>display</code>
</td>
</tr>
<tr>
<td>Auxiliary Heat</td>
<td>Turn on/off <code>heater</code>
</td>
</tr>
</tbody>
</table>
<h3>Air Fresh VA2 <a class="title-link" name="air-fresh-va2" href="#air-fresh-va2"></a>
</h3>
<ul>
<li>
<p>Power (on, off)</p>
</li>
<li>
<p>Operation modes (Auto, Silent, Interval, Low, Middle, Strong)</p>
</li>
<li>
<p>Attributes (fan platform)</p>
<ul>
<li><code>use_time</code></li>
<li><code>extra_features</code></li>
</ul>
</li>
<li>
<p>Sensor entities|</p>
<ul>
<li>
<strong>Carbon Dioxide</strong>: The current carbon dioxide measured in ppm. Enabled by default.</li>
<li>
<strong>Filter Lifetime Remaining</strong>: The remaining lifetime of the filter. Enabled by default.</li>
<li>
<strong>Filter Use</strong>: Filter usage time in hours. Enabled by default.</li>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>PM2.5</strong>: The current particulate matter 2.5 measured. Enabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
<li>
<strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</li>
</ul>
</li>
<li>
<p>Select entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Select</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LED Brightness</td>
<td>Controls the brightness of the LEDs (bright, dim, off)</td>
</tr>
</tbody>
</table>
<ul>
<li>Switch entities</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off <code>buzzer</code>
</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off <code>child lock</code>
</td>
</tr>
<tr>
<td>LED</td>
<td>Turn on/off <code>led</code>
</td>
</tr>
</tbody>
</table>
<h3>Air Fresh VA4 <a class="title-link" name="air-fresh-va4" href="#air-fresh-va4"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Auto, Silent, Interval, Low, Middle, Strong)</li>
<li>Attributes (fan platform)
<ul>
<li><code>use_time</code></li>
<li><code>extra_features</code></li>
</ul>
</li>
<li>Sensor entities</li>
</ul>
<table>
<thead>
<tr>
<th>Sensor</th>
<th>Description</th>
<th>Enabled by default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Carbon Dioxide</td>
<td>The current carbon dioxide measured in ppm</td>
<td>True</td>
</tr>
<tr>
<td>Filter Lifetime Remaining</td>
<td>The remaining lifetime of the filter</td>
<td>True</td>
</tr>
<tr>
<td>Filter Use</td>
<td>Filter usage time in hours</td>
<td>True</td>
</tr>
<tr>
<td>Humidity</td>
<td>The current humidity measured</td>
<td>True</td>
</tr>
<tr>
<td>PM2.5</td>
<td>The current particulate matter 2.5 measured</td>
<td>True</td>
</tr>
<tr>
<td>Temperature</td>
<td>The current temperature measured</td>
<td>True</td>
</tr>
<tr>
<td>Use Time</td>
<td>The accumulative number of seconds the device has been in use</td>
<td>False</td>
</tr>
</tbody>
</table>
<ul>
<li>Select entities</li>
</ul>
<table>
<thead>
<tr>
<th>Select</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LED Brightness</td>
<td>Controls the brightness of the LEDs (bright, dim, off)</td>
</tr>
</tbody>
</table>
<ul>
<li>Switch entities</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off <code>buzzer</code>
</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off <code>child lock</code>
</td>
</tr>
<tr>
<td>LED</td>
<td>Turn on/off <code>led</code>
</td>
</tr>
<tr>
<td>Auxiliary Heat</td>
<td>Turn on/off <code>heater</code>
</td>
</tr>
</tbody>
</table>
<h3>Air Fresh T2017 (dmaker.airfresh.t2017) <a class="title-link" name="air-fresh-t2017-dmakerairfresht2017" href="#air-fresh-t2017-dmakerairfresht2017"></a>
</h3>
<ul>
<li>
<p>Power (on, off)</p>
</li>
<li>
<p>Operation modes (Auto, Sleep, Favorite)</p>
</li>
<li>
<p>Binary sensor entities</p>
<ul>
<li>
<strong>Auxiliary Heat Status</strong>: Indicates if the heater is actually on</li>
</ul>
</li>
<li>
<p>Button entities</p>
<ul>
<li>
<strong>Reset Dust Filter</strong>: Resets filter lifetime and usage of the dust filter</li>
<li>
<strong>Reset Upper Filter</strong>: Resets filter lifetime and usage of the upper filter</li>
</ul>
</li>
<li>
<p>Select entities</p>
<ul>
<li>
<strong>Auxiliary Heat Level</strong>: Controls the level of the heater (Low, Medium, High)</li>
<li>
<strong>Display Orientation</strong>: Controls the orientation of the display (Forward, Left, Right)</li>
</ul>
</li>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Carbon Dioxide</strong>: The current carbon dioxide in ppm</li>
<li>
<strong>Dust filter lifetime remaining</strong>: The remaining lifetime of the dust filter</li>
<li>
<strong>Dust filter lifetime remaining days</strong>: The remaining lifetime of the dust filter in days</li>
<li>
<strong>Upper filter lifetime remaining</strong>: The remaining lifetime of the upper filter</li>
<li>
<strong>Upper filter lifetime remaining days</strong>: The remaining lifetime of the upper filter in days</li>
<li>
<strong>PM2.5</strong>: The current particulate matter 2.5</li>
<li>
<strong>Temperature</strong>: The current outside temperature</li>
<li>
<strong>Control Speed</strong>: The current motor speed in rpm</li>
<li>
<strong>Favorite Speed</strong>: The favorite motor speed in rpm</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off <code>buzzer</code>
</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off <code>child lock</code>
</td>
</tr>
<tr>
<td>Display</td>
<td>Turn on/off <code>display</code>
</td>
</tr>
<tr>
<td>Auxiliary Heat</td>
<td>Turn on/off <code>heater</code>
</td>
</tr>
</tbody>
</table>
<h3>Air Humidifier (zhimi.humidifier.v1) <a class="title-link" name="air-humidifier-zhimihumidifierv1" href="#air-humidifier-zhimihumidifierv1"></a>
</h3>
<ul>
<li>On, Off</li>
<li>Operation modes (Silent, Medium, High, Strong)</li>
<li>Target humidity (30, 40, 50, 60, 70, 80)</li>
<li>Attributes (humidifier platform)</li>
</ul>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>available_modes</code></td>
<td>A list with the operation modes available</td>
</tr>
<tr>
<td><code>humidity</code></td>
<td>The current target humidity</td>
</tr>
<tr>
<td><code>max_humidity</code></td>
<td>The maximum settable target humidity</td>
</tr>
<tr>
<td><code>min_humidity</code></td>
<td>The minimum settable target humidity</td>
</tr>
<tr>
<td><code>mode</code></td>
<td>The current operation mode selected</td>
</tr>
</tbody>
</table>
<ul>
<li>Binary sensor entities</li>
</ul>
<table>
<thead>
<tr>
<th>Binary sensor</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Water Tank</td>
<td>Indicates whether the water tank is connected or not</td>
</tr>
</tbody>
</table>
<ul>
<li>Select entities</li>
</ul>
<table>
<thead>
<tr>
<th>Select</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LED Brightness</td>
<td>Controls the brightness of the LEDs (bright, dim, off)</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
<li>
<strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</li>
<li>
<strong>Water Level</strong>: The current water level percentage measured. Enabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
</tbody>
</table>
<h3>Air Humidifier CA (zhimi.humidifier.ca1) <a class="title-link" name="air-humidifier-ca-zhimihumidifierca1" href="#air-humidifier-ca-zhimihumidifierca1"></a>
</h3>
<ul>
<li>On, Off</li>
<li>Operation modes (Silent, Medium, High, Auto)</li>
<li>Target humidity (30, 40, 50, 60, 70, 80)</li>
<li>Attributes (humidifier platform)</li>
</ul>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>available_modes</code></td>
<td>A list with the operation modes available</td>
</tr>
<tr>
<td><code>humidity</code></td>
<td>The current target humidity</td>
</tr>
<tr>
<td><code>max_humidity</code></td>
<td>The maximum settable target humidity</td>
</tr>
<tr>
<td><code>min_humidity</code></td>
<td>The minimum settable target humidity</td>
</tr>
<tr>
<td><code>mode</code></td>
<td>The current operation mode selected</td>
</tr>
</tbody>
</table>
<ul>
<li>Binary sensor entities</li>
</ul>
<table>
<thead>
<tr>
<th>Binary sensor</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Water Tank</td>
<td>Indicates whether the water tank is connected or not</td>
</tr>
</tbody>
</table>
<ul>
<li>Select entities</li>
</ul>
<table>
<thead>
<tr>
<th>Select</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LED Brightness</td>
<td>Controls the brightness of the LEDs (bright, dim, off)</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
<li>
<strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</li>
<li>
<strong>Water Level</strong>: The current water level percentage measured. Enabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
<tr>
<td>Dry Mode</td>
<td>Turn on/off the dry mode</td>
</tr>
</tbody>
</table>
<h3>Air Humidifier CA (zhimi.humidifier.ca4) <a class="title-link" name="air-humidifier-ca-zhimihumidifierca4" href="#air-humidifier-ca-zhimihumidifierca4"></a>
</h3>
<ul>
<li>On, Off</li>
<li>Operation modes (Auto, Low, Medium, High)</li>
<li>Target humidity (30 - 80)</li>
<li>Attributes (humidifier platform)</li>
</ul>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>available_modes</code></td>
<td>A list with the operation modes available</td>
</tr>
<tr>
<td><code>humidity</code></td>
<td>The current target humidity</td>
</tr>
<tr>
<td><code>max_humidity</code></td>
<td>The maximum settable target humidity</td>
</tr>
<tr>
<td><code>min_humidity</code></td>
<td>The minimum settable target humidity</td>
</tr>
<tr>
<td><code>mode</code></td>
<td>The current operation mode selected</td>
</tr>
</tbody>
</table>
<ul>
<li>Binary sensor entities</li>
</ul>
<table>
<thead>
<tr>
<th>Binary sensor</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Water Tank</td>
<td>Indicates whether the water tank is connected or not</td>
</tr>
</tbody>
</table>
<ul>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Motor Speed</td>
<td>Set the motor speed</td>
</tr>
</tbody>
</table>
<ul>
<li>Select entities</li>
</ul>
<table>
<thead>
<tr>
<th>Select</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LED Brightness</td>
<td>Controls the brightness of the LEDs (bright, dim, off)</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Actual Speed</strong>: The current motor speed measured in rpm. Enabled by default.</li>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
<li>
<strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</li>
<li>
<strong>Water Level</strong>: The current water level percentage measured. Enabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
<tr>
<td>Clean Mode</td>
<td>Turn on/off the clean mode</td>
</tr>
<tr>
<td>Dry Mode</td>
<td>Turn on/off the dry mode</td>
</tr>
</tbody>
</table>
<div class="alert alert-note">
  <p class="alert-title"><iconify-icon inline icon="mdi:information-outline"></iconify-icon> Note</p>
  <div class="alert-content">
<p>Clean mode and Motor speed can only be set when the device is turned on.</p>
  </div>
</div>
<h3>Air Humidifier CB (zhimi.humidifier.cb1) <a class="title-link" name="air-humidifier-cb-zhimihumidifiercb1" href="#air-humidifier-cb-zhimihumidifiercb1"></a>
</h3>
<ul>
<li>On, Off</li>
<li>Operation modes (Silent, Medium, High, Auto)</li>
<li>Target humidity (30, 40, 50, 60, 70, 80)</li>
<li>Attributes (humidifier platform)</li>
</ul>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>available_modes</code></td>
<td>A list with the operation modes available</td>
</tr>
<tr>
<td><code>humidity</code></td>
<td>The current target humidity</td>
</tr>
<tr>
<td><code>max_humidity</code></td>
<td>The maximum settable target humidity</td>
</tr>
<tr>
<td><code>min_humidity</code></td>
<td>The minimum settable target humidity</td>
</tr>
<tr>
<td><code>mode</code></td>
<td>The current operation mode selected</td>
</tr>
</tbody>
</table>
<ul>
<li>Binary sensor entities</li>
</ul>
<table>
<thead>
<tr>
<th>Binary sensor</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Water Tank</td>
<td>Indicates whether the water tank is connected or not</td>
</tr>
</tbody>
</table>
<ul>
<li>Select entities</li>
</ul>
<table>
<thead>
<tr>
<th>Select</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LED Brightness</td>
<td>Controls the brightness of the LEDs (bright, dim, off)</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities</p>
<ul>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
<li>
<strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</li>
<li>
<strong>Water Level</strong>: The current water level percentage measured. Enabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the child lock</td>
</tr>
<tr>
<td>Dry Mode</td>
<td>Turn on/off the dry mode</td>
</tr>
</tbody>
</table>
<h3>Air Humidifier JSQ/JSQ1/MJJSQ (deerma.humidifier.jsq, deerma.humidifier.jsq1, deerma.humidifier.mjjsq) <a class="title-link" name="air-humidifier-jsqjsq1mjjsq-deermahumidifierjsq-deermahumidifierjsq1-deermahumidifiermjjsq" href="#air-humidifier-jsqjsq1mjjsq-deermahumidifierjsq-deermahumidifierjsq1-deermahumidifiermjjsq"></a>
</h3>
<ul>
<li>On, Off</li>
<li>Operation modes (low, medium, high, humidity)</li>
<li>Target humidity (30, 40, 50, 60, 70, 80)</li>
<li>Attributes (humidifier platform)</li>
</ul>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>available_modes</code></td>
<td>A list with the operation modes available</td>
</tr>
<tr>
<td><code>humidity</code></td>
<td>The current target humidity</td>
</tr>
<tr>
<td><code>max_humidity</code></td>
<td>The maximum settable target humidity</td>
</tr>
<tr>
<td><code>min_humidity</code></td>
<td>The minimum settable target humidity</td>
</tr>
<tr>
<td><code>mode</code></td>
<td>The current operation mode selected</td>
</tr>
</tbody>
</table>
<ul>
<li>Binary sensor entities</li>
</ul>
<table>
<thead>
<tr>
<th>Binary sensor</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Water Tank</td>
<td>Indicates whether the water tank is connected or not</td>
</tr>
<tr>
<td>Water Tank Empty</td>
<td>Indicates whether the water tank is empty or not</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Sensor entities|</p>
<ul>
<li>
<strong>Humidity</strong>: The current humidity measured. Enabled by default.</li>
<li>
<strong>Temperature</strong>: The current temperature measured. Enabled by default.</li>
<li>
<strong>Use Time</strong>: The accumulative number of seconds the device has been in use. Disabled by default.</li>
</ul>
</li>
<li>
<p>Switch entities</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the buzzer</td>
</tr>
<tr>
<td>LED</td>
<td>Turn on/off the LED</td>
</tr>
</tbody>
</table>
<h3>Standing Fan 1X (dmaker.fan.p5) <a class="title-link" name="standing-fan-1x-dmakerfanp5" href="#standing-fan-1x-dmakerfanp5"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Normal, Nature)</li>
<li>Oscillation (on, off)</li>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Delay Off Countdown</td>
<td>Set the delay off countdown in minutes</td>
</tr>
<tr>
<td>Oscillation Angle</td>
<td>Set the oscillation angle in degrees</td>
</tr>
</tbody>
</table>
<ul>
<li>Switch entities</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off <code>buzzer</code>
</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off <code>child lock</code>
</td>
</tr>
<tr>
<td>LED</td>
<td>Turn on/off <code>led</code>
</td>
</tr>
</tbody>
</table>
<h3>Standing Fan (zhimi.fan.za1, zhimi.fan.za3, zhimi.fan.za4, zhimi.fan.sa1) <a class="title-link" name="standing-fan-zhimifanza1-zhimifanza3-zhimifanza4-zhimifansa1" href="#standing-fan-zhimifanza1-zhimifanza3-zhimifanza4-zhimifansa1"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Normal, Nature)</li>
<li>Oscillation (on, off)</li>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Delay Off Countdown</td>
<td>Set the delay off countdown in minutes</td>
</tr>
<tr>
<td>Oscillation Angle</td>
<td>Set the oscillation angle in degrees</td>
</tr>
</tbody>
</table>
<ul>
<li>Select entities</li>
</ul>
<table>
<thead>
<tr>
<th>Select</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LED Brightness</td>
<td>Controls the brightness of the LEDs (bright, dim, off)</td>
</tr>
</tbody>
</table>
<ul>
<li>Switch entities</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off <code>buzzer</code>
</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off <code>child lock</code>
</td>
</tr>
</tbody>
</table>
<h3>DC Pedestal Fan (zhimi.fan.v2, zhimi.fan.v3) <a class="title-link" name="dc-pedestal-fan-zhimifanv2-zhimifanv3" href="#dc-pedestal-fan-zhimifanv2-zhimifanv3"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Normal, Nature)</li>
<li>Oscillation (on, off)</li>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Delay Off Countdown</td>
<td>Set the delay off countdown in minutes</td>
</tr>
<tr>
<td>Oscillation Angle</td>
<td>Set the oscillation angle in degrees</td>
</tr>
</tbody>
</table>
<ul>
<li>Select entities</li>
</ul>
<table>
<thead>
<tr>
<th>Select</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LED Brightness</td>
<td>Controls the brightness of the LEDs (bright, dim, off)</td>
</tr>
</tbody>
</table>
<ul>
<li>Sensor entities</li>
</ul>
<table>
<thead>
<tr>
<th>Sensor</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Battery</td>
<td>The current battery level in percentage</td>
</tr>
<tr>
<td>Humidity</td>
<td>The current humidity measured</td>
</tr>
<tr>
<td>Temperature</td>
<td>The current temperature measured</td>
</tr>
</tbody>
</table>
<ul>
<li>Switch entities</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off <code>buzzer</code>
</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off <code>child lock</code>
</td>
</tr>
</tbody>
</table>
<h3>Standing Fan 1C (dmaker.fan.1c) <a class="title-link" name="standing-fan-1c-dmakerfan1c" href="#standing-fan-1c-dmakerfan1c"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Normal, Nature)</li>
<li>Oscillation (on, off)</li>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Delay Off Countdown</td>
<td>Set the delay off countdown in minutes</td>
</tr>
</tbody>
</table>
<ul>
<li>Switch entities</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the Buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the Child Lock</td>
</tr>
<tr>
<td>LED</td>
<td>Turn on/off the LED</td>
</tr>
</tbody>
</table>
<h3>Tower Fan/Standing Fan 2/Standing Fan Pro (dmaker.fan.p9, dmaker.fan.p10, dmaker.fan.p11, dmaker.fan.p18) <a class="title-link" name="tower-fanstanding-fan-2standing-fan-pro-dmakerfanp9-dmakerfanp10-dmakerfanp11-dmakerfanp18" href="#tower-fanstanding-fan-2standing-fan-pro-dmakerfanp9-dmakerfanp10-dmakerfanp11-dmakerfanp18"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Normal, Nature)</li>
<li>Oscillation (on, off)</li>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Delay Off Countdown</td>
<td>Set the delay off countdown in minutes</td>
</tr>
<tr>
<td>Oscillation Angle</td>
<td>Set the oscillation angle in degrees</td>
</tr>
</tbody>
</table>
<ul>
<li>Switch entities</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the Buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the Child Lock</td>
</tr>
<tr>
<td>LED</td>
<td>Turn on/off the LED</td>
</tr>
</tbody>
</table>
<h3>Standing Fan 3 (zhimi.fan.za5) <a class="title-link" name="standing-fan-3-zhimifanza5" href="#standing-fan-3-zhimifanza5"></a>
</h3>
<ul>
<li>Power (on, off)</li>
<li>Operation modes (Normal, Nature)</li>
<li>Oscillation (on, off)</li>
<li>Binary sensor entities</li>
</ul>
<table>
<thead>
<tr>
<th>Binary sensor</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Power Supply</td>
<td>Indicates whether the power supply is connected or not</td>
</tr>
</tbody>
</table>
<ul>
<li>Number entities</li>
</ul>
<table>
<thead>
<tr>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Delay Off Countdown</td>
<td>Set the delay off countdown in minutes</td>
</tr>
<tr>
<td>LED Brightness</td>
<td>Set the LED brightness</td>
</tr>
<tr>
<td>Oscillation Angle</td>
<td>Set the oscillation angle in degrees</td>
</tr>
</tbody>
</table>
<ul>
<li>Sensor entities</li>
</ul>
<table>
<thead>
<tr>
<th>Sensor</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Humidity</td>
<td>The current humidity measured</td>
</tr>
<tr>
<td>Temperature</td>
<td>The current temperature measured</td>
</tr>
</tbody>
</table>
<ul>
<li>Switch entities</li>
</ul>
<table>
<thead>
<tr>
<th>Switch</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buzzer</td>
<td>Turn on/off the Buzzer</td>
</tr>
<tr>
<td>Child Lock</td>
<td>Turn on/off the Child Lock</td>
</tr>
<tr>
<td>Ionizer</td>
<td>Turn on/off the Ionizer</td>
</tr>
</tbody>
</table>
<h3>Actions <a class="title-link" name="actions" href="#actions"></a>
</h3>
<h3>Action humidifier.set_humidity <a class="title-link" name="action-humidifierset_humidity" href="#action-humidifierset_humidity"></a>
</h3>
<p>Set the target humidity.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi humidifier entity.</td>
</tr>
<tr>
<td><code>humidity</code></td>
<td>no</td>
<td>Target humidity</td>
</tr>
</tbody>
</table>
<h3>Action humidifier.set_mode <a class="title-link" name="action-humidifierset_mode" href="#action-humidifierset_mode"></a>
</h3>
<p>Set the humidifier operation mode.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi humidifier entity.</td>
</tr>
<tr>
<td><code>mode</code></td>
<td>no</td>
<td>The humidifier operation mode</td>
</tr>
</tbody>
</table>
<p>| ––––––––––– | –––– | ––––––––––––––––––––––– |
| <code>entity_id</code>            | no       | Only act on a specific Xiaomi fan entity.      |
| <code>percentage</code>           | no       | Fan speed. Percentage speed setting            |</p>
<h3>Action fan.set_preset_mode <a class="title-link" name="action-fanset_preset_mode" href="#action-fanset_preset_mode"></a>
</h3>
<p>Set the fan operation mode.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi fan entity.</td>
</tr>
<tr>
<td><code>preset_mode</code></td>
<td>no</td>
<td>The fan operation mode</td>
</tr>
</tbody>
</table>
<h3>Action xiaomi_miio.fan_reset_filter (Air Purifier 2 only) <a class="title-link" name="action-xiaomi_miiofan_reset_filter-air-purifier-2-only" href="#action-xiaomi_miiofan_reset_filter-air-purifier-2-only"></a>
</h3>
<p>Reset the filter lifetime and usage.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi fan entity.</td>
</tr>
</tbody>
</table>
<h3>Action xiaomi_miio.fan_set_extra_features (Air Purifier only) <a class="title-link" name="action-xiaomi_miiofan_set_extra_features-air-purifier-only" href="#action-xiaomi_miiofan_set_extra_features-air-purifier-only"></a>
</h3>
<p>Set the extra features.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi fan entity.</td>
</tr>
<tr>
<td><code>features</code></td>
<td>no</td>
<td>Integer, known values are 0 and 1.</td>
</tr>
</tbody>
</table>
<h2>Xiaomi Air Quality Monitor <a class="title-link" name="xiaomi-air-quality-monitor" href="#xiaomi-air-quality-monitor"></a>
</h2>
<p>The <code>xiaomi_miio</code> Air Quality Monitor is observing your Xiaomi Mi Air Quality Monitor (PM2.5) and reporting the air quality index and other values.</p>
<p>Currently, the supported features are:</p>
<ul>
<li>Air Quality Index (AQI)</li>
<li>Particulate matter 2.5</li>
<li>Attributes
<ul>
<li>power</li>
<li>charging</li>
<li>battery</li>
<li>time_stat</li>
<li>carbon_dioxide_equivalent</li>
<li>total_volatile_organic_compounds</li>
<li>temperature</li>
<li>humidity</li>
</ul>
</li>
</ul>
<h2>Xiaomi IR Remote <a class="title-link" name="xiaomi-ir-remote" href="#xiaomi-ir-remote"></a>
</h2>
<p>The remote platform allows you to send IR commands from your Xiaomi IR Remote (ChuangmiIr).</p>
<h3>Setup <a class="title-link" name="setup" href="#setup"></a>
</h3>
<p>Please follow the instructions on <a href="/integrations/xiaomi_miio/#retrieving-the-access-token">Retrieving the Access Token</a> to get the API token to use in the <span class="terminology"><code>configuration.yaml</code><span class="terminology-tooltip">The configuration.yaml file is the main configuration file for Home Assistant. It lists the integrations to be loaded and their specific configurations. In some cases, the configuration needs to be edited manually directly in the configuration.yaml file. Most integrations can be configured in the UI.<a class="terminology-link" href="/docs/configuration/"> [Learn more]</a></span></span> file.</p>
<h3>Configuring the Platform <a class="title-link" name="configuring-the-platform" href="#configuring-the-platform"></a>
</h3>
<p>To add a Xiaomi IR Remote to your installation, add the following to your <span class="terminology"><code>configuration.yaml</code><span class="terminology-tooltip">The configuration.yaml file is the main configuration file for Home Assistant. It lists the integrations to be loaded and their specific configurations. In some cases, the configuration needs to be edited manually directly in the configuration.yaml file. Most integrations can be configured in the UI.<a class="terminology-link" href="/docs/configuration/"> [Learn more]</a></span></span> file:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">remote</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">platform</span><span class="pi">:</span> <span class="s">xiaomi_miio</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">192.168.42.42</span>
    <span class="na">token</span><span class="pi">:</span> <span class="s">YOUR_TOKEN</span>
</code></pre></div></div>
<div class="config-vars">
  <h4>
    Configuration Variables <a class="title-link" name="xiaomi_miio-configuration-variables" href="#xiaomi_miio-configuration-variables"></a>
  </h4>
  <div class="configuration-link">
    <a href="{{site.baseurl}}/docs/configuration/" target="_blank">Looking for your configuration file?</a>
  </div>
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> host </span><span class="config-vars-type">string</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="host" class="title-link" href="#host"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The IP of your remote.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> token </span><span class="config-vars-type">string</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="token" class="title-link" href="#token"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The API token of your remote.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> name </span><span class="config-vars-type">string</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="name" class="title-link" href="#name"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The name of your remote.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> slot </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 1</span>)</span><a name="slot" class="title-link" href="#slot"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The slot used to save learned command.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> timeout </span><span class="config-vars-type">integer</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default">, default: 30</span>)</span><a name="timeout" class="title-link" href="#timeout"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>Timeout for learning a new command.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> commands </span><span class="config-vars-type">map</span><span class="config-vars-required"> (<span class="false">Optional</span><span class="default"></span>)</span><a name="commands" class="title-link" href="#commands"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A list of commands</p>
</span></div>
<div class="nested"><div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name"> command </span><span class="config-vars-type">list</span><span class="config-vars-required"> <span class="true">Required</span><span class="default"></span></span><a name="command" class="title-link" href="#command"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>A list of commands as <a href="/integrations/xiaomi_miio/#raw">raw (learned command)</a> or <a href="/integrations/xiaomi_miio/#pronto-hex-code">pronto hex code</a>.</p>
</span></div>
</div></div>
</div>
</div>
</div>
<h3>Full Configuration <a class="title-link" name="full-configuration" href="#full-configuration"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">remote</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">platform</span><span class="pi">:</span> <span class="s">xiaomi_miio</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bathroom</span><span class="nv"> </span><span class="s">remote"</span>
    <span class="na">host</span><span class="pi">:</span> <span class="s">192.168.42.42</span>
    <span class="na">token</span><span class="pi">:</span> <span class="s">YOUR_TOKEN</span>
    <span class="na">slot</span><span class="pi">:</span> <span class="m">1</span>
    <span class="na">timeout</span><span class="pi">:</span> <span class="m">30</span>
    <span class="na">commands</span><span class="pi">:</span>
      <span class="na">activate_towel_heater</span><span class="pi">:</span>
        <span class="na">command</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">raw:base64:[optional_frequency]</span>
      <span class="na">read_bad_poem</span><span class="pi">:</span>
        <span class="na">command</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">raw:base64:[optional_frequency]</span>
          <span class="pi">-</span> <span class="s">pronto:pronto_hex:[optional_repeat]</span>
</code></pre></div></div>
<h3>Add command as entity button to a dashboard <a class="title-link" name="add-command-as-entity-button-to-a-dashboard" href="#add-command-as-entity-button-to-a-dashboard"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">type</span><span class="pi">:</span> <span class="s">entity-button</span>
<span class="na">tap_action</span><span class="pi">:</span>
  <span class="na">action</span><span class="pi">:</span> <span class="s">call-service</span>
  <span class="na">action</span><span class="pi">:</span> <span class="s">remote.send_command</span>
  <span class="na">data</span><span class="pi">:</span>
    <span class="na">command</span><span class="pi">:</span> <span class="s">activate_towel_heater</span>
    <span class="na">entity_id</span><span class="pi">:</span> <span class="s">remote.xiaomi_miio_ir</span>
<span class="na">hold_action</span><span class="pi">:</span>
  <span class="na">action</span><span class="pi">:</span> <span class="s">more-info</span>
<span class="na">show_icon</span><span class="pi">:</span> <span class="kc">true</span>
<span class="na">show_name</span><span class="pi">:</span> <span class="kc">true</span>
<span class="na">entity</span><span class="pi">:</span> <span class="s">remote.xiaomi_miio_ir</span>
<span class="na">icon</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mdi:radiator"</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">Activate Towel Heater</span>
</code></pre></div></div>
<h3>Use named commands to create UI buttons <a class="title-link" name="use-named-commands-to-create-ui-buttons" href="#use-named-commands-to-create-ui-buttons"></a>
</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">script</span><span class="pi">:</span>
  <span class="na">towel_heater</span><span class="pi">:</span>
    <span class="na">sequence</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">remote.send_command</span>
        <span class="na">target</span><span class="pi">:</span>
          <span class="na">entity_id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">remote.bathroom_remote"</span>
        <span class="na">data</span><span class="pi">:</span>
          <span class="na">command</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s2">"</span><span class="s">activate_towel_heater"</span>
  <span class="na">please_cover_your_ears</span><span class="pi">:</span>
    <span class="na">sequence</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">remote.send_command</span>
        <span class="na">target</span><span class="pi">:</span>
          <span class="na">entity_id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">remote.bathroom_remote"</span>
        <span class="na">data</span><span class="pi">:</span>
          <span class="na">command</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s2">"</span><span class="s">read_bad_poem"</span>
</code></pre></div></div>
<h3>Command Types <a class="title-link" name="command-types" href="#command-types"></a>
</h3>
<p>The Xiaomi IR Remote Platform currently supports two different formats for IR codes.</p>
<h3>Raw <a class="title-link" name="raw" href="#raw"></a>
</h3>
<p>A raw command is a command learned from <a href="/integrations/xiaomi_miio/#xiaomi_miioremote_learn_command"><code>xiaomi_miio.remote_learn_command</code></a>.</p>
<p>A raw command is defined as in the following example:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">raw:Z6UFANEAAAAjAQAAAwkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQIAE<span class="o">=</span>
</code></pre></div></div>
<p>with an optional last parameter of frequency:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">raw:Z6UFANEAAAAjAQAAAwkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQIAE<span class="o">=</span>:38400
</code></pre></div></div>
<h3>Pronto Hex Code <a class="title-link" name="pronto-hex-code" href="#pronto-hex-code"></a>
</h3>
<p>A pronto hex code is a hex code often supplied by the device manufacturer.</p>
<p>A pronto hex code is defined as in the following example:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">pronto:0000 006C 0022 0002 015B 00AD 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0041 0016 0041 0016 0041 0016 0041 0016 0041 0016 0041 0016 0041 0016 0016 0016 0016 0016 0041 0016 0016 0016 0041 0016 0016 0016 0016 0016 0016 0016 0016 0016 0041 0016 0016 0016 0041 0016 0016 0016 0041 0016 0041 0016 0041 0016 0041 0016 0623 015B 0057 0016 0E6E
</code></pre></div></div>
<p>with an optional last parameter of repeats (required by some devices):</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">pronto:0000 006C 0022 0002 015B 00AD 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0016 0041 0016 0041 0016 0041 0016 0041 0016 0041 0016 0041 0016 0041 0016 0016 0016 0016 0016 0041 0016 0016 0016 0041 0016 0016 0016 0016 0016 0016 0016 0016 0016 0041 0016 0016 0016 0041 0016 0016 0016 0041 0016 0041 0016 0041 0016 0041 0016 0623 015B 0057 0016 0E6E:2
</code></pre></div></div>
<p>Note there are at least 4 versions of the Xiaomi IR Remote (ChuangmiIr) which can be recognized by their default hostname:</p>
<ul>
<li><code>chuangmi.ir.v2</code></li>
<li><code>chuangmi.remote.h102a03</code></li>
<li><code>chuangmi.remote.v2</code></li>
<li><code>chuangmi.remote.h102c01</code></li>
</ul>
<p>For now, pronto hex codes only work on the first version (<code>chuangmi.ir.v2</code>).</p>
<h3>Actions <a class="title-link" name="actions-1" href="#actions-1"></a>
</h3>
<p>The Xiaomi IR Remote Platform registers four actions.</p>
<h3>remote.send_command <a class="title-link" name="remotesend_command" href="#remotesend_command"></a>
</h3>
<p>Allows sending either named commands using an identifier or sending commands as one of the two types defined in <a href="/integrations/xiaomi_miio/#command-types">Command Types</a>.</p>
<h3>xiaomi_miio.remote_learn_command <a class="title-link" name="xiaomi_miioremote_learn_command" href="#xiaomi_miioremote_learn_command"></a>
</h3>
<p>Used to learn new commands.</p>
<p>Use the entity_id of the Xiaomi IR Remote to start a learning process.</p>
<p><code>slot</code> and <code>timeout</code> can be specified, but multiple commands learned to the same slot can still be sent using <a href="/integrations/xiaomi_miio/#remotesend_command"><code>remote.send_command</code></a> even if they are overwritten.</p>
<p>After learning the command the base64 string can be found as a notification in Overview, the string can be copied by left clicking on the string and choose the copy option.</p>
<h3>xiaomi_miio.remote_set_led_on <a class="title-link" name="xiaomi_miioremote_set_led_on" href="#xiaomi_miioremote_set_led_on"></a>
</h3>
<p>Used to turn remote’s blue LED on.</p>
<h3>xiaomi_miio.remote_set_led_off <a class="title-link" name="xiaomi_miioremote_set_led_off" href="#xiaomi_miioremote_set_led_off"></a>
</h3>
<p>Used to turn remote’s blue LED off.</p>
<h2>Xiaomi Mi Robot Vacuum <a class="title-link" name="xiaomi-mi-robot-vacuum" href="#xiaomi-mi-robot-vacuum"></a>
</h2>
<p>The <code>xiaomi_miio</code> vacuum platform allows you to control the state of your <a href="https://www.mi.com/roomrobot/" rel="external nofollow">Xiaomi Mi Robot Vacuum<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</p>
<p>Currently supported actions are:</p>
<ul>
<li><code>start</code></li>
<li><code>pause</code></li>
<li><code>stop</code></li>
<li><code>return_to_base</code></li>
<li><code>locate</code></li>
<li><code>clean_spot</code></li>
<li>
<code>set_fan_speed</code>
Fan speeds: <code>Silent</code>, <code>Standard</code>, <code>Medium</code>, <code>Turbo</code> and <code>Gentle</code> (exclusively for mopping).</li>
<li><code>xiaomi_clean_zone</code></li>
<li><code>xiaomi_clean_segment</code></li>
<li><code>xiaomi_goto</code></li>
<li>
<code>remote_control_*</code> (of your robot)</li>
</ul>
<h3>Actions <a class="title-link" name="actions-2" href="#actions-2"></a>
</h3>
<p>In addition to all of the actions provided by the <code>vacuum</code> <span class="terminology">integration<span class="terminology-tooltip">Integrations connect and integrate Home Assistant with your devices, services, and more.<a class="terminology-link" href="/getting-started/concepts-terminology/#integrations"> [Learn more]</a></span></span> (<code>start</code>, <code>pause</code>, <code>stop</code>, <code>return_to_base</code>, <code>locate</code>, <code>set_fan_speed</code> and <code>send_command</code>), the <code>xiaomi_miio</code> platform introduces specific actions to access the remote control mode of the robot. These are:</p>
<ul>
<li><code>xiaomi_miio.vacuum_clean_zone</code></li>
<li><code>xiaomi_miio.vacuum_clean_segment</code></li>
<li><code>xiaomi_miio.vacuum_goto</code></li>
<li><code>xiaomi_miio.vacuum_remote_control_start</code></li>
<li><code>xiaomi_miio.vacuum_remote_control_stop</code></li>
<li><code>xiaomi_miio.vacuum_remote_control_move</code></li>
<li><code>xiaomi_miio.vacuum_remote_control_move_step</code></li>
</ul>
<h3>Action xiaomi_miio.vacuum_clean_zone <a class="title-link" name="action-xiaomi_miiovacuum_clean_zone" href="#action-xiaomi_miiovacuum_clean_zone"></a>
</h3>
<p>Start the cleaning operation in the areas selected for the number of repeats indicated.</p>
<ul>
<li>
<p><strong>Data attribute</strong>: <code>entity_id</code></p>
<ul>
<li>
<strong>Description</strong>: Only act on a specific robot.</li>
<li>
<strong>Optional</strong>: No.</li>
</ul>
</li>
<li>
<p><strong>Data attribute</strong>: <code>zone</code></p>
<ul>
<li>
<strong>Description</strong>: List of zones. Each zone is an array of four integer values. These values represent two sets of x- and y-axis coordinates that describe the beginning and ending points of a square or rectangle cleaning zone. For example, <code>[[23510,25311,25110,26361]]</code> creates a box that starts in one corner at the 23510, 25311 (x- and y-axis) coordinates and then is expanded diagonally to the 25110, 26361 coordinates to create a rectangular cleaning zone.</li>
<li>
<strong>Optional</strong>: No.</li>
</ul>
</li>
<li>
<p><strong>Data attribute</strong>: <code>repeats</code></p>
<ul>
<li>
<strong>Description</strong>: Number of cleaning repeats for each zone between 1 and 3.</li>
<li>
<strong>Optional</strong>: No.</li>
</ul>
</li>
</ul>
<p>Example of <code>xiaomi_miio.vacuum_clean_zone</code> use:</p>
<p>Inline array:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">automation</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">alias</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Test</span><span class="nv"> </span><span class="s">vacuum</span><span class="nv"> </span><span class="s">zone3"</span>
    <span class="na">triggers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">trigger</span><span class="pi">:</span> <span class="s">homeassistant</span>
        <span class="na">event</span><span class="pi">:</span> <span class="s">start</span>
    <span class="na">actions</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">xiaomi_miio.vacuum_clean_zone</span>
        <span class="na">target</span><span class="pi">:</span>
          <span class="na">entity_id</span><span class="pi">:</span> <span class="s">vacuum.xiaomi_vacuum</span>
        <span class="na">data</span><span class="pi">:</span>
          <span class="na">repeats</span><span class="pi">:</span> <span class="s2">"</span><span class="s">{{states('input_number.vacuum_passes')|int}}"</span>
          <span class="na">zone</span><span class="pi">:</span> <span class="pi">[[</span><span class="nv">30914</span><span class="pi">,</span> <span class="nv">26007</span><span class="pi">,</span> <span class="nv">35514</span><span class="pi">,</span> <span class="nv">28807</span><span class="pi">],</span> <span class="pi">[</span><span class="nv">20232</span><span class="pi">,</span> <span class="nv">22496</span><span class="pi">,</span> <span class="nv">26032</span><span class="pi">,</span> <span class="nv">26496</span><span class="pi">]]</span>
</code></pre></div></div>
<p>Array with inline zone:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">automation</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">alias</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Test</span><span class="nv"> </span><span class="s">vacuum</span><span class="nv"> </span><span class="s">zone3"</span>
    <span class="na">triggers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">trigger</span><span class="pi">:</span> <span class="s">homeassistant</span>
        <span class="na">event</span><span class="pi">:</span> <span class="s">start</span>
    <span class="na">actions</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">xiaomi_miio.vacuum_clean_zone</span>
        <span class="na">target</span><span class="pi">:</span>
          <span class="na">entity_id</span><span class="pi">:</span> <span class="s">vacuum.xiaomi_vacuum</span>
        <span class="na">data</span><span class="pi">:</span>
          <span class="na">repeats</span><span class="pi">:</span> <span class="s2">"</span><span class="s">{{states('input_number.vacuum_passes')|int}}"</span>
          <span class="na">zone</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="pi">[</span><span class="nv">30914</span><span class="pi">,</span> <span class="nv">26007</span><span class="pi">,</span> <span class="nv">35514</span><span class="pi">,</span> <span class="nv">28807</span><span class="pi">]</span>
            <span class="pi">-</span> <span class="pi">[</span><span class="nv">20232</span><span class="pi">,</span> <span class="nv">22496</span><span class="pi">,</span> <span class="nv">26032</span><span class="pi">,</span> <span class="nv">26496</span><span class="pi">]</span>
</code></pre></div></div>
<p>Array mode:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">automation</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">alias</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Test</span><span class="nv"> </span><span class="s">vacuum</span><span class="nv"> </span><span class="s">zone3"</span>
    <span class="na">triggers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">trigger</span><span class="pi">:</span> <span class="s">homeassistant</span>
        <span class="na">event</span><span class="pi">:</span> <span class="s">start</span>
    <span class="na">actions</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">xiaomi_miio.vacuum_clean_zone</span>
        <span class="na">target</span><span class="pi">:</span>
          <span class="na">entity_id</span><span class="pi">:</span> <span class="s">vacuum.xiaomi_vacuum</span>
        <span class="na">data</span><span class="pi">:</span>
          <span class="na">repeats</span><span class="pi">:</span> <span class="m">1</span>
          <span class="na">zone</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="pi">-</span> <span class="m">30914</span>
              <span class="pi">-</span> <span class="m">26007</span>
              <span class="pi">-</span> <span class="m">35514</span>
              <span class="pi">-</span> <span class="m">28807</span>
            <span class="pi">-</span> <span class="pi">-</span> <span class="m">20232</span>
              <span class="pi">-</span> <span class="m">22496</span>
              <span class="pi">-</span> <span class="m">26032</span>
              <span class="pi">-</span> <span class="m">26496</span>
</code></pre></div></div>
<h3>Action xiaomi_miio.vacuum_clean_segment <a class="title-link" name="action-xiaomi_miiovacuum_clean_segment" href="#action-xiaomi_miiovacuum_clean_segment"></a>
</h3>
<p>Clean the specified segment/room. A room is identified by a number. Instructions on how to find the valid room numbers and determine what rooms they map to, read the section <a href="#retrieving-room-numbers">Retrieving room numbers</a>.</p>
<ul>
<li>
<strong>Data attribute</strong>: <code>entity_id</code>
<ul>
<li>
<strong>Description</strong>: Only act on a specific robot.</li>
<li>
<strong>Optional</strong>: No.</li>
</ul>
</li>
<li>
<strong>Data attribute</strong>: <code>segments</code>
<ul>
<li>
<strong>Description</strong>: List of segment numbers or one single segment number.</li>
<li>
<strong>Optional</strong>: No.</li>
</ul>
</li>
</ul>
<p>Example of <code>xiaomi_miio.vacuum_clean_segment</code> use:</p>
<p>Multiple segments:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">automation</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">alias</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Vacuum</span><span class="nv"> </span><span class="s">kitchen</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">living</span><span class="nv"> </span><span class="s">room"</span>
    <span class="na">triggers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">trigger</span><span class="pi">:</span> <span class="s">homeassistant</span>
        <span class="na">event</span><span class="pi">:</span> <span class="s">start</span>
    <span class="na">actions</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">xiaomi_miio.vacuum_clean_segment</span>
        <span class="na">target</span><span class="pi">:</span>
          <span class="na">entity_id</span><span class="pi">:</span> <span class="s">vacuum.xiaomi_vacuum</span>
        <span class="na">data</span><span class="pi">:</span>
          <span class="na">segments</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">1</span><span class="pi">,</span> <span class="nv">2</span><span class="pi">]</span>
</code></pre></div></div>
<p>Single segment:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">automation</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">alias</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Vacuum</span><span class="nv"> </span><span class="s">kitchen"</span>
    <span class="na">triggers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">trigger</span><span class="pi">:</span> <span class="s">homeassistant</span>
        <span class="na">event</span><span class="pi">:</span> <span class="s">start</span>
    <span class="na">actions</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">xiaomi_miio.vacuum_clean_segment</span>
        <span class="na">target</span><span class="pi">:</span>
          <span class="na">entity_id</span><span class="pi">:</span> <span class="s">vacuum.xiaomi_vacuum</span>
        <span class="na">data</span><span class="pi">:</span>
          <span class="na">segments</span><span class="pi">:</span> <span class="m">1</span>
</code></pre></div></div>
<p>The original app for Xiaomi vacuum has a nice feature of room cleaning with repetition, you can achieve the same result with repeating segments:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">automation</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">alias</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Vacuum</span><span class="nv"> </span><span class="s">kitchen"</span>
    <span class="na">triggers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">trigger</span><span class="pi">:</span> <span class="s">homeassistant</span>
        <span class="na">event</span><span class="pi">:</span> <span class="s">start</span>
    <span class="na">actions</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">xiaomi_miio.vacuum_clean_segment</span>
        <span class="na">target</span><span class="pi">:</span>
          <span class="na">entity_id</span><span class="pi">:</span> <span class="s">vacuum.xiaomi_vacuum</span>
        <span class="na">data</span><span class="pi">:</span>
          <span class="na">segments</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">1</span><span class="pi">,</span> <span class="nv">1</span><span class="pi">]</span>
</code></pre></div></div>
<h3>Action xiaomi_miio.vacuum_goto <a class="title-link" name="action-xiaomi_miiovacuum_goto" href="#action-xiaomi_miiovacuum_goto"></a>
</h3>
<p>Go the specified coordinates.</p>
<ul>
<li>
<strong>Data attribute</strong>: <code>entity_id</code>
<ul>
<li>
<strong>Description</strong>: Only act on a specific robot.</li>
<li>
<strong>Optional</strong>: No.</li>
</ul>
</li>
<li>
<strong>Data attribute</strong>: <code>x_coord</code>
<ul>
<li>
<strong>Description</strong>: X-coordinate, integer value. The dock is located at x-coordinate 25500.</li>
<li>
<strong>Optional</strong>: No.</li>
</ul>
</li>
<li>
<strong>Data attribute</strong>: <code>y_coord</code>
<ul>
<li>
<strong>Description</strong>: Y-coordinate, integer value. The dock is located at y-coordinate 25500.</li>
<li>
<strong>Optional</strong>: No.</li>
</ul>
</li>
</ul>
<p>Note: If your vacuum is in motion and does not respond to the <code>xiaomi_miio.vacuum_goto</code> command, call the <code>vacuum.pause</code> or <code>vacuum.stop</code> action first.</p>
<h3>Action xiaomi_miio.vacuum_remote_control_start <a class="title-link" name="action-xiaomi_miiovacuum_remote_control_start" href="#action-xiaomi_miiovacuum_remote_control_start"></a>
</h3>
<p>Start the remote control mode of the robot. You can then move it with <code>remote_control_move</code>; when done, call <code>remote_control_stop</code>.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific robot</td>
</tr>
</tbody>
</table>
<h3>Action xiaomi_miio.vacuum_remote_control_stop <a class="title-link" name="action-xiaomi_miiovacuum_remote_control_stop" href="#action-xiaomi_miiovacuum_remote_control_stop"></a>
</h3>
<p>Exit the remote control mode of the robot.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific robot</td>
</tr>
</tbody>
</table>
<h3>Action xiaomi_miio.vacuuNm_remote_control_move <a class="title-link" name="action-xiaomi_miiovacuunm_remote_control_move" href="#action-xiaomi_miiovacuunm_remote_control_move"></a>
</h3>
<p>Remote control the robot. Please ensure you first set it in remote control mode with <code>remote_control_start</code>.</p>
<ul>
<li>
<code>entity_id</code>: Only act on a specific robot. Not optional.</li>
<li>
<code>velocity</code>: Speed: between -0.29 and 0.29. Not optional.</li>
<li>
<code>rotation</code>: Rotation: between -179 degrees and 179 degrees. Not optional.</li>
<li>
<code>duration</code>: The number of milliseconds that the robot should move for. Not optional.</li>
</ul>
<h3>Action xiaomi_miio.vacuum_remote_control_move_step <a class="title-link" name="action-xiaomi_miiovacuum_remote_control_move_step" href="#action-xiaomi_miiovacuum_remote_control_move_step"></a>
</h3>
<p>Enter remote control mode, make one move, stop, and exit remote control mode.</p>
<ul>
<li>
<strong>entity_id</strong>: Only act on a specific robot. Not optional.</li>
<li>
<strong>velocity</strong>: Speed: between -0.29 and 0.29. Not optional.</li>
<li>
<strong>rotation</strong>: Rotation: between -179 degrees and 179 degrees. Not optional.</li>
<li>
<strong>duration</strong>: The number of milliseconds that the robot should move for. Not optional.</li>
</ul>
<h3>Buttons <a class="title-link" name="buttons" href="#buttons"></a>
</h3>
<table>
<thead>
<tr>
<th>Button</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reset Main Brush</td>
<td>Resets main brush remaining lifespan</td>
</tr>
<tr>
<td>Reset Side Brush</td>
<td>Resets side brush remaining lifespan</td>
</tr>
<tr>
<td>Reset Filter</td>
<td>Resets filter remaining lifespan</td>
</tr>
<tr>
<td>Reset Sensor Dirty</td>
<td>Resets sensor dirtiness (remaining time before needs to be cleaned)</td>
</tr>
</tbody>
</table>
<h3>Sensors <a class="title-link" name="sensors" href="#sensors"></a>
</h3>
<div class="config-vars basic">
  <div class="">
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">DnD Start*</span><a name="dnd-start" class="title-link" href="#dnd-start"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The timestamp when the next DnD (Do not disturb) period will start</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">DnD End*</span><a name="dnd-end" class="title-link" href="#dnd-end"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The timestamp when the current or next DnD (Do not disturb) period will end</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Total duration*</span><a name="total-duration" class="title-link" href="#total-duration"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The total cleaning duration in seconds</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Total Clean Area*</span><a name="total-clean-area" class="title-link" href="#total-clean-area"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The total cleaning area in square meters</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Total Clean Count*</span><a name="total-clean-count" class="title-link" href="#total-clean-count"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The total amount of times a clean cycle has been ran</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Total Dust Collection Count*</span><a name="total-dust-collection-count" class="title-link" href="#total-dust-collection-count"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The total amount of dust that has been collected</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Filter Left*</span><a name="filter-left" class="title-link" href="#filter-left"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>How long the filter can be used in seconds</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Main Brush Left*</span><a name="main-brush-left" class="title-link" href="#main-brush-left"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>How long the main brush can be used in seconds</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Sensor Dirty Left*</span><a name="sensor-dirty-left" class="title-link" href="#sensor-dirty-left"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>How long the sensor can be used in seconds</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Current Clean Time</span><a name="current-clean-time" class="title-link" href="#current-clean-time"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The current cleaning time of the vacuum. If the vacuum is not cleaning, this sensor will have the same value as the “Last Clean Duration” sensor.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Current Clean Area</span><a name="current-clean-area" class="title-link" href="#current-clean-area"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The current area that has been cleaned. If the vacuum is not cleaning, this sensor will have the same value as the “Last Clean Area” sensor.</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Last Clean Area*</span><a name="last-clean-area" class="title-link" href="#last-clean-area"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The last cleaned area in square meters</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Last Clean Duration\*</span><a name="last-clean-duration" class="title-link" href="#last-clean-duration"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The last clean duration in seconds</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Last Clean End</span><a name="last-clean-end" class="title-link" href="#last-clean-end"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The last clean end time as a timestamp</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Last Clean Start</span><a name="last-clean-start" class="title-link" href="#last-clean-start"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>The last clean start time as a timestamp</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Mop Attached**</span><a name="mop-attached" class="title-link" href="#mop-attached"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>If the mop is attached</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Water Box Attached**</span><a name="water-box-attached" class="title-link" href="#water-box-attached"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>If the watter box is attached</p>
</span></div>
</div>
<div class="config-vars-item">
<div class="config-vars-label">
<span class="config-vars-label-name">Water Shortage\*\*</span><a name="water-shortage" class="title-link" href="#water-shortage"></a>
</div>
<div class="config-vars-description-and-children"><span class="config-vars-description"><p>If the water box is low on water</p>
</span></div>
</div>
</div>
</div>
<div class="alert alert-note">
  <p class="alert-title"><iconify-icon inline icon="mdi:information-outline"></iconify-icon> Note</p>
  <div class="alert-content">
<p>* Needs to be manually enabled once the <span class="terminology">integration<span class="terminology-tooltip">Integrations connect and integrate Home Assistant with your devices, services, and more.<a class="terminology-link" href="/getting-started/concepts-terminology/#integrations"> [Learn more]</a></span></span> has been added. <br>
** Only enabled if the vacuum has a mop.</p>
  </div>
</div>
<h3>Attributes <a class="title-link" name="attributes" href="#attributes"></a>
</h3>
<p>The vacuums from the <code>xiaomi</code> platform does not expose additional attributes other the ones provided by <a href="/integrations/vacuum/#attributes">the <code>vacuum</code> integration</a>,</p>
<h3>Example on how to clean a specific room <a class="title-link" name="example-on-how-to-clean-a-specific-room" href="#example-on-how-to-clean-a-specific-room"></a>
</h3>
<p>Example script using <a href="/integrations/vacuum/"><code>vacuum.send_command</code></a> to clean a specific room:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">vacuum_kitchen</span><span class="pi">:</span>
  <span class="na">alias</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Clean</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">kitchen"</span>
  <span class="na">sequence</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">vacuum.send_command</span>
      <span class="na">target</span><span class="pi">:</span>
        <span class="na">entity_id</span><span class="pi">:</span> <span class="s">vacuum.xiaomi_vacuum_cleaner</span>
      <span class="na">data</span><span class="pi">:</span>
        <span class="na">command</span><span class="pi">:</span> <span class="s">app_segment_clean</span>
        <span class="na">params</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">18</span><span class="pi">]</span>
</code></pre></div></div>
<p>Where params specify room numbers, for multiple rooms, params can be specified like <code>[17,18]</code>. Instructions on how to find the valid room numbers and determine what rooms they map to, read the section <a href="#retrieving-room-numbers">Retrieving room numbers</a>.</p>
<h3>Example on how to reset maintenance hours (brushes, filter, sensors) <a class="title-link" name="example-on-how-to-reset-maintenance-hours-brushes-filter-sensors" href="#example-on-how-to-reset-maintenance-hours-brushes-filter-sensors"></a>
</h3>
<p>The vacuum entity stores attribute values for when brushes, filters and sensors need to be
cleaned or replaced (<code>main_brush_left</code>, <code>side_brush_left</code>, <code>filter_left</code> and
<code>sensor_dirty_left</code>). The values are measured in hours. Once the parts are cleaned
or replaced you can then reset those values on the vacuum. Here is an example script using
<a href="/integrations/vacuum/"><code>vacuum.send_command</code></a> to reset the hours for the main brush:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">reset_main_brush_left</span><span class="pi">:</span>
  <span class="na">alias</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Reset</span><span class="nv"> </span><span class="s">hours</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">main</span><span class="nv"> </span><span class="s">brush</span><span class="nv"> </span><span class="s">replacement"</span>
  <span class="na">sequence</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">vacuum.send_Command</span>
      <span class="na">target</span><span class="pi">:</span>
        <span class="na">entity_id</span><span class="pi">:</span> <span class="s">vacuum.xiaomi_vacuum_cleaner</span>
      <span class="na">data</span><span class="pi">:</span>
        <span class="na">command</span><span class="pi">:</span> <span class="s">reset_consumable</span>
        <span class="na">params</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">main_brush_work_time"</span><span class="pi">]</span>
</code></pre></div></div>
<p>Allowed <code>params</code> for the <code>reset_consumable</code> command:</p>
<ul>
<li><code>['main_brush_work_time']</code></li>
<li><code>['side_brush_work_time']</code></li>
<li><code>['filter_work_time']</code></li>
<li><code>['sensor_dirty_time']</code></li>
</ul>
<h3>Retrieving Zoned Cleaning Coordinates <a class="title-link" name="retrieving-zoned-cleaning-coordinates" href="#retrieving-zoned-cleaning-coordinates"></a>
</h3>
<h3>Using FloleVac (Android) <a class="title-link" name="using-flolevac-android" href="#using-flolevac-android"></a>
</h3>
<ol>
<li>Download <a href="https://play.google.com/store/apps/details?id=de.flole.xiaomi" rel="external nofollow">FloleVac<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>
</li>
<li>Login with your Xiaomi credentials</li>
<li>Open Map (make sure you’re on the same network as your vacuum cleaner)</li>
<li>Select “Zone cleanup” and draw a box around the zone you’d like to clean</li>
<li>Long press “Cleanup” and the zone coordinates will be copied to your clipboard</li>
</ol>
<h3>Using RoboRock Control Center (requires Valetudo firmware) <a class="title-link" name="using-roborock-control-center-requires-valetudo-firmware" href="#using-roborock-control-center-requires-valetudo-firmware"></a>
</h3>
<p><a href="https://github.com/LazyT/rrcc" rel="external nofollow">RRCC<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> supports both rooted and non-rooted Vacuums and acts as a mostly fully featured replacement for Mi Home that works locally without the cloud. If you have installed the rooted firmware <a href="https://github.com/Hypfer/Valetudo" rel="external nofollow">Valetudo<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> you are able to SSH into your Vacuum and enable MQTT plus use map functions with no cloud requirement.</p>
<p>Using the map editor you are able to acquire the coordinates required for zoned clean up. Here is an example script for zoned clean up:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="yaml"><span class="na">vacuum_kitchen</span><span class="pi">:</span>
  <span class="na">alias</span><span class="pi">:</span> <span class="s2">"</span><span class="s">vacuum</span><span class="nv"> </span><span class="s">kitchen"</span>
  <span class="na">sequence</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">vacuum.send_command</span>
      <span class="na">target</span><span class="pi">:</span>
        <span class="na">entity_id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">vacuum.xiaomi_vacuum_cleaner"</span>
      <span class="na">data</span><span class="pi">:</span>
        <span class="na">command</span><span class="pi">:</span> <span class="s">app_zoned_clean</span>
        <span class="na">params</span><span class="pi">:</span> <span class="pi">[[</span><span class="nv">23084</span><span class="pi">,</span> <span class="nv">26282</span><span class="pi">,</span> <span class="nv">27628</span><span class="pi">,</span> <span class="nv">29727</span><span class="pi">,</span> <span class="nv">1</span><span class="pi">]]</span>
</code></pre></div></div>
<h3>Retrieving Room numbers <a class="title-link" name="retrieving-room-numbers" href="#retrieving-room-numbers"></a>
</h3>
<p>Valid room numbers can be retrieved using miio command-line tool:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">miiocli roborockvacuum <span class="nt">--ip</span> &lt;ip of the vacuum&gt; <span class="nt">--token</span> &lt;your vacuum token&gt; get_room_mapping
</code></pre></div></div>
<p>It will return the full mapping of room numbers to user-defined names as a list of (number,name) tuples.
Alternatively, one can just test the <code>clean_segment</code> action with a number and see which room it cleans.</p>
<p>It seems to be the case that Numbers 1..15 are used to number the initial segmentation done by the vacuum cleaner itself. Numbers 16 and upwards numbers rooms from the users manual editing.</p>
<h2>Xiaomi Philips Light <a class="title-link" name="xiaomi-philips-light" href="#xiaomi-philips-light"></a>
</h2>
<p>The Xiaomi Home light platform allows you to control the state of your Xiaomi Philips LED Ball Lamp, Xiaomi Philips Zhirui LED Bulb E14 Candle Lamp, Xiaomi Philips Zhirui Downlight, Xiaomi Philips LED Ceiling Lamp, Xiaomi Philips Eyecare Lamp 2, Xiaomi Philips Moonlight Bedside Lamp and Philips Zhirui Desk Lamp.</p>
<h3>Features <a class="title-link" name="features" href="#features"></a>
</h3>
<h3>Philips LED Ball Lamp, Philips Zhirui LED Candle Lamp and Philips Zhirui Downlight <a class="title-link" name="philips-led-ball-lamp-philips-zhirui-led-candle-lamp-and-philips-zhirui-downlight" href="#philips-led-ball-lamp-philips-zhirui-led-candle-lamp-and-philips-zhirui-downlight"></a>
</h3>
<p>Supported models: <code>philips.light.bulb</code>, <code>philips.light.candle</code>, <code>philips.light.candle2</code>, <code>philips.light.downlight</code></p>
<ul>
<li>Power (on, off)</li>
<li>Brightness</li>
<li>Color temperature (175…333 mireds)</li>
<li>Scene (1, 2, 3, 4)</li>
<li>Delayed turn off (Resolution in seconds)</li>
<li>Attributes
<ul>
<li>model</li>
<li>scene</li>
<li>delayed_turn_off</li>
</ul>
</li>
</ul>
<h3>Philips LED Ceiling Lamp <a class="title-link" name="philips-led-ceiling-lamp" href="#philips-led-ceiling-lamp"></a>
</h3>
<p>Supported models: <code>philips.light.ceiling</code>, <code>philips.light.zyceiling</code></p>
<ul>
<li>Power (on, off)</li>
<li>Brightness</li>
<li>Color temperature (175…370 mireds)</li>
<li>Scene (1, 2, 3, 4)</li>
<li>Night light mode (on, off)</li>
<li>Delayed turn off (Resolution in seconds)</li>
<li>Attributes
<ul>
<li>model</li>
<li>scene</li>
<li>delayed_turn_off</li>
<li>night_light_mode</li>
<li>automatic_color_temperature</li>
</ul>
</li>
</ul>
<h3>Philips Eyecare Smart Lamp 2 <a class="title-link" name="philips-eyecare-smart-lamp-2" href="#philips-eyecare-smart-lamp-2"></a>
</h3>
<p>Supported models: <code>philips.light.sread1</code></p>
<ul>
<li>Eyecare light (on, off)</li>
<li>Ambient light (on, off)</li>
<li>Brightness (of each light)</li>
<li>Scene (1, 2, 3, 4)</li>
<li>Night light mode (on, off)</li>
<li>Delayed turn off (Resolution in seconds)</li>
<li>Eye fatigue reminder / notification (on, off)</li>
<li>Eyecare mode (on, off)</li>
<li>Attributes
<ul>
<li>model</li>
<li>scene</li>
<li>delayed_turn_off</li>
<li>night_light_mode</li>
<li>reminder</li>
<li>eyecare_mode</li>
</ul>
</li>
</ul>
<h3>Philips Zhirui Desk Lamp <a class="title-link" name="philips-zhirui-desk-lamp" href="#philips-zhirui-desk-lamp"></a>
</h3>
<p>Supported models: <code>philips.light.mono1</code></p>
<ul>
<li>Power (on, off)</li>
<li>Brightness</li>
<li>Scene (1, 2, 3, 4)</li>
<li>Delayed turn off (Resolution in seconds)</li>
<li>Attributes
<ul>
<li>model</li>
<li>scene</li>
<li>delayed_turn_off</li>
</ul>
</li>
</ul>
<h3>Philips Moonlight Bedside Lamp <a class="title-link" name="philips-moonlight-bedside-lamp" href="#philips-moonlight-bedside-lamp"></a>
</h3>
<p>Supported models: <code>philips.light.moonlight</code></p>
<ul>
<li>Power (on, off)</li>
<li>Brightness</li>
<li>Color</li>
<li>Color temperature (153…588 mireds)</li>
<li>Scene (1, 2, 3, 4, 5, 6)</li>
<li>Attributes
<ul>
<li>model</li>
<li>scene</li>
<li>sleep_assistant</li>
<li>sleep_off_time</li>
<li>total_assistant_sleep_time</li>
<li>brand_sleep</li>
<li>brand</li>
</ul>
</li>
</ul>
<h3>Actions <a class="title-link" name="actions-3" href="#actions-3"></a>
</h3>
<h3>Action xiaomi_miio.light_set_scene <a class="title-link" name="action-xiaomi_miiolight_set_scene" href="#action-xiaomi_miiolight_set_scene"></a>
</h3>
<p>Set one of the 4 available fixed scenes.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi light entity.</td>
</tr>
<tr>
<td><code>scene</code></td>
<td>no</td>
<td>Scene, between 1 and 4.</td>
</tr>
</tbody>
</table>
<h3>Action xiaomi_miio.light_set_delayed_turn_off <a class="title-link" name="action-xiaomi_miiolight_set_delayed_turn_off" href="#action-xiaomi_miiolight_set_delayed_turn_off"></a>
</h3>
<p>Delayed turn off.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi light entity.</td>
</tr>
<tr>
<td><code>time_period</code></td>
<td>no</td>
<td>Time period for the delayed turn off.</td>
</tr>
</tbody>
</table>
<h3>Action xiaomi_miio.light_reminder_on (Eyecare Smart Lamp 2 only) <a class="title-link" name="action-xiaomi_miiolight_reminder_on-eyecare-smart-lamp-2-only" href="#action-xiaomi_miiolight_reminder_on-eyecare-smart-lamp-2-only"></a>
</h3>
<p>Enable the eye fatigue reminder/notification.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi light entity.</td>
</tr>
</tbody>
</table>
<h3>Action xiaomi_miio.light_reminder_off (Eyecare Smart Lamp 2 only) <a class="title-link" name="action-xiaomi_miiolight_reminder_off-eyecare-smart-lamp-2-only" href="#action-xiaomi_miiolight_reminder_off-eyecare-smart-lamp-2-only"></a>
</h3>
<p>Disable the eye fatigue reminder/notification.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi light entity.</td>
</tr>
</tbody>
</table>
<h3>Action xiaomi_miio.light_night_light_mode_on (Eyecare Smart Lamp 2 only) <a class="title-link" name="action-xiaomi_miiolight_night_light_mode_on-eyecare-smart-lamp-2-only" href="#action-xiaomi_miiolight_night_light_mode_on-eyecare-smart-lamp-2-only"></a>
</h3>
<p>Turn the smart night light mode on.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi light entity.</td>
</tr>
</tbody>
</table>
<h3>Action xiaomi_miio.light_night_light_mode_off (Eyecare Smart Lamp 2 only) <a class="title-link" name="action-xiaomi_miiolight_night_light_mode_off-eyecare-smart-lamp-2-only" href="#action-xiaomi_miiolight_night_light_mode_off-eyecare-smart-lamp-2-only"></a>
</h3>
<p>Turn the smart night light mode off.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi light entity.</td>
</tr>
</tbody>
</table>
<h3>Action xiaomi_miio.light_eyecare_mode_on (Eyecare Smart Lamp 2 only) <a class="title-link" name="action-xiaomi_miiolight_eyecare_mode_on-eyecare-smart-lamp-2-only" href="#action-xiaomi_miiolight_eyecare_mode_on-eyecare-smart-lamp-2-only"></a>
</h3>
<p>Turn the eyecare mode on.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi light entity.</td>
</tr>
</tbody>
</table>
<h3>Action xiaomi_miio.light_eyecare_mode_off (Eyecare Smart Lamp 2 only) <a class="title-link" name="action-xiaomi_miiolight_eyecare_mode_off-eyecare-smart-lamp-2-only" href="#action-xiaomi_miiolight_eyecare_mode_off-eyecare-smart-lamp-2-only"></a>
</h3>
<p>Turn the eyecare mode off.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi light entity.</td>
</tr>
</tbody>
</table>
<h2>Xiaomi Smart WiFi Socket and Smart Power Strip <a class="title-link" name="xiaomi-smart-wifi-socket-and-smart-power-strip" href="#xiaomi-smart-wifi-socket-and-smart-power-strip"></a>
</h2>
<p>The Xiaomi Home switch platform allows you to control the state of your Xiaomi Smart WiFi Socket aka Plug, Xiaomi Smart Power Strip and Xiaomi Chuangmi Plug V1.</p>
<h3>Features <a class="title-link" name="features-1" href="#features-1"></a>
</h3>
<h3>Xiaomi Smart WiFi Socket <a class="title-link" name="xiaomi-smart-wifi-socket" href="#xiaomi-smart-wifi-socket"></a>
</h3>
<p>Supported models: <code>chuangmi.plug.m1</code>, <code>chuangmi.plug.m3</code>, <code>chuangmi.plug.v2</code>, <code>chuangmi.plug.hmi205</code>, <code>chuangmi.plug.hmi206</code></p>
<ul>
<li>Power (on, off)</li>
<li>Attributes
<ul>
<li>Temperature</li>
</ul>
</li>
</ul>
<h3>Xiaomi Chuangmi Plug V1 <a class="title-link" name="xiaomi-chuangmi-plug-v1" href="#xiaomi-chuangmi-plug-v1"></a>
</h3>
<p>Supported models: <code>chuangmi.plug.v1</code>, <code>chuangmi.plug.v3</code>, <code>chuangmi.plug.hmi208</code></p>
<ul>
<li>Power (on, off)</li>
<li>USB (on, off)</li>
<li>Attributes
<ul>
<li>Temperature</li>
</ul>
</li>
</ul>
<h3>Xiaomi Smart Power Strip <a class="title-link" name="xiaomi-smart-power-strip" href="#xiaomi-smart-power-strip"></a>
</h3>
<p>Supported models: <code>qmi.powerstrip.v1</code>, <code>zimi.powerstrip.v2</code></p>
<ul>
<li>Power (on, off)</li>
<li>Wifi LED (on, off)</li>
<li>Power Price (0…999)</li>
<li>Power Mode (green, normal) (Power Strip V1 only)</li>
<li>Attributes
<ul>
<li>Temperature</li>
<li>Current</li>
<li>Load power</li>
<li>Wifi LED</li>
<li>Mode (Power Strip V1 only)</li>
</ul>
</li>
</ul>
<h3>Xiaomi Air Conditioning Companion V3 <a class="title-link" name="xiaomi-air-conditioning-companion-v3" href="#xiaomi-air-conditioning-companion-v3"></a>
</h3>
<p>Supported models: <code>lumi.acpartner.v3</code> (the socket of the <code>acpartner.v1</code> and <code>v2</code> isn’t switchable!)</p>
<ul>
<li>Power (on, off)</li>
<li>Attributes
<ul>
<li>Load power</li>
</ul>
</li>
</ul>
<h3>Actions <a class="title-link" name="actions-4" href="#actions-4"></a>
</h3>
<h3>Action xiaomi_miio.switch_set_wifi_led_on (Power Strip only) <a class="title-link" name="action-xiaomi_miioswitch_set_wifi_led_on-power-strip-only" href="#action-xiaomi_miioswitch_set_wifi_led_on-power-strip-only"></a>
</h3>
<p>Turn the wifi LED on.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi switch entity.</td>
</tr>
</tbody>
</table>
<h3>Action xiaomi_miio.switch_set_wifi_led_off (Power Strip only) <a class="title-link" name="action-xiaomi_miioswitch_set_wifi_led_off-power-strip-only" href="#action-xiaomi_miioswitch_set_wifi_led_off-power-strip-only"></a>
</h3>
<p>Turn the wifi LED off.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi switch entity.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi switch entity.</td>
</tr>
<tr>
<td><code>price</code></td>
<td>no</td>
<td>Power price, between 0 and 999.</td>
</tr>
</tbody>
</table>
<h3>Action xiaomi_miio.switch_set_power_mode (Power Strip V1 only) <a class="title-link" name="action-xiaomi_miioswitch_set_power_mode-power-strip-v1-only" href="#action-xiaomi_miioswitch_set_power_mode-power-strip-v1-only"></a>
</h3>
<p>Set the power mode.</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Only act on a specific Xiaomi switch entity.</td>
</tr>
<tr>
<td><code>mode</code></td>
<td>no</td>
<td>Power mode, valid values are ‘normal’ and ‘green’</td>
</tr>
</tbody>
</table>
<h2>Retrieving the Access Token <a class="title-link" name="retrieving-the-access-token" href="#retrieving-the-access-token"></a>
</h2>
<p>Not recommended, please specify the Xiaomi account credentials during the config flow for easier setup.
However when setting up a device manually the token can be retrieved in one of the following ways.</p>
<h3>Xiaomi Cloud Tokens Extractor <a class="title-link" name="xiaomi-cloud-tokens-extractor" href="#xiaomi-cloud-tokens-extractor"></a>
</h3>
<p>One of Home Assistant users wrote a tokens extractor tool, which is currently the easiest way to retrieve tokens for all devices assigned to Xiaomi account.
<a href="https://github.com/PiotrMachowski/Xiaomi-cloud-tokens-extractor" rel="external nofollow">In the repository<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> there’s executable for convenient use on Windows or Python script to be run on any platform. If you do not wish to run executable, then you can run it using the source code:</p>
<ol>
<li>Install requirements:</li>
</ol>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">pip3 <span class="nb">install </span>pycryptodome pybase64 requests
</code></pre></div></div>
<ol start="2">
<li>Run script</li>
</ol>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">python3 token_extractor.py
</code></pre></div></div>
<ol start="3">
<li>Provide email address or username for Xiaomi’s account, password and country of the account (most used: CN - China Mainland, DE - Germany etc.)</li>
<li>Script will print out all devices connected to the account with their IP address and tokens for use in Home Assistant.</li>
</ol>
<h3>Xiaomi Home app (Xiaomi Aqara Gateway, Android &amp; iOS) <a class="title-link" name="xiaomi-home-app-xiaomi-aqara-gateway-android--ios" href="#xiaomi-home-app-xiaomi-aqara-gateway-android--ios"></a>
</h3>
<ol>
<li>Install the Xiaomi Home app.</li>
<li>Sign In/make an account.</li>
<li>Make sure you set your region to: Mainland China (Seems to be the longest line with Chinese characters) under settings -&gt; Region (language can later be set on English).</li>
<li>Select your Gateway in Xiaomi Home app.</li>
<li>Then the 3 dots at the top right of the screen.</li>
<li>Then click on about.</li>
<li>Tap the version number (Plug-in version 2.77.1 as of January 2020, iOS has a white space instead of version number) at the bottom of the screen repeatedly.</li>
<li>You should now see 2 extra options listed in English (iOS still in Chinese), this means you enabled developer mode. [if not, try all steps again!].</li>
<li>Android: under “Hub info” there is quite some text in JSON format, this includes the “token” that you need.
iOS: Most options are still in Chinese, you need the fourth item from the top.</li>
</ol>
<p>Note: If you have multiple devices needing a token, e.g., Xiaomi Mi Robot Vacuum and a Xiaomi IR Remote, the above method may not work. The Xiaomi Home app will display a token, though it isn’t the correct one. The alternative method using “Mi Home v5.4.49” will provide the correct token.</p>
<h3>Using Get Mi Home Devices Token App <a class="title-link" name="using-get-mi-home-devices-token-app" href="#using-get-mi-home-devices-token-app"></a>
</h3>
<p>If you are on a Windows or macOS device, you can use the <a href="https://github.com/Maxmudjon/Get_MiHome_devices_token/releases" rel="external nofollow">Get MiHome devices token<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> App to retrieve the token. Click the link, download the file that corresponds to your OS, enter your login details and it will retrieve the access token.</p>
<h3>Alternative methods <a class="title-link" name="alternative-methods" href="#alternative-methods"></a>
</h3>
<div class="alert alert-note">
  <p class="alert-title"><iconify-icon inline icon="mdi:information-outline"></iconify-icon> Note</p>
  <div class="alert-content">
<p>If using an Android device to retrieve the Access Token only <code>v5.4.49</code> of Mi Home is confirmed working (December 2019). Use <code>v5.4.49</code> of Mi Home locate a text file under the <code>Smarthome/logs</code> folder where the 32 character token is stored. There will likely be several text files in this directory, search all of them for the word ‘token’ and you should find it there. Be advised that the latest version of Mi Home does not store the token in clear text.
<br> <br>
The iPhone app still stores the token in the SQLite db as of <code>v4.23.4</code> (Nov 17, 2019).
<br> <br>
After resetting the Wi-Fi settings of the Xiaomi robot vacuum, a new Access Token will be generated and therefore these instructions need to be followed again.
<br> <br>
These instructions are written for the Mi Home app - not for the new RoboRock app.
<br> <br>
This token (32 hexadecimal characters) is required for the Xiaomi Mi Robot Vacuum, Mi Robot 2 (Roborock) Vacuum, Xiaomi Philips Lights and Xiaomi IR Remote.</p>
  </div>
</div>
<h3>Android (not rooted) <a class="title-link" name="android-not-rooted" href="#android-not-rooted"></a>
</h3>
<blockquote>
<p>If using an Android device to retrieve the Access Token only <code>v5.4.49</code> of Mi Home is confirmed working (December 2019).</p>
</blockquote>
<ol>
<li>To begin, set up your Robovac with the latest version of Mi Home on your primary Android device as you normally would.</li>
<li>If your Robovac is already set up, you must reset its WiFi settings for it to get a new token.</li>
<li>Using <code>v5.4.49</code> of Mi Home locate a text file under the <code>Smarthome/logs</code> folder where the 32 character token is stored.</li>
<li>There will likely be several text files in this directory, search all of them for the word ‘token’ and you should find it there. Be advised that the latest version of Mi Home does not store the token in clear text.</li>
</ol>
<h3>Linux and Rooted Android <a class="title-link" name="linux-and-rooted-android" href="#linux-and-rooted-android"></a>
</h3>
<ol>
<li>To begin, set up your Robovac with the latest version of Mi Home on your primary Android device as you normally would.</li>
<li>Ensure successful operation using the latest Mi Home app and give the Vacuum a static IP in your router or however you do that on your LAN.</li>
<li>Install version <code>v5.4.54</code> of Mi Home on your rooted Android device and login (you can’t have two version of Mi Home installed at the same time).</li>
<li>Ensure you are using the same server every time</li>
<li>Ensure successful operation using 5.4.54 (locate is a nice simple test)</li>
<li>Using adb we will now extract the token from the rooted phone</li>
<li>Use adb shell to connect to your device and become root (if using Magisck root do <code>adb shell -&gt; su -&gt; whoami</code> to ensure root access.</li>
<li>Then run grep -R ‘“token”’ /data/data/com.xiaomi.smarthome and grab the token</li>
</ol>
<h3>iOS <a class="title-link" name="ios" href="#ios"></a>
</h3>
<ol>
<li>
<p>Configure the robot with the Mi Home app. Make sure to select the correct region, as Xiaomi uses different product names for different geographical areas. Note that the new RoboRock app is currently not supported for this method.</p>
</li>
<li>
<p>Using iTunes, create an unencrypted backup of your iPhone. Since macOS 10.15 there is no iTunes app. Use Finder instead - after connecting your iOS device you should see it in left menu of Finder window.</p>
</li>
<li>
<p>Install <a href="https://www.imactools.com/iphonebackupviewer/" rel="external nofollow">iBackup Viewer<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>, open it, and open your backup.</p>
</li>
<li>
<p>Open the “Raw Data” module.</p>
</li>
<li>
<p>Navigate to <code>com.xiaomi.mihome</code>.</p>
</li>
<li>
<p>Search for a file that looks like this: <code>123456789_mihome.sqlite</code> (Note: <code>_mihome.sqlite</code> is <em>not</em> the correct file. Most likely, you will find this file in the <code>Documents</code> folder.)</p>
</li>
<li>
<p>Save this file to your filesystem.</p>
</li>
<li>
<p>Install <a href="https://sqlitebrowser.org/" rel="external nofollow">DB Browser for SQLite<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</p>
</li>
<li>
<p>Open DB Browser and load the <code>.sqlite</code> file you saved from your backup.</p>
</li>
<li>
<p>Click on the <code>Execute SQL</code> tab.</p>
</li>
<li>
<p>Input and run this query (use appropriate SELECT query for your device i.e. Vacuum, Powerstrip or Plug):</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="sql"><span class="c1">-- Execute to retrieve token for Vacuum</span>
<span class="k">SELECT</span> <span class="n">ZTOKEN</span> <span class="k">FROM</span> <span class="n">ZDEVICE</span> <span class="k">WHERE</span> <span class="n">ZMODEL</span> <span class="k">LIKE</span> <span class="nv">"%vacuum%"</span>

<span class="c1">-- Execute to retrieve token for Smart Powerstrip</span>
<span class="k">SELECT</span> <span class="n">ZTOKEN</span> <span class="k">FROM</span> <span class="n">ZDEVICE</span> <span class="k">WHERE</span> <span class="n">ZMODEL</span> <span class="k">LIKE</span> <span class="nv">"%powerstrip%"</span>

<span class="c1">-- Execute to retrieve token for Smart Plug</span>
<span class="k">SELECT</span> <span class="n">ZTOKEN</span> <span class="k">FROM</span> <span class="n">ZDEVICE</span> <span class="k">WHERE</span> <span class="n">ZMODEL</span> <span class="k">LIKE</span> <span class="nv">"%plug%"</span>
</code></pre></div></div>
</li>
<li>
<p>Copy the returned 96-digit hexadecimal string to your clipboard.</p>
</li>
<li>
<p>Open <code>Terminal</code> and execute this command:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash"><span class="nb">echo</span> <span class="s1">'0: &lt;YOUR HEXADECIMAL STRING&gt;'</span> | xxd <span class="nt">-r</span> <span class="nt">-p</span> | openssl enc <span class="nt">-d</span> <span class="nt">-aes-128-ecb</span> <span class="nt">-nopad</span> <span class="nt">-nosalt</span> <span class="nt">-K</span> 00000000000000000000000000000000
</code></pre></div></div>
</li>
<li>
<p>Use the resulting 32-digit string as your token. (On your mac in front of the terminal session)</p>
</li>
</ol>
<h3>Bluestacks <a class="title-link" name="bluestacks" href="#bluestacks"></a>
</h3>
<ol>
<li>Configure the robot with the Mi-Home app. Make sure to select the correct region, as Xiaomi uses different product names for different geographical areas. Note that the new RoboRock app is currently not supported for this method.</li>
<li>Install <a href="https://www.bluestacks.com" rel="external nofollow">BlueStacks<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</li>
<li>Set up <a href="https://www.apkmirror.com/apk/xiaomi-inc/mihome/mihome-5-4-49-release/" rel="external nofollow">Mi Home version 5.4.49<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a> in BlueStacks and login to synchronize devices.</li>
<li>Open Filemanager in the <code>More Apps</code> menu.</li>
<li>Use <code>Explore</code> on the left and navigate to <code>sdcard/SmartHome/logs/plug_DeviceManager</code>.</li>
<li>Click on <code>Export to Windows</code> in the lower left corner and select any or all files to export to you local disk.</li>
<li>Search for <code>"token":"&lt;yourTokenHere&gt;"</code>.</li>
</ol>
<h3>Miio command line tool <a class="title-link" name="miio-command-line-tool" href="#miio-command-line-tool"></a>
</h3>
<p>Use of Miio should be done before the Vacuum is connected to Xiaomi Home. If you already connected to the app you will need to delete it and then join the ad-hoc Wi-Fi network the Vacuum creates. If the vacuum is already paired it’s likely this method will only return <code>???</code> as your token.</p>
<p>Discovering devices on the current network:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">npx miio discover
</code></pre></div></div>
<p>This will list devices that are connected to the same network as your computer. Let it run for a while so it has a chance to reach all devices, as it might take a minute or two for all devices to answer.</p>
<p>The commands outputs each device on this format:</p>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="text">Device ID: 48765421
Model info: zhimi.airpurifier.m1
Address: 192.168.100.9
Token: token-as-hex-here via auto-token
Support: At least basic
</code></pre></div></div>
<p>The information output is:</p>
<ul>
<li>
<code>Device ID</code> - The unique identifier of the device, does not change if the device is reset.</li>
<li>
<code>Model ID</code>- The model id if it could be determined, this indicates what type of device it is.</li>
<li>
<code>Address</code> - The IP that the device has on the network.</li>
<li>
<code>Token</code> - The token of the device or <code>???</code> if it could not be automatically determined.</li>
</ul>
<h3>Xiaomi Cloud Tokens Extractor <a class="title-link" name="xiaomi-cloud-tokens-extractor-1" href="#xiaomi-cloud-tokens-extractor-1"></a>
</h3>
<p>Alternate method to get all yours devices tokens in one run. Please follow this <a href="https://github.com/PiotrMachowski/Xiaomi-cloud-tokens-extractor" rel="external nofollow">instruction<iconify-icon inline="true" icon="tabler:external-link" class="external-link"></iconify-icon></a>.</p>


  


  
<div class="material-card text feedback">
  <h4>
<iconify-icon inline icon="mdi:feedback" title="Feedback"></iconify-icon> <b> Help us improve our documentation</b><a href="#feedback_section" class="title-link" name="feedback_section"></a>
</h4>
  Suggest an edit to this page, or provide/view feedback for this page.
  <div class="links">
    <ul aria-label="Page feedback options">
    <li><a href="https://github.com/home-assistant/home-assistant.io/tree/current/source/_integrations/xiaomi_miio.markdown" target="_blank" title="Edit this page"><iconify-icon inline icon="mdi:edit"></iconify-icon> Edit</a></li>
    
    <li><a href="https://github.com/home-assistant/home-assistant.io/issues/new?template=feedback.yml&amp;url=https%3A%2F%2Fivangrod.github.io%2Fintegrations%2Fxiaomi_miio%2F&amp;version=2025.9.4&amp;labels=current,integration%3A%20xiaomi_miio" target="_blank" title="Provide feedback on this page"><iconify-icon inline icon="mdi:comment-edit-outline"></iconify-icon> Provide feedback</a></li>
    <li><a href="https://github.com/home-assistant/home-assistant.io/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3A%22integration%3A+xiaomi_miio%22" target="_blank" title="View pending feedback for this page"><iconify-icon inline icon="mdi:comment-text-multiple-outline"></iconify-icon> View pending feedback</a></li>
    
  </ul>
  </div>
</div>


</article>

            
          </div>


          
            
              <aside id="integration-sidebar" class="grid__item one-third desk-wide-one-quarter lap-one-whole palm-one-whole">
              
            <div class="grid">
  




  


<section class="aside-module grid__item one-whole lap-one-half">
  <div class='brand-logo-container section'>
      <img src='https://brands.home-assistant.io/_/xiaomi_miio//logo.png' srcset='https://brands.home-assistant.io/_/xiaomi_miio/logo@2x.png 2x' /><a href='https://my.home-assistant.io/redirect/config_flow_start?domain=xiaomi_miio' class='my badge' target='_blank'><img src='https://my.home-assistant.io/badges/config_flow_start.svg' /></a></div>

  <div class='section'>The Xiaomi Home  integration  was introduced in Home Assistant 0.51, and it's used by <a title="Open analytics.home-assistant.io" href="https://analytics.home-assistant.io/integrations" target="_blank" rel="noopener">
        
          3.7%</a> of the active installations.
        
      
    
  </div>
    <div class='section'>
      <iconify-icon icon='mdi:download-network-outline'></iconify-icon>&nbsp;Its IoT class is <a href='/blog/2016/02/12/classifying-the-internet-of-things/#classifiers'>Local Polling.</a>
    </div>
  <div class='section'>
    <a href="https://github.com/home-assistant/core/tree/dev/homeassistant/components/xiaomi_miio" target="_blank"><iconify-icon inline icon='simple-icons:github' title='Github'></iconify-icon> View source on GitHub</a><br />
    <a href="https://github.com/home-assistant/core/issues?q=is%3Aissue+is%3Aopen+label%3A%22integration%3A+xiaomi_miio%22" target="_blank"><iconify-icon inline icon='mdi:bug' title='Bug'></iconify-icon> View known issues</a>
  </div></section>

<section class="aside-module grid__item one-whole lap-one-half">
  <div class='section'>
    <h1 class="title epsilon"><iconify-icon inline icon='mdi:person-heart' title='Person heart'></iconify-icon> Integration owners</h1>
    
        
        

          
          <div class="section">
            We are incredibly grateful to the following contributors who currently maintain this integration:<br />
          </div>
          <div class="section"><a href="https://github.com/rytilahti" target="_blank"><img class="codeowner-avatar" src="https://avatars.githubusercontent.com/rytilahti?size=96" alt="@rytilahti"/> @rytilahti</a><br /><a href="https://github.com/syssi" target="_blank"><img class="codeowner-avatar" src="https://avatars.githubusercontent.com/syssi?size=96" alt="@syssi"/> @syssi</a><br /><a href="https://github.com/starkillerOG" target="_blank"><img class="codeowner-avatar" src="https://avatars.githubusercontent.com/starkillerOG?size=96" alt="@starkillerOG"/> @starkillerOG</a><br /></div>
        
    
  </div>
</section>






  <section id="toc-module" class="aside-module grid__item one-whole lap-one-half">
        <div class='section'>
          <h1 class="title epsilon"><iconify-icon inline icon='mdi:toc' title='Toc'></iconify-icon> On this page</h1>
          <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#prerequisites">Prerequisites</a></li>
<li class="toc-entry toc-h2"><a href="#configuration">Configuration</a></li>
<li class="toc-entry toc-h2"><a href="#troubleshooting">Troubleshooting</a></li>
<li class="toc-entry toc-h2"><a href="#xiaomi-gateway">Xiaomi Gateway</a>
<ul>
<li class="toc-entry toc-h3"><a href="#supported-xiaomi-gateway-models">Supported Xiaomi gateway models</a></li>
<li class="toc-entry toc-h3"><a href="#gateway-features">Gateway features</a></li>
<li class="toc-entry toc-h3"><a href="#supported-subdevices">Supported subdevices</a></li>
<li class="toc-entry toc-h3"><a href="#recognized-subdevices-not-yet-implemented">Recognized subdevices (not yet implemented)</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#xiaomi-device-tracker-xiaomi-mi-wifi-repeater-2">Xiaomi device tracker (Xiaomi Mi WiFi Repeater 2)</a></li>
<li class="toc-entry toc-h2"><a href="#xiaomi-air-purifier-air-humidifier-and-standing-fan">Xiaomi Air Purifier, Air Humidifier and Standing Fan</a>
<ul>
<li class="toc-entry toc-h3"><a href="#air-purifier-pro-zhimiairpurifierv6">Air Purifier Pro (zhimi.airpurifier.v6)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-pro-v7-zhimiairpurifierv7">Air Purifier Pro V7 (zhimi.airpurifier.v7)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-ma2-zhimiairpurifierma2">Air Purifier MA2 (zhimi.airpurifier.ma2)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-2s-zhimiairpurifiermc1">Air Purifier 2S (zhimi.airpurifier.mc1)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-33h-2019-zhimiairpurifierma4-zhimiairpurifiermb3">Air Purifier 3/3H (2019) (zhimi.airpurifier.ma4, zhimi.airpurifier.mb3)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-pro-h-pro-h-eu-zhimiairpurifierva1-zhimiairpurifiervb2">Air Purifier Pro H, Pro H EU (zhimi.airpurifier.va1, zhimi.airpurifier.vb2)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-3c-zhimiairpurifiermb4-zhimiairpmb4a">Air Purifier 3C (zhimi.airpurifier.mb4, zhimi.airp.mb4a)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-za1-zhimiairpurifierza1">Air Purifier ZA1 (zhimi.airpurifier.za1)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-v3-zhimiairpurifierv3">Air Purifier V3 (zhimi.airpurifier.v3)</a></li>
<li class="toc-entry toc-h3"><a href="#air-purifier-44-pro-zhimiairpmb5-zhimiairpvb4">Air Purifier 4/4 PRO (zhimi.airp.mb5, zhimi.airp.vb4)</a></li>
<li class="toc-entry toc-h3"><a href="#air-fresh-a1-dmakerairfresha1">Air Fresh A1 (dmaker.airfresh.a1)</a></li>
<li class="toc-entry toc-h3"><a href="#air-fresh-va2">Air Fresh VA2</a></li>
<li class="toc-entry toc-h3"><a href="#air-fresh-va4">Air Fresh VA4</a></li>
<li class="toc-entry toc-h3"><a href="#air-fresh-t2017-dmakerairfresht2017">Air Fresh T2017 (dmaker.airfresh.t2017)</a></li>
<li class="toc-entry toc-h3"><a href="#air-humidifier-zhimihumidifierv1">Air Humidifier (zhimi.humidifier.v1)</a></li>
<li class="toc-entry toc-h3"><a href="#air-humidifier-ca-zhimihumidifierca1">Air Humidifier CA (zhimi.humidifier.ca1)</a></li>
<li class="toc-entry toc-h3"><a href="#air-humidifier-ca-zhimihumidifierca4">Air Humidifier CA (zhimi.humidifier.ca4)</a></li>
<li class="toc-entry toc-h3"><a href="#air-humidifier-cb-zhimihumidifiercb1">Air Humidifier CB (zhimi.humidifier.cb1)</a></li>
<li class="toc-entry toc-h3"><a href="#air-humidifier-jsqjsq1mjjsq-deermahumidifierjsq-deermahumidifierjsq1-deermahumidifiermjjsq">Air Humidifier JSQ/JSQ1/MJJSQ (deerma.humidifier.jsq, deerma.humidifier.jsq1, deerma.humidifier.mjjsq)</a></li>
<li class="toc-entry toc-h3"><a href="#standing-fan-1x-dmakerfanp5">Standing Fan 1X (dmaker.fan.p5)</a></li>
<li class="toc-entry toc-h3"><a href="#standing-fan-zhimifanza1-zhimifanza3-zhimifanza4-zhimifansa1">Standing Fan (zhimi.fan.za1, zhimi.fan.za3, zhimi.fan.za4, zhimi.fan.sa1)</a></li>
<li class="toc-entry toc-h3"><a href="#dc-pedestal-fan-zhimifanv2-zhimifanv3">DC Pedestal Fan (zhimi.fan.v2, zhimi.fan.v3)</a></li>
<li class="toc-entry toc-h3"><a href="#standing-fan-1c-dmakerfan1c">Standing Fan 1C (dmaker.fan.1c)</a></li>
<li class="toc-entry toc-h3"><a href="#tower-fanstanding-fan-2standing-fan-pro-dmakerfanp9-dmakerfanp10-dmakerfanp11-dmakerfanp18">Tower Fan/Standing Fan 2/Standing Fan Pro (dmaker.fan.p9, dmaker.fan.p10, dmaker.fan.p11, dmaker.fan.p18)</a></li>
<li class="toc-entry toc-h3"><a href="#standing-fan-3-zhimifanza5">Standing Fan 3 (zhimi.fan.za5)</a></li>
<li class="toc-entry toc-h3"><a href="#actions">Actions</a></li>
<li class="toc-entry toc-h3"><a href="#action-humidifierset_humidity">Action humidifier.set_humidity</a></li>
<li class="toc-entry toc-h3"><a href="#action-humidifierset_mode">Action humidifier.set_mode</a></li>
<li class="toc-entry toc-h3"><a href="#action-fanset_preset_mode">Action fan.set_preset_mode</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiofan_reset_filter-air-purifier-2-only">Action xiaomi_miio.fan_reset_filter (Air Purifier 2 only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiofan_set_extra_features-air-purifier-only">Action xiaomi_miio.fan_set_extra_features (Air Purifier only)</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#xiaomi-air-quality-monitor">Xiaomi Air Quality Monitor</a></li>
<li class="toc-entry toc-h2"><a href="#xiaomi-ir-remote">Xiaomi IR Remote</a>
<ul>
<li class="toc-entry toc-h3"><a href="#setup">Setup</a></li>
<li class="toc-entry toc-h3"><a href="#configuring-the-platform">Configuring the Platform</a></li>
<li class="toc-entry toc-h3"><a href="#full-configuration">Full Configuration</a></li>
<li class="toc-entry toc-h3"><a href="#add-command-as-entity-button-to-a-dashboard">Add command as entity button to a dashboard</a></li>
<li class="toc-entry toc-h3"><a href="#use-named-commands-to-create-ui-buttons">Use named commands to create UI buttons</a></li>
<li class="toc-entry toc-h3"><a href="#command-types">Command Types</a></li>
<li class="toc-entry toc-h3"><a href="#raw">Raw</a></li>
<li class="toc-entry toc-h3"><a href="#pronto-hex-code">Pronto Hex Code</a></li>
<li class="toc-entry toc-h3"><a href="#actions-1">Actions</a></li>
<li class="toc-entry toc-h3"><a href="#remotesend_command">remote.send_command</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi_miioremote_learn_command">xiaomi_miio.remote_learn_command</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi_miioremote_set_led_on">xiaomi_miio.remote_set_led_on</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi_miioremote_set_led_off">xiaomi_miio.remote_set_led_off</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#xiaomi-mi-robot-vacuum">Xiaomi Mi Robot Vacuum</a>
<ul>
<li class="toc-entry toc-h3"><a href="#actions-2">Actions</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuum_clean_zone">Action xiaomi_miio.vacuum_clean_zone</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuum_clean_segment">Action xiaomi_miio.vacuum_clean_segment</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuum_goto">Action xiaomi_miio.vacuum_goto</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuum_remote_control_start">Action xiaomi_miio.vacuum_remote_control_start</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuum_remote_control_stop">Action xiaomi_miio.vacuum_remote_control_stop</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuunm_remote_control_move">Action xiaomi_miio.vacuuNm_remote_control_move</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiovacuum_remote_control_move_step">Action xiaomi_miio.vacuum_remote_control_move_step</a></li>
<li class="toc-entry toc-h3"><a href="#buttons">Buttons</a></li>
<li class="toc-entry toc-h3"><a href="#sensors">Sensors</a></li>
<li class="toc-entry toc-h3"><a href="#attributes">Attributes</a></li>
<li class="toc-entry toc-h3"><a href="#example-on-how-to-clean-a-specific-room">Example on how to clean a specific room</a></li>
<li class="toc-entry toc-h3"><a href="#example-on-how-to-reset-maintenance-hours-brushes-filter-sensors">Example on how to reset maintenance hours (brushes, filter, sensors)</a></li>
<li class="toc-entry toc-h3"><a href="#retrieving-zoned-cleaning-coordinates">Retrieving Zoned Cleaning Coordinates</a></li>
<li class="toc-entry toc-h3"><a href="#using-flolevac-android">Using FloleVac (Android)</a></li>
<li class="toc-entry toc-h3"><a href="#using-roborock-control-center-requires-valetudo-firmware">Using RoboRock Control Center (requires Valetudo firmware)</a></li>
<li class="toc-entry toc-h3"><a href="#retrieving-room-numbers">Retrieving Room numbers</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#xiaomi-philips-light">Xiaomi Philips Light</a>
<ul>
<li class="toc-entry toc-h3"><a href="#features">Features</a></li>
<li class="toc-entry toc-h3"><a href="#philips-led-ball-lamp-philips-zhirui-led-candle-lamp-and-philips-zhirui-downlight">Philips LED Ball Lamp, Philips Zhirui LED Candle Lamp and Philips Zhirui Downlight</a></li>
<li class="toc-entry toc-h3"><a href="#philips-led-ceiling-lamp">Philips LED Ceiling Lamp</a></li>
<li class="toc-entry toc-h3"><a href="#philips-eyecare-smart-lamp-2">Philips Eyecare Smart Lamp 2</a></li>
<li class="toc-entry toc-h3"><a href="#philips-zhirui-desk-lamp">Philips Zhirui Desk Lamp</a></li>
<li class="toc-entry toc-h3"><a href="#philips-moonlight-bedside-lamp">Philips Moonlight Bedside Lamp</a></li>
<li class="toc-entry toc-h3"><a href="#actions-3">Actions</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_set_scene">Action xiaomi_miio.light_set_scene</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_set_delayed_turn_off">Action xiaomi_miio.light_set_delayed_turn_off</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_reminder_on-eyecare-smart-lamp-2-only">Action xiaomi_miio.light_reminder_on (Eyecare Smart Lamp 2 only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_reminder_off-eyecare-smart-lamp-2-only">Action xiaomi_miio.light_reminder_off (Eyecare Smart Lamp 2 only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_night_light_mode_on-eyecare-smart-lamp-2-only">Action xiaomi_miio.light_night_light_mode_on (Eyecare Smart Lamp 2 only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_night_light_mode_off-eyecare-smart-lamp-2-only">Action xiaomi_miio.light_night_light_mode_off (Eyecare Smart Lamp 2 only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_eyecare_mode_on-eyecare-smart-lamp-2-only">Action xiaomi_miio.light_eyecare_mode_on (Eyecare Smart Lamp 2 only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miiolight_eyecare_mode_off-eyecare-smart-lamp-2-only">Action xiaomi_miio.light_eyecare_mode_off (Eyecare Smart Lamp 2 only)</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#xiaomi-smart-wifi-socket-and-smart-power-strip">Xiaomi Smart WiFi Socket and Smart Power Strip</a>
<ul>
<li class="toc-entry toc-h3"><a href="#features-1">Features</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi-smart-wifi-socket">Xiaomi Smart WiFi Socket</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi-chuangmi-plug-v1">Xiaomi Chuangmi Plug V1</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi-smart-power-strip">Xiaomi Smart Power Strip</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi-air-conditioning-companion-v3">Xiaomi Air Conditioning Companion V3</a></li>
<li class="toc-entry toc-h3"><a href="#actions-4">Actions</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miioswitch_set_wifi_led_on-power-strip-only">Action xiaomi_miio.switch_set_wifi_led_on (Power Strip only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miioswitch_set_wifi_led_off-power-strip-only">Action xiaomi_miio.switch_set_wifi_led_off (Power Strip only)</a></li>
<li class="toc-entry toc-h3"><a href="#action-xiaomi_miioswitch_set_power_mode-power-strip-v1-only">Action xiaomi_miio.switch_set_power_mode (Power Strip V1 only)</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#retrieving-the-access-token">Retrieving the Access Token</a>
<ul>
<li class="toc-entry toc-h3"><a href="#xiaomi-cloud-tokens-extractor">Xiaomi Cloud Tokens Extractor</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi-home-app-xiaomi-aqara-gateway-android--ios">Xiaomi Home app (Xiaomi Aqara Gateway, Android &amp; iOS)</a></li>
<li class="toc-entry toc-h3"><a href="#using-get-mi-home-devices-token-app">Using Get Mi Home Devices Token App</a></li>
<li class="toc-entry toc-h3"><a href="#alternative-methods">Alternative methods</a></li>
<li class="toc-entry toc-h3"><a href="#android-not-rooted">Android (not rooted)</a></li>
<li class="toc-entry toc-h3"><a href="#linux-and-rooted-android">Linux and Rooted Android</a></li>
<li class="toc-entry toc-h3"><a href="#ios">iOS</a></li>
<li class="toc-entry toc-h3"><a href="#bluestacks">Bluestacks</a></li>
<li class="toc-entry toc-h3"><a href="#miio-command-line-tool">Miio command line tool</a></li>
<li class="toc-entry toc-h3"><a href="#xiaomi-cloud-tokens-extractor-1">Xiaomi Cloud Tokens Extractor</a></li>
</ul>
</li>
</ul>
        </div>
      </section><section id="category-module" class="aside-module grid__item one-whole lap-one-half">
      <div class='section'>
        <h1 class="title epsilon"><iconify-icon inline icon='mdi:category' title='Category'></iconify-icon> Categories</h1>
        <ul class='divided'><li>
            <a href='/integrations/#alarm'>Alarm</a>
          </li><li>
            <a href='/integrations/#fan'>Fan</a>
          </li><li>
            <a href='/integrations/#health'>Health</a>
          </li><li>
            <a href='/integrations/#hub'>Hub</a>
          </li><li>
            <a href='/integrations/#light'>Light</a>
          </li><li>
            <a href='/integrations/#presence-detection'>Presence detection</a>
          </li><li>
            <a href='/integrations/#remote'>Remote</a>
          </li><li>
            <a href='/integrations/#vacuum'>Vacuum</a>
          </li></ul>
      </div>
    </section></div>

          </aside>
          
        </div>
      </div>

      <footer>
        <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="skyline grid">
        <div class="skyline grid__item one-whole">
          <div class="footer-skyline">
          </div>
        </div>
      </div>
      <div class="footer-nav grid">
        <div class="company grid__item one-quarter lap-one-half palm-one-whole">
          <div class="title">
            <img
              src="/needlehack-blog/images/footer-logo-text.svg"
              height="72"
              alt="Home Assistant"
            />
          </div>
          <p>
            Home Assistant is a project from the <a href="https://www.openhomefoundation.org/">Open Home Foundation</a>, sponsored by <a href="https://www.nabucasa.com/">Nabu Casa</a>.
          </p>
        </div>

        <div class="grid__item one-quarter lap-one-half palm-one-whole">
          <h3>Join us and contribute!</h3>
          <ul>
            <li><a class="external-link" href="https://github.com/home-assistant/">GitHub repo <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://developers.home-assistant.io">Developers Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://design.home-assistant.io">Design Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://data.home-assistant.io">Data Science Portal <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://community.home-assistant.io">Community Forum <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://creators.home-assistant.io/">Creator Network <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a class="external-link" href="https://works-with.home-assistant.io/">Works With Home Assistant <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></li>
            <li><a href="/needlehack-blog/community">Our community</li>
            <li><a href="/needlehack-blog/help/reporting_issues/">Reporting issues</a></li>
          </ul>
          <h3>System status</h3>
          <ul>
            <li>
              <a class="external-link"  href="https://alerts.home-assistant.io">Integration Alerts <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
            </li>
            <li><a href="/needlehack-blog/security/">Security Alerts</a></li>
            <li>
              <a class="external-link" href="https://status.home-assistant.io">System Status <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a>
            </li>
          </ul>
        </div>

        <div class="grid__item one-quarter lap-one-half palm-one-whole">
          <h3>Companion apps</h3>
          <ul>
            <li><a class="external-link" href="https://apps.apple.com/us/app/home-assistant/id1099568401">iOS and Apple devices</a></li>
            <li><a class="external-link" href="https://play.google.com/store/apps/details?id=io.homeassistant.companion.android">Android and Wear OS</a></li>
            <li><a class="external-link" href="https://companion.home-assistant.io/">...and more!</a></li>
          </ul>
          <h3>Governance</h3>
          <ul>
            <li><a href="/needlehack-blog/privacy/">Privacy Notices</a></li>
            <li><a href="/needlehack-blog/developers/cla/">Contributor License Agreement</a></li>
            <li><a href="/needlehack-blog/tos/">Terms of Service</a></li>
            <li><a href="/needlehack-blog/code_of_conduct/">Code of Conduct</a></li>
            <li><a href="/needlehack-blog/developers/credits/">Credits</a></li>
            <li><a href="/needlehack-blog/developers/license/">License</a></li>
          </ul>
        </div>

        <div class="socials grid__item one-quarter lap-one-half palm-one-whole">

          <h3>Follow us</h3>
          <p><a class="external-link" href='https://newsletter.openhomefoundation.org/#/portal'>Sign up for our newsletter <iconify-icon inline icon='tabler:external-link' title='External link'></iconify-icon></a></p>
          <div class="icons">
            <a
              rel="me"
              href="https://youtube.com/@home_assistant"
              title="YouTube"
              target="_blank"
              ><iconify-icon icon="simple-icons:youtube"></iconify-icon></a>
            <a
              rel="me"
              href="https://reddit.com/r/homeassistant"
              title="Reddit"
              target="_blank"
              ><iconify-icon icon="simple-icons:reddit"></iconify-icon></a>
            <a
              rel="me"
              href="https://github.com/home-assistant/home-assistant"
              title="GitHub"
              target="_blank"
              ><iconify-icon icon="simple-icons:github"></iconify-icon></a>
            <br />
            <a
              rel="me"
              href="https://fosstodon.org/@homeassistant"
              title="Mastodon"
              target="_blank"
              ><iconify-icon icon="simple-icons:mastodon"></iconify-icon></a>
            <a
              rel="me"
              href="https://bsky.app/profile/home-assistant.io"
              title="Bluesky"
              target="_blank"
             ><iconify-icon icon="simple-icons:bluesky"></iconify-icon></a>
            <a
              rel="me"
              href="https://x.com/home_assistant"
              title="X"
              target="_blank"
             ><iconify-icon icon="simple-icons:x"></iconify-icon></a>
            <br />
            <a
              rel="me"
              href="https://www.facebook.com/homeassistantio"
              title="Facebook"
              target="_blank"
              ><iconify-icon icon="simple-icons:facebook"></iconify-icon></a>
            <a
              rel="me"
              href="https://www.instagram.com/homeassistant/"
              title="Instagram"
              target="_blank"
              ><iconify-icon icon="simple-icons:instagram"></iconify-icon></a>
            <a
              rel="me"
              href="https://www.linkedin.com/company/home-assistant"
              title="LinkedIn"
              target="_blank"
              ><iconify-icon icon="simple-icons:linkedin"></iconify-icon></a>
          </div>

          <div class="web-notice">
            <p>
              For partnership inquiries please check out <a href="https://works-with.home-assistant.io/">Works With Home Assistant</a>. For media, get in touch <a href="mailto:media@openhomefoundation.org">here</a>. For other questions, you can contact us <a href="mailto:hello@home-assistant.io">here</a> (No technical support!)
            </p>
            <p>
              Website powered by <a href="https://jekyllrb.com/">Jekyll</a><br />
              Originally based on the <a href="https://github.com/coogie/oscailte">Oscailte theme</a>
            </p>
            <a href="https://www.netlify.com">
              <img
                src="/needlehack-blog/images/frontpage/netlify.svg"
                alt="Deploys by Netlify Badge"
              />
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

      </footer>

    </div>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@justinribeiro/lite-youtube@1.3.1/lite-youtube.js"></script>

<script src="/javascripts/terminology_tooltip.js?274cec0734bc752f0e5ea3d4e2e59858" type="text/javascript" defer></script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript" defer></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3/dist/umd/index.min.js"></script>
<script type="text/javascript">
  docsearch({
    container: '#docsearch',
    appId: 'FBHBYS3J0U',
    indexName: 'home-assistant',
    apiKey: "ba6f7e6d97b3d3d2f778978c742a47c6",
  });
  document.querySelector('.site-title').addEventListener('contextmenu', function (ev) {
    ev.preventDefault();
    document.location.assign("https://design.home-assistant.io/#brand/logo")
  });
</script>




<script type="text/javascript">
  {
    const article = document.querySelector("article.post");
    if (article) {
      const iframes = article.querySelectorAll("iframe[data-src]");
      let loaded = false;
      if (iframes) {
        document.addEventListener('mousemove', loadLazyFrames, { passive: true, once: true });
        document.addEventListener('touchmove', loadLazyFrames, { passive: true, once: true });
        document.addEventListener('scroll', loadLazyFrames, { passive: true, once: true });
  
        function loadLazyFrames() {
          if (loaded) return;
          loaded = true;
  
          iframes.forEach((iframe) => {
            const src = iframe.getAttribute("data-src");
            if (src) {
              iframe.setAttribute("src", src);
              iframe.removeAttribute("data-src");
            }
          });
        }
      }
    }
  }
</script>

  </body>
</html>
